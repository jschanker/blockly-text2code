"use strict";var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==(void 0===t?"undefined":_typeof(t))&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=21)}([function(t,e,n){function o(t,e,n){var o=t&&t.getInput(e),r=n&&n.outputConnection;o&&r&&o.connection.connect(r)}function r(t){Blockly.Xml.clearWorkspaceAndLoadFromXml(Blockly.Xml.workspaceToDom(t),t),Blockly.svgResize(t)}function i(t,e){t.nextConnection&&e.previousConnection&&t.nextConnection.connect(e.previousConnection)}function a(t,e){var n=t.newBlock(e);return n.initSvg(),n.moveTo(new Blockly.utils.Coordinate(t.getMetrics().viewLeft,t.getMetrics().viewTop)),n}function s(t,e){t&&e&&e.moveBy(t.getRelativeToSurfaceXY().x-e.getRelativeToSurfaceXY().x,t.getRelativeToSurfaceXY().y-e.getRelativeToSurfaceXY().y)}function l(t){var e=t.getMetrics();return t.getAllBlocks().filter((function(t){var n=t.getBoundingRectangle();return n.left<e.viewLeft||n.right>e.viewLeft+e.viewWidth||n.top<e.viewTop||n.bottom>e.viewTop+e.viewHeight}))}function u(t){var e=T2C.MSG.currentLanguage===T2C.MSG.PY?"Python":"JavaScript";l(t).filter((function(t){return t.getParent()&&!t.nextConnection&&!t.isCollapsed()})).slice().forEach((function(n){if(!n.isDisposed()){var o=a(t,"code_expression");c(o,Blockly[e].blockToCode(n)[0]||Blockly[e].blockToCode(n),"EXP"),o.setCollapsed(!0),n.getParent().getInputWithBlock(n).connection.connect(o.outputConnection),n.dispose(!0)}})),r(t),l(t).length>0&&t.zoomToFit()}function c(t,e,n){var o=t.workspace,r=e;t.type.toLowerCase().startsWith("variables_")&&"VAR"===n&&(r=-1===o.getAllVariableNames().indexOf(e)?o.createVariable(e).getId():o.getVariable(e).getId()),t.setFieldValue(r,n)}function g(t){if(!t)return null;for(var e=t.getParent();e&&!e.previousConnection;)e=e.getParent();return e}function d(t){for(var e=t;!e.nextConnection&&e.getParent();)e=e.getParent();for(;e.getNextBlock();)e=e.getNextBlock();return e}function h(t,e,n){var o=t.getParent(),r=null,i=null,a=-1,s=null;return t.inputList.forEach((function(t){t.fieldRow.forEach((function(t){e.getField(t.name)&&c(e,t.getValue(),t.name)}))})),o?(a=(i=(r=o.getInputWithBlock(t))?r.connection:o.nextConnection).targetConnection.type)===Blockly.OUTPUT_VALUE?i.connect(e.outputConnection):a===Blockly.PREVIOUS_STATEMENT&&(s=e.previousConnection):e.moveBy(t.getRelativeToSurfaceXY().x-e.getRelativeToSurfaceXY().x,t.getRelativeToSurfaceXY().y-e.getRelativeToSurfaceXY().y),t.getChildren().slice().forEach((function(n){if(t.getNextBlock()!==n){var o=t.getInputWithBlock(n),r=e.getInput(o.name);r&&(o=r.connection.connect(n.outputConnection))}else d(e).nextConnection&&d(e).nextConnection.connect(n.previousConnection)})),s&&i.connect(s),n&&t.dispose(),e}n.d(e,"j",(function(){return o})),n.d(e,"f",(function(){return r})),n.d(e,"i",(function(){return i})),n.d(e,"e",(function(){return a})),n.d(e,"d",(function(){return s})),n.d(e,"a",(function(){return u})),n.d(e,"h",(function(){return c})),n.d(e,"c",(function(){return g})),n.d(e,"b",(function(){return d})),n.d(e,"g",(function(){return h}))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"getParseTree",(function(){return getParseTree})),__webpack_require__.d(__webpack_exports__,"handleParseTreeToBlocks",(function(){return handleParseTreeToBlocks})),__webpack_require__.d(__webpack_exports__,"parseAndConvertToBlocks",(function(){return parseAndConvertToBlocks})),__webpack_require__.d(__webpack_exports__,"workspaceToLanguageCode",(function(){return workspaceToLanguageCode})),__webpack_require__.d(__webpack_exports__,"workspaceToXML",(function(){return workspaceToXML}));var _grammar_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5),_tokenizer_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8),_parser_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(12),_parse_tree_block_connector_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_block_interpretations_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),_block_evaluator_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(10),_block_generator_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7),_block_converters_javascript_text_exact_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(11),_block_utility_functions_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(0);Blockly.COLLAPSE_CHARS=200;var isMobile=Blockly.utils.userAgent.MOBILE||Blockly.utils.userAgent.ANDROID||Blockly.utils.userAgent.IPAD,getParseTree=function(t){console.warn("Attempting to parse",t);var e=T2C.MSG&&T2C.MSG.currentLanguage===T2C.MSG.PY?t.replace(/[\r\n]+/g,";"):t,n=shared.parser.parseBottomUpCYK(e,shared.parseTreeBlockConnector)[0];return n&&console.log("Parse Tree:",n),n},handleParseTreeToBlocks=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=shared.evaluator.evaluate(t);console.log("Evaluation: ",o,e),e=e||Object(_block_utility_functions_js__WEBPACK_IMPORTED_MODULE_8__.e)(shared.workspace);var r=Object(_block_generator_js__WEBPACK_IMPORTED_MODULE_6__.a)(o,e,n);return console.log(r),r},parseAndConvertToBlocks=function(t,e){if(console.warn(e.type,e),!this.isCollapsed()&&(t.updateAutocomplete&&t.updateAutocomplete(this.getFieldValue("EXP"),t.OPTIONS,t.shownOPTIONS,(function(t){return console.warn("Parsing Partial",t),shared.parser.parseBottomUpCYK(t,shared.parseTreeBlockConnector).length>0})),this.getFieldValue("AUTOCPLT")&&Object(_block_utility_functions_js__WEBPACK_IMPORTED_MODULE_8__.h)(this,this.getFieldValue("AUTOCPLT")+"\n","EXP"),t.editing&&(this.getFieldValue("EXP").endsWith("\r")||this.getFieldValue("EXP").endsWith("\n"))||t.editing&&"workspaceClick"===e.element)){var n=getParseTree(this.getFieldValue("EXP"));if(n){t.editing=!1;var o=handleParseTreeToBlocks(n,this,!1);shared.workspace.getAllBlocks().filter((function(t){return!t.getParent()&&("code_expression"===t.type||"code_statement"===t.type)})).forEach((function(t){return t.dispose()}));var r=shared.workspace.getAllBlocks().find((function(t){return"code_expression"===t.type||"code_statement"===t.type}));if(r)Object(_block_utility_functions_js__WEBPACK_IMPORTED_MODULE_8__.a)(shared.workspace),r=shared.workspace.getAllBlocks().find((function(t){return"code_expression"===t.type||"code_statement"===t.type})),isMobile||r.getField("EXP").showEditor_();else{console.warn("Replacing block",o);var i=Object(_block_utility_functions_js__WEBPACK_IMPORTED_MODULE_8__.b)(o),a=Object(_block_utility_functions_js__WEBPACK_IMPORTED_MODULE_8__.e)(shared.workspace,"code_statement");i.nextConnection&&Object(_block_utility_functions_js__WEBPACK_IMPORTED_MODULE_8__.i)(i,a),Object(_block_utility_functions_js__WEBPACK_IMPORTED_MODULE_8__.f)(shared.workspace),Object(_block_utility_functions_js__WEBPACK_IMPORTED_MODULE_8__.a)(shared.workspace),a=shared.workspace.getAllBlocks().find((function(t){return"code_statement"===t.type})),isMobile||a.getField("EXP").showEditor_()}}else t.editing&&"workspaceClick"===e.element&&alert("There seems to be a problem with the code you entered.  Check that your spelling is correct, that you use lowercase and capital letters as required, that every open parenthesis ( has a matching closed one ), that you use quotation marks as needed, and other potential issues with syntax.")}};function varsToLets(t){var e=t.indexOf("var")+4,n=t.indexOf(";",e),o=[],r=t;return e>3&&(o=t.substring(e,n).split(", "),r=t.substring(0,e-4)+t.substring(n+1)),o.forEach((function(t){r=r.replace("\n"+t+" = ","\nlet "+t+" = ")})),r.trim()}var workspaceToLanguageCode=function(t,e){var n=e===T2C.MSG.PY?"Python":"JavaScript";Blockly.Python.tempFinish=Blockly.Python.finish,Blockly.Python.finish=function(t){return t};var o=Blockly[n].workspaceToCode(t||Blockly.getMainWorkspace());return Blockly.Python.finish=Blockly.Python.tempFinish,"Python"===n?o:varsToLets(o)},workspaceToXML=function(t){var e=Blockly.Xml.workspaceToDom(t||Blockly.getMainWorkspace());return Blockly.Xml.domToPrettyText(e)},shared=function(){var init=function(){window.addEventListener("DOMContentLoaded",(function(t){if(!document.getElementById("blockly-div").getAttribute("hasWorkspace")){document.getElementById("blockly-div").setAttribute("hasWorkspace",!0),shared.toolbox=document.getElementById("toolbox");var e={toolbox:toolbox,collapse:!0,comments:!1,disable:!1,maxBlocks:1/0,trashcan:!0,horizontalLayout:!0,toolboxPosition:"start",css:!0,media:"https://blockly-demo.appspot.com/static/media/",rtl:!1,scrollbars:!0,sounds:!0,oneBasedIndex:!0,zoom:{controls:!0,startScale:Math.min(window.innerWidth/800,1),minScale:Math.min(window.innerWidth/800,.3)}};shared.workspace=Blockly.inject("blockly-div",e),console.warn(shared.workspace.getWidth()),Object(_block_utility_functions_js__WEBPACK_IMPORTED_MODULE_8__.e)(shared.workspace,"code_statement"),Object(_block_utility_functions_js__WEBPACK_IMPORTED_MODULE_8__.f)(shared.workspace);var n=shared.workspace.getAllBlocks().find((function(t){return"code_statement"===t.type}));isMobile||n.getField("EXP").showEditor_();var o=function(){var t=document.getElementById("language").value;T2C.MSG.currentLanguage=T2C.MSG[t.toUpperCase()],updateToolbox(T2C.MSG.currentLanguage),Blockly.Msg.VARIABLES_SET=T2C.MSG.currentLanguage===T2C.MSG.PY?"%1 = %2":"let %1 = %2;",updateTexts(),Object(_block_utility_functions_js__WEBPACK_IMPORTED_MODULE_8__.f)(shared.workspace||Blockly.getMainWorkspace()),document.getElementById("outputAppearsBelow").innerText=T2C.MSG.currentLanguage.HEADING_OUTPUT_APPEARS_BELOW,document.getElementById("bottomText")&&(document.getElementById("bottomText").innerText=T2C.MSG.currentLanguage.HEADING_BOTTOM_TEXT)};if(window.location&&"string"==typeof window.location.href){var r=window.location.href.indexOf("lang=")+5,i=window.location.href.substring(r,r+2);4!==r&&(document.getElementById("language").value=i,o())}window.addEventListener("resize",(function(){document.getElementById("top-header").style.height=Math.max(.1*window.innerHeight,50)+"px",document.getElementById("all-content").style.height=Math.min(.9*window.innerHeight,window.innerHeight-50)+"px",Blockly.svgResize(shared.workspace)})),document.getElementById("language").addEventListener("change",(function(){o();var t=shared.workspace||Blockly.getMainWorkspace();t.getAllBlocks().forEach(_block_converters_javascript_text_exact_js__WEBPACK_IMPORTED_MODULE_7__.a),Object(_block_utility_functions_js__WEBPACK_IMPORTED_MODULE_8__.f)(t)})),document.getElementById("run-code-button")&&(document.getElementById("run-code-button").addEventListener("click",(function(){document.getElementById("output-container").classList.remove("hide-container"),document.getElementById("output-container").classList.add("show-container"),document.getElementById("consoleDisplay")&&(document.getElementById("consoleDisplay").textContent=""),T2C.MSG.currentLanguage===T2C.MSG.PY&&(T2C.MSG.currentLanguage=T2C.MSG.JS),document.getElementById("textCodeBox").value=runCode(),T2C.MSG.currentLanguage=T2C.MSG[document.getElementById("language").value.toUpperCase()],document.getElementById("xmlData").value=generateXML()})),document.getElementById("save-code-button").addEventListener("click",(function(){document.getElementById("text-code-container").classList.remove("hide-container"),document.getElementById("text-code-container").classList.add("show-container"),document.getElementById("textCodeBox").value=generateCode(),document.getElementById("xmlData").value=generateXML(),document.getElementById("load-save-text-code").textContent=T2C.MSG.currentLanguage.BUTTON_SAVE_TEXT_CODE,document.getElementById("load-save-xml").textContent=T2C.MSG.currentLanguage.BUTTON_SAVE_XML})),document.getElementById("load-code-button").addEventListener("click",(function(){document.getElementById("text-code-container").classList.remove("hide-container"),document.getElementById("text-code-container").classList.add("show-container"),document.getElementById("textCodeBox").value="",document.getElementById("xmlData").value="",document.getElementById("load-save-text-code").textContent=T2C.MSG.currentLanguage.BUTTON_LOAD_TEXT_CODE,document.getElementById("load-save-xml").textContent=T2C.MSG.currentLanguage.BUTTON_LOAD_XML})),document.getElementById("load-save-text-code").addEventListener("click",(function(){if(document.getElementById("load-save-text-code").textContent===T2C.MSG.currentLanguage.BUTTON_LOAD_TEXT_CODE){var t=T2C.MSG.currentLanguage.CONFIRM_CONVERT_TEXT_TO_BLOCKS,e=getParseTree(document.getElementById("textCodeBox").value);e&&confirm(t)?(shared.workspace.clear(),handleParseTreeToBlocks(e)):e||alert("There seems to be a problem with the code you entered.  Check that your spelling is correct, that you use lowercase and capital letters as required, that every open parenthesis ( has a matching closed one ), that you use quotation marks as needed, and other potential issues with syntax.")}else{var n=document.getElementById("textCodeBox").value;navigator.clipboard.writeText(n).then((function(){alert("Code successfully copied to clipboard")}),(function(){document.getElementById("textCodeBox").select(),alert("Code unable to be copied to clipboard.  Please do this manually.")}))}})),document.getElementById("load-save-xml").addEventListener("click",(function(){if(document.getElementById("load-save-xml").textContent===T2C.MSG.currentLanguage.BUTTON_LOAD_XML)generateBlocksFromXML();else{var t=document.getElementById("xmlData").value;navigator.clipboard.writeText(t).then((function(){alert("XML successfully copied to clipboard")}),(function(){document.getElementById("xmlData").select(),alert("XML unable to be copied to clipboard.  Please do this manually.")}))}})),document.getElementById("output-container").addEventListener("click",(function(t){"table-cell"===t.target.className&&(document.getElementById("output-container").classList.remove("show-container"),document.getElementById("output-container").classList.add("hide-container"))})),document.getElementById("text-code-container").addEventListener("click",(function(t){"table-cell"===t.target.className&&(document.getElementById("text-code-container").classList.remove("show-container"),document.getElementById("text-code-container").classList.add("hide-container"))})))}}));var t=new _tokenizer_js__WEBPACK_IMPORTED_MODULE_1__.a(_grammar_js__WEBPACK_IMPORTED_MODULE_0__.b);return{lexer:t,parser:new _parser_js__WEBPACK_IMPORTED_MODULE_2__.a(t,_grammar_js__WEBPACK_IMPORTED_MODULE_0__.a,Object.keys(_block_interpretations_js__WEBPACK_IMPORTED_MODULE_4__.a).concat("statement")),parseTreeBlockConnector:new _parse_tree_block_connector_js__WEBPACK_IMPORTED_MODULE_3__.a,evaluator:new _block_evaluator_js__WEBPACK_IMPORTED_MODULE_5__.a(_block_interpretations_js__WEBPACK_IMPORTED_MODULE_4__.a)}},shared=init();function varsToLets(t){var e=t.indexOf("var")+4,n=t.indexOf(";",e),o=[],r=t;return e>3&&(o=t.substring(e,n).split(", "),r=t.substring(0,e-4)+t.substring(n+1)),o.forEach((function(t){r=r.replace("\n"+t+" = ","\nlet "+t+" = ")})),r.trim()}function generateCode(){return workspaceToLanguageCode(shared.workspace,T2C.MSG.currentLanguage)}function generateXML(){return workspaceToXML(shared.workspace)}function generateBlocksFromXML(){var t=shared.workspace||Blockly.getMainWorkspace(),e=document.getElementById("xmlData").value,n=null;try{n=Blockly.Xml.textToDom(e)}catch(t){if(!window.confirm(t))return}n&&(t.clear(),Blockly.Xml.domToWorkspace(n,t)),Blockly.svgResize(t)}function runCode(){var code=generateCode();console.realLog=console.log;try{document.getElementById("consoleDisplay").textContent="",console.log=function(){document.getElementById("consoleDisplay").appendChild(document.createTextNode(Array.prototype.join.call(arguments," ")+"\n"))},eval(code)}catch(t){-1!=t.toString().indexOf("Reference")?alert(t.toString()+"\nMake sure variables are defined before they're used.  This means the variable definition let ____ = ____ needs to appear ABOVE."):alert(t.toString())}return console.log=console.realLog,code}function updateToolbox(t){shared.workspace.updateToolbox(shared.toolbox)}function updateTexts(){document.getElementById("text-code-container").querySelectorAll("textarea").forEach((function(t){t.placeholder=T2C.MSG.currentLanguage[t.name]}))}return shared}()},function(t,e,n){e.a=function(){function t(e,n){_classCallCheck(this,t),this.lhs_=e,this.rhs_=n}return _createClass(t,[{key:"lhs",get:function(){return this.lhs_}},{key:"rhs",get:function(){return this.rhs_}}]),t}()},function(t,e,n){function o(t,e,n){return t instanceof Array&&e instanceof Array?t.reduce((function(t,o){return t.concat(e.map((function(t){return n?o.concat(t):[o,t]})))}),[]):[]}function r(t){return 0===t.length?[]:1===t.length?t[0].map((function(t){return[t]})):t.reduce((function(t,e,n){return o(t,e,n>1)}))}n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return r}))},function(t,e,n){var o=function(){function t(e){_classCallCheck(this,t),this.blockTemplate_=JSON.parse(e),this.args_=[],this.blockVal_=null}return _createClass(t,[{key:"evaluate_",value:function(e){var n=this;if(e instanceof t)return e;if("string"==typeof e){var o=e.split(/(%\d+)/).map((function(t){var e=t.startsWith("%")&&parseInt(t.substring(1));return e?n.evaluate_(n.args_[e-1]):t}));return o.find((function(e){return e instanceof t}))||o.join("")}if(Array.isArray(e))return e.map(this.evaluate_.bind(this));var r={};return Object.keys(e).forEach((function(t){r[t]=n.evaluate_(e[t])})),r}},{key:"hasBeenSet_",value:function(t){return!/"%(\d+)"/.test(t)}},{key:"keys",value:function(t){var e=this;return this.blockVal_[t].filter((function(t){return e.hasBeenSet_(t)}))}},{key:"args",set:function(t){this.args_=t,this.blockVal_=this.evaluate_(this.blockTemplate_)}},{key:"type",get:function(){return this.blockVal_&&this.blockVal_.type}},{key:"inputs",get:function(){return this.blockVal_&&this.blockVal_.inputs}},{key:"fields",get:function(){return this.blockVal_&&this.blockVal_.fields}},{key:"blocks",get:function(){return this.blockVal_&&this.blockVal_.blocks}}]),t}();e.a=o},function(t,e,n){n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return r}));var o=JSON.parse('{"rules":{"wholeNumberExp":{"wholeNumberSum":["wholeNumberExp","wholeNumberAddMinusOp","wholeNumberTerm"],"wholeNumberTermSingle":["wholeNumberTerm"],"__2__wholeNumberSum":["wholeNumberExp","wholeNumberAddMinusOp"]},"wholeNumberTerm":{"wholeNumberTermSingleGroupedExp":["openParenthesis","wholeNumberTerm","closeParenthesis"],"wholeNumberTermTwoGroupedExp":["openParenthesis","wholeNumberExp","wholeNumberGroupedOp","wholeNumberTerm","closeParenthesis"],"wholeNumberTermProduct":["wholeNumberTerm","wholeNumberTimesDividedByOp","wholeNumberTerm"],"wholeNumberTermAtomic":["wholeNumberAtomic"],"__2__wholeNumberTermSingleGroupedExp":["openParenthesis","wholeNumberTerm"],"__2__wholeNumberTermTwoGroupedExp":["openParenthesis","wholeNumberExp"],"__3__wholeNumberTermTwoGroupedExp":["openParenthesis","wholeNumberExp","wholeNumberGroupedOp"],"__4__wholeNumberTermTwoGroupedExp":["openParenthesis","wholeNumberExp","wholeNumberGroupedOp","wholeNumberTerm"],"__2__wholeNumberTermProduct":["wholeNumberTerm","wholeNumberTimesDividedByOp"]},"wholeNumberAtomic":{"wholeNumberLiteral":"token_","identifierGet":["identifier"],"wholeNumberStringFunc":["stringExpWholeNumber"]},"wholeNumberGroupedOp":{"wholeNumberSumTwo":["wholeNumberAddMinusOp"],"wholeNumberProductTwo":["wholeNumberTimesDividedByOp"]},"wholeNumberAddMinusOp":{"wholeNumberPlus":"+","wholeNumberMinus":"-"},"wholeNumberTimesDividedByOp":{"wholeNumberTimes":"*","wholeNumberDividedBy":"/"},"expression":{"expressionText":["stringExp"],"expressionNumber":["wholeNumberExp"]},"statement":{"statementSingle":["expression"],"statementVariable":["variableStatement"],"statementPrint":["stringDisplay"],"statementSemicolon":["statement","semicolon"],"statementBlockExp":["expression","statementSeparator","statement"],"statementBlockVariable":["variableStatement","statementSeparator","statement"],"statementBlockPrint":["stringDisplay","statementSeparator","statement"]},"statementSeparator":{"semicolonEnd":["semicolon"],"newLineEnd":["newLine"],"carriageReturnEnd":["carriageReturn"],"semicolonMultiSeparator":["semicolon","statementSeparator"],"newLineMultiSeparator":["newLine","statementSeparator"],"carriageReturnMultiSeparator":["carriageReturn","statementSeparator"]},"semicolon":"token_","newLine":"\\n","carriageReturn":"\\r","stringExp":{"identifierGet":["identifier"],"stringGetInputExp":["stringGetInput","openParenthesis","stringExp","closeParenthesis"],"js_stringGetInputExp":["stringPrompt","openParenthesis","stringExp","closeParenthesis"],"stringGroupedExp":["openParenthesis","stringExp","closeParenthesis"],"stringConcatenationFullExpression":["stringExp","plusStr","stringExp"],"stringCharAtFullExpression":["stringExp","dot","getCharacterNumber","openParenthesis","wholeNumberExp","closeParenthesis"],"py_stringCharAtFullExpression":["stringExp","openBracket","wholeNumberExp","closeBracket"],"js_stringCharAtFullExpression":["stringExp","dot","getCharacterNumberJS","openParenthesis","wholeNumberExp","closeParenthesis"],"stringAfterTextFullExpression":["stringExp","dot","getAfterText","openParenthesis","stringExp","closeParenthesis"],"stringBeforeTextFullExpression":["stringExp","dot","getBeforeText","openParenthesis","stringExp","closeParenthesis"],"stringSubstringFullExpression":["stringExp","dot","getTextFrom","openParenthesis","wholeNumberExp","closeParenthesis","dot","getTextTo","openParenthesis","wholeNumberExp","stringSubstringCloseParenthesisOptionalTail"],"py_stringSubstringFullExpression":["stringExp","openBracket","wholeNumberExp","colon","wholeNumberExp","closeBracket"],"js_stringSubstringFullExpression":["stringExp","dot","getSubstringJS","openParenthesis","wholeNumberExp","comma","wholeNumberExp","closeParenthesis"],"stringLiteral":"token_","__2__stringGetInputExp":["stringGetInput","openParenthesis"],"__3__stringGetInputExp":["stringGetInput","openParenthesis","stringExp"],"__2__js_stringGetInputExp":["stringPrompt","openParenthesis"],"__3__js_stringGetInputExp":["stringPrompt","openParenthesis","stringExp"],"__2__stringGroupedExp":["openParenthesis","stringExp"],"__2__stringConcatenationFullExpression":["stringExp","plusStr"],"__2__stringCharAtFullExpression":["stringExp","dot"],"__3__stringCharAtFullExpression":["stringExp","dot","getCharacterNumber"],"__4__stringCharAtFullExpression":["stringExp","dot","getCharacterNumber","openParenthesis"],"__5__stringCharAtFullExpression":["stringExp","dot","getCharacterNumber","openParenthesis","wholeNumberExp"],"__2__py_stringCharAtFullExpression":["stringExp","openBracket"],"__3__py_stringCharAtFullExpression":["stringExp","openBracket","wholeNumberExp"],"__2__js_stringCharAtFullExpression":["stringExp","dot"],"__3__js_stringCharAtFullExpression":["stringExp","dot","getCharacterNumberJS"],"__4__js_stringCharAtFullExpression":["stringExp","dot","getCharacterNumberJS","openParenthesis"],"__5__js_stringCharAtFullExpression":["stringExp","dot","getCharacterNumberJS","openParenthesis","wholeNumberExp"],"__2__stringAfterTextFullExpression":["stringExp","dot"],"__3__stringAfterTextFullExpression":["stringExp","dot","getAfterText"],"__4__stringAfterTextFullExpression":["stringExp","dot","getAfterText","openParenthesis"],"__5__stringAfterTextFullExpression":["stringExp","dot","getAfterText","openParenthesis","stringExp"],"__2__stringBeforeTextFullExpression":["stringExp","dot"],"__3__stringBeforeTextFullExpression":["stringExp","dot","getBeforeText"],"__4__stringBeforeTextFullExpression":["stringExp","dot","getBeforeText","openParenthesis"],"__5__stringBeforeTextFullExpression":["stringExp","dot","getBeforeText","openParenthesis","stringExp"],"__2__stringSubstringFullExpression":["stringExp","dot"],"__3__stringSubstringFullExpression":["stringExp","dot","getTextFrom"],"__4__stringSubstringFullExpression":["stringExp","dot","getTextFrom","openParenthesis"],"__5__stringSubstringFullExpression":["stringExp","dot","getTextFrom","openParenthesis","wholeNumberExp"],"__6__stringSubstringFullExpression":["stringExp","dot","getTextFrom","openParenthesis","wholeNumberExp","closeParenthesis"],"__7__stringSubstringFullExpression":["stringExp","dot","getTextFrom","openParenthesis","wholeNumberExp","closeParenthesis","dot"],"__8__stringSubstringFullExpression":["stringExp","dot","getTextFrom","openParenthesis","wholeNumberExp","closeParenthesis","dot","getTextTo"],"__9__stringSubstringFullExpression":["stringExp","dot","getTextFrom","openParenthesis","wholeNumberExp","closeParenthesis","dot","getTextTo","openParenthesis"],"__10__stringSubstringFullExpression":["stringExp","dot","getTextFrom","openParenthesis","wholeNumberExp","closeParenthesis","dot","getTextTo","openParenthesis","wholeNumberExp"],"__2__py_stringSubstringFullExpression":["stringExp","openBracket"],"__3__py_stringSubstringFullExpression":["stringExp","openBracket","wholeNumberExp"],"__4__py_stringSubstringFullExpression":["stringExp","openBracket","wholeNumberExp","colon"],"__5__py_stringSubstringFullExpression":["stringExp","openBracket","wholeNumberExp","colon","wholeNumberExp"],"__2__js_stringSubstringFullExpression":["stringExp","dot"],"__3__js_stringSubstringFullExpression":["stringExp","dot","getSubstringJS"],"__4__js_stringSubstringFullExpression":["stringExp","dot","getSubstringJS","openParenthesis"],"__5__js_stringSubstringFullExpression":["stringExp","dot","getSubstringJS","openParenthesis","wholeNumberExp"],"__6__js_stringSubstringFullExpression":["stringExp","dot","getSubstringJS","openParenthesis","wholeNumberExp","comma"],"__7__js_stringSubstringFullExpression":["stringExp","dot","getSubstringJS","openParenthesis","wholeNumberExp","comma","wholeNumberExp"]},"stringExpWholeNumber":{"stringFindFirstFullExpression":["stringExp","dot","findFirstOccurrenceOfText","openParenthesis","stringExp","stringFindFirstCloseParenthesisOptionalTail"],"js_stringFindFirstFullExpression":["stringExp","dot","jsIndexOf","openParenthesis","stringExp","closeParenthesis"],"stringExpLength":["stringExp","dot","length"],"py_stringExpLength":["len","openParenthesis","stringExp","closeParenthesis"],"__2__stringFindFirstFullExpression":["stringExp","dot"],"__3__stringFindFirstFullExpression":["stringExp","dot","findFirstOccurrenceOfText"],"__4__stringFindFirstFullExpression":["stringExp","dot","findFirstOccurrenceOfText","openParenthesis"],"__5__stringFindFirstFullExpression":["stringExp","dot","findFirstOccurrenceOfText","openParenthesis","stringExp"],"__2__js_stringFindFirstFullExpression":["stringExp","dot"],"__3__js_stringFindFirstFullExpression":["stringExp","dot","jsIndexOf"],"__4__js_stringFindFirstFullExpression":["stringExp","dot","jsIndexOf","openParenthesis"],"__5__js_stringFindFirstFullExpression":["stringExp","dot","jsIndexOf","openParenthesis","stringExp"],"__2__stringExpLength":["stringExp","dot"],"__2__py_stringExpLength":["len","openParenthesis"],"__3__py_stringExpLength":["len","openParenthesis","stringExp"]},"stringDisplay":{"js_ConsoleLogStatement":["console","dot","log","openParenthesis","expression","closeParenthesis"],"displayStatement":["display","openParenthesis","expression","closeParenthesis"],"__2__js_ConsoleLogStatement":["console","dot"],"__3__js_ConsoleLogStatement":["console","dot","log"],"__4__js_ConsoleLogStatement":["console","dot","log","openParenthesis"],"__5__js_ConsoleLogStatement":["console","dot","log","openParenthesis","expression"],"__2__displayStatement":["display","openParenthesis"],"__3__displayStatement":["display","openParenthesis","expression"]},"stringSubstringCloseParenthesisOptionalTail":{"stringSubstringCloseParenthesisNoTail":["closeParenthesis"],"stringSubstringCloseParenthesisTail":["closeParenthesis","dot","substringTail"],"__2__stringSubstringCloseParenthesisTail":["closeParenthesis","dot"]},"stringFindFirstCloseParenthesisOptionalTail":{"stringFindFirstCloseParenthesisNoTail":["closeParenthesis"],"stringFindFirstCloseParenthesisTail":["closeParenthesis","dot","findFirstTail"],"__2__stringFindFirstCloseParenthesisTail":["closeParenthesis","dot"]},"dot":"token_","console":"console","log":"log","display":"display","openParenthesis":"token_","closeParenthesis":"token_","openBracket":"token_","closeBracket":"token_","comma":"token_","stringGetInput":"getInputByAsking","stringPrompt":"prompt","length":"length","len":"len","getTextFrom":"getTextFromPositionNUMBER","getTextTo":"toPositionNUMBER","getSubstringJS":"substring","jsIndexOf":"indexOf","findFirstOccurrenceOfText":"positionNumberOfTEXT","findLastOccurrenceOfText":"lastPositionNumberOfTEXT","getAfterText":"getAfterTEXT","getBeforeText":"getBeforeTEXT","plusStr":"+","getCharacterNumber":"getCharacterNUMBER","getCharacterNumberJS":"charAt","toNumber":"toNumber","substringTail":"tak_paen","findFirstTail":"ke_sthiti_sankhya","variableStatement":{"variableAssignment":["variablesLet","identifier","equalsSign","expression"],"variableAssignmentNoLet":["identifier","equalsSign","expression"],"__2__variableAssignment":["variablesLet","identifier"],"__3__variableAssignment":["variablesLet","identifier","equalsSign"],"__2__variableAssignmentNoLet":["identifier","equalsSign"]},"variablesLet":"let","equalsSign":"=","identifier":"token_"},"terminals":["wholeNumberPlus","wholeNumberMinus","wholeNumberTimes","wholeNumberDividedBy","semicolon","newLine","carriageReturn","findFirstOccurrenceOfText","jsIndexOf","findLastOccurrenceOfText","getAfterText","getBeforeText","plusStr","getCharacterNumber","getCharacterNumberJS","toNumber","getTextFrom","getSubstringJS","getTextTo","stringGetInput","stringPrompt","console","log","display","length","substringTail","findFirstTail","variablesLet","equalsSign"]}'),r=JSON.parse('{"stringLiteral":{"pattern":"\\"([^\\"]*)\\"|\'([^\']*)\'","order":1},"identifier":{"pattern":"([_\\\\$A-Za-z|ऄ-ह|ऽ|ॐ|क़-ॡ|ॱ-ॿ][\\\\w\\\\$|ऀ-ॣ|०-९|ॱ-ॿ]*)","order":2},"positiveDecimal":{"pattern":"(\\\\d+\\\\.[1-9]\\\\d+)","order":3},"wholeNumberLiteral":{"pattern":"\\\\d+|\\\\d*\\\\.[0]+","order":6},"dot":{"pattern":"(\\\\.)","order":7},"openParenthesis":{"pattern":"(\\\\()","order":8},"closeParenthesis":{"pattern":"(\\\\))","order":9},"openBracket":{"pattern":"(\\\\[)","order":10},"closeBracket":{"pattern":"(\\\\])","order":11},"comma":{"pattern":"(\\\\,)","order":12},"semicolon":{"pattern":"(\\\\;)","order":13},"colon":{"pattern":"(:)","order":14},"negativeDecimalMOVEDFROMFOURFORNOW":{"pattern":"(-\\\\d+\\\\.[1-9]\\\\d+)","order":15},"negativeIntegerMOVEDFROMFIVEFORNOW":{"pattern":"-[1-9]\\\\d*|-[1-9]\\\\d*\\\\.[0]+","order":16}}')},function(t,e,n){n.d(e,"a",(function(){return o}));var o=JSON.parse('{"wholeNumberLiteral":{"type":"math_number","fields":{"NUM":"%1"}},"wholeNumberSum":{"type":"math_arithmetic_basic","fields":{"OP":"%2"},"inputs":{"A":"%1","B":"%3"}},"wholeNumberTermTwoGroupedExp":{"type":"math_arithmetic_basic","fields":{"OP":"%3"},"inputs":{"A":"%2","B":"%4"}},"wholeNumberTermProduct":{"type":"math_arithmetic_basic","fields":{"OP":"%2"},"inputs":{"A":"%1","B":"%3"}},"wholeNumberPlus":"ADD","wholeNumberMinus":"MINUS","wholeNumberTimes":"MULTIPLY","wholeNumberDividedBy":"DIVIDE","wholeNumberTermSingleGroupedExp":"%2","statementBlockExp":{"blocks":["%1","%3"]},"statementBlockVariable":{"blocks":["%1","%3"]},"statementBlockPrint":{"blocks":["%1","%3"]},"stringLiteral":{"type":"text","fields":{"TEXT":"%1"}},"stringGetInputExp":{"type":"text_input","inputs":{"TEXT":"%3"}},"js_stringGetInputExp":{"type":"js_text_input","inputs":{"TEXT":"%3"}},"displayStatement":{"type":"text_print","inputs":{"TEXT":"%3"}},"js_ConsoleLogStatement":{"type":"js_text_print","inputs":{"TEXT":"%5"}},"stringExpLength":{"type":"t2c_text_length","inputs":{"VALUE":"%1"}},"py_stringExpLength":{"type":"t2c_text_length","inputs":{"VALUE":"%3"}},"stringFindFirstFullExpression":{"type":"t2c_text_indexof","inputs":{"VALUE":"%1","FIND":"%5"}},"js_stringFindFirstFullExpression":{"type":"js_text_indexof","inputs":{"VALUE":"%1","FIND":"%5"}},"stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":"%5","AT2":"%10"}},"stringCharAtFullExpression":{"type":"%3","inputs":{"VALUE":"%1","AT":"%5"}},"py_stringCharAtFullExpression":{"type":"t2c_text_charat","inputs":{"VALUE":"%1","AT":"%3"}},"js_stringCharAtFullExpression":{"type":"js_text_charat","inputs":{"VALUE":"%1","AT":"%5"}},"py_stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":"%3","AT2":"%5"}},"js_stringSubstringFullExpression":{"type":"js_text_getsubstring","inputs":{"STRING":"%1","AT1":"%5","AT2":"%7"}},"stringAfterTextFullExpression":{"type":"t2c_text_after","inputs":{"TEXT":"%1","SUB":"%5"}},"stringBeforeTextFullExpression":{"type":"t2c_text_before","inputs":{"TEXT":"%1","SUB":"%5"}},"stringConcatenationFullExpression":{"type":"t2c_text_join","inputs":{"A":"%1","B":"%3"}},"stringGroupedExp":"%2","plusStr":"t2c_text_join","findFirstOccurrenceOfText":"t2c_text_indexof","getCharacterNumber":"t2c_text_charat","getCharacterNumberJS":"js_text_charat","getSubstringJS":"js_text_getsubstring","jsIndexOf":"js_text_indexof","getTextFrom":"t2c_text_getsubstring","getAfterText":"t2c_text_after","getBeforeText":"t2c_text_before","identifierGet":{"type":"variables_get","fields":{"VAR":"%1"}},"variableAssignment":{"type":"variables_set","fields":{"VAR":"%2"},"inputs":{"VALUE":"%4"}},"variableAssignmentNoLet":{"type":"variables_set","fields":{"VAR":"%1"},"inputs":{"VALUE":"%3"}},"__2__wholeNumberSum":{"type":"math_arithmetic_basic","fields":{"OP":"%2"},"inputs":{"A":"%1","B":{"type":"code_expression"}}},"__2__wholeNumberTermSingleGroupedExp":"%2","__2__wholeNumberTermTwoGroupedExp":{"type":"math_arithmetic_basic","fields":{"OP":{"type":"code_expression"}},"inputs":{"A":"%2","B":{"type":"code_expression"}}},"__3__wholeNumberTermTwoGroupedExp":{"type":"math_arithmetic_basic","fields":{"OP":"%3"},"inputs":{"A":"%2","B":{"type":"code_expression"}}},"__4__wholeNumberTermTwoGroupedExp":{"type":"math_arithmetic_basic","fields":{"OP":"%3"},"inputs":{"A":"%2","B":"%4"}},"__2__wholeNumberTermProduct":{"type":"math_arithmetic_basic","fields":{"OP":"%2"},"inputs":{"A":"%1","B":{"type":"code_expression"}}},"__2__stringGetInputExp":{"type":"text_input","inputs":{"TEXT":{"type":"code_expression"}}},"__3__stringGetInputExp":{"type":"text_input","inputs":{"TEXT":"%3"}},"__2__js_stringGetInputExp":{"type":"js_text_input","inputs":{"TEXT":{"type":"code_expression"}}},"__3__js_stringGetInputExp":{"type":"js_text_input","inputs":{"TEXT":"%3"}},"__2__stringGroupedExp":"%2","__2__stringConcatenationFullExpression":{"type":"t2c_text_join","inputs":{"A":"%1","B":{"type":"code_expression"}}},"__2__stringCharAtFullExpression":{"type":{"type":"code_expression"},"inputs":{"VALUE":"%1","AT":{"type":"code_expression"}}},"__3__stringCharAtFullExpression":{"type":"%3","inputs":{"VALUE":"%1","AT":{"type":"code_expression"}}},"__4__stringCharAtFullExpression":{"type":"%3","inputs":{"VALUE":"%1","AT":{"type":"code_expression"}}},"__5__stringCharAtFullExpression":{"type":"%3","inputs":{"VALUE":"%1","AT":"%5"}},"__2__py_stringCharAtFullExpression":{"type":"t2c_text_charat","inputs":{"VALUE":"%1","AT":{"type":"code_expression"}}},"__3__py_stringCharAtFullExpression":{"type":"t2c_text_charat","inputs":{"VALUE":"%1","AT":"%3"}},"__2__js_stringCharAtFullExpression":{"type":"js_text_charat","inputs":{"VALUE":"%1","AT":{"type":"code_expression"}}},"__3__js_stringCharAtFullExpression":{"type":"js_text_charat","inputs":{"VALUE":"%1","AT":{"type":"code_expression"}}},"__4__js_stringCharAtFullExpression":{"type":"js_text_charat","inputs":{"VALUE":"%1","AT":{"type":"code_expression"}}},"__5__js_stringCharAtFullExpression":{"type":"js_text_charat","inputs":{"VALUE":"%1","AT":"%5"}},"__2__stringAfterTextFullExpression":{"type":"t2c_text_after","inputs":{"TEXT":"%1","SUB":{"type":"code_expression"}}},"__3__stringAfterTextFullExpression":{"type":"t2c_text_after","inputs":{"TEXT":"%1","SUB":{"type":"code_expression"}}},"__4__stringAfterTextFullExpression":{"type":"t2c_text_after","inputs":{"TEXT":"%1","SUB":{"type":"code_expression"}}},"__5__stringAfterTextFullExpression":{"type":"t2c_text_after","inputs":{"TEXT":"%1","SUB":"%5"}},"__2__stringBeforeTextFullExpression":{"type":"t2c_text_before","inputs":{"TEXT":"%1","SUB":{"type":"code_expression"}}},"__3__stringBeforeTextFullExpression":{"type":"t2c_text_before","inputs":{"TEXT":"%1","SUB":{"type":"code_expression"}}},"__4__stringBeforeTextFullExpression":{"type":"t2c_text_before","inputs":{"TEXT":"%1","SUB":{"type":"code_expression"}}},"__5__stringBeforeTextFullExpression":{"type":"t2c_text_before","inputs":{"TEXT":"%1","SUB":"%5"}},"__2__stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":{"type":"code_expression"},"AT2":{"type":"code_expression"}}},"__3__stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":{"type":"code_expression"},"AT2":{"type":"code_expression"}}},"__4__stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":{"type":"code_expression"},"AT2":{"type":"code_expression"}}},"__5__stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":"%5","AT2":{"type":"code_expression"}}},"__6__stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":"%5","AT2":{"type":"code_expression"}}},"__7__stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":"%5","AT2":{"type":"code_expression"}}},"__8__stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":"%5","AT2":{"type":"code_expression"}}},"__9__stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":"%5","AT2":{"type":"code_expression"}}},"__10__stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":"%5","AT2":"%10"}},"__2__py_stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":{"type":"code_expression"},"AT2":{"type":"code_expression"}}},"__3__py_stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":"%3","AT2":{"type":"code_expression"}}},"__4__py_stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":"%3","AT2":{"type":"code_expression"}}},"__5__py_stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":"%3","AT2":"%5"}},"__2__js_stringSubstringFullExpression":{"type":"js_text_getsubstring","inputs":{"STRING":"%1","AT1":{"type":"code_expression"},"AT2":{"type":"code_expression"}}},"__3__js_stringSubstringFullExpression":{"type":"js_text_getsubstring","inputs":{"STRING":"%1","AT1":{"type":"code_expression"},"AT2":{"type":"code_expression"}}},"__4__js_stringSubstringFullExpression":{"type":"js_text_getsubstring","inputs":{"STRING":"%1","AT1":{"type":"code_expression"},"AT2":{"type":"code_expression"}}},"__5__js_stringSubstringFullExpression":{"type":"js_text_getsubstring","inputs":{"STRING":"%1","AT1":"%5","AT2":{"type":"code_expression"}}},"__6__js_stringSubstringFullExpression":{"type":"js_text_getsubstring","inputs":{"STRING":"%1","AT1":"%5","AT2":{"type":"code_expression"}}},"__7__js_stringSubstringFullExpression":{"type":"js_text_getsubstring","inputs":{"STRING":"%1","AT1":"%5","AT2":"%7"}},"__2__stringFindFirstFullExpression":{"type":"t2c_text_indexof","inputs":{"VALUE":"%1","FIND":{"type":"code_expression"}}},"__3__stringFindFirstFullExpression":{"type":"t2c_text_indexof","inputs":{"VALUE":"%1","FIND":{"type":"code_expression"}}},"__4__stringFindFirstFullExpression":{"type":"t2c_text_indexof","inputs":{"VALUE":"%1","FIND":{"type":"code_expression"}}},"__5__stringFindFirstFullExpression":{"type":"t2c_text_indexof","inputs":{"VALUE":"%1","FIND":"%5"}},"__2__js_stringFindFirstFullExpression":{"type":"js_text_indexof","inputs":{"VALUE":"%1","FIND":{"type":"code_expression"}}},"__3__js_stringFindFirstFullExpression":{"type":"js_text_indexof","inputs":{"VALUE":"%1","FIND":{"type":"code_expression"}}},"__4__js_stringFindFirstFullExpression":{"type":"js_text_indexof","inputs":{"VALUE":"%1","FIND":{"type":"code_expression"}}},"__5__js_stringFindFirstFullExpression":{"type":"js_text_indexof","inputs":{"VALUE":"%1","FIND":"%5"}},"__2__stringExpLength":{"type":"t2c_text_length","inputs":{"VALUE":"%1"}},"__2__py_stringExpLength":{"type":"t2c_text_length","inputs":{"VALUE":{"type":"code_expression"}}},"__3__py_stringExpLength":{"type":"t2c_text_length","inputs":{"VALUE":"%3"}},"__2__js_ConsoleLogStatement":{"type":"js_text_print","inputs":{"TEXT":{"type":"code_expression"}}},"__3__js_ConsoleLogStatement":{"type":"js_text_print","inputs":{"TEXT":{"type":"code_expression"}}},"__4__js_ConsoleLogStatement":{"type":"js_text_print","inputs":{"TEXT":{"type":"code_expression"}}},"__5__js_ConsoleLogStatement":{"type":"js_text_print","inputs":{"TEXT":"%5"}},"__2__displayStatement":{"type":"text_print","inputs":{"TEXT":{"type":"code_expression"}}},"__3__displayStatement":{"type":"text_print","inputs":{"TEXT":"%3"}},"__2__variableAssignment":{"type":"variables_set","fields":{"VAR":"%2"},"inputs":{"VALUE":{"type":"code_expression"}}},"__3__variableAssignment":{"type":"variables_set","fields":{"VAR":"%2"},"inputs":{"VALUE":{"type":"code_expression"}}},"__2__variableAssignmentNoLet":{"type":"variables_set","fields":{"VAR":"%1"},"inputs":{"VALUE":{"type":"code_expression"}}}}')},function(t,e,n){n(4);var o=n(0);e.a=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.workspace,i=function t(e,n){var r;if(e&&e.type)return r=Object(o.e)(n,e.type),e.inputs&&Object.keys(e.inputs).forEach((function(i){Object(o.j)(r,i,t(e.inputs[i],n))})),e&&e.fields&&Object.keys(e.fields).forEach((function(t){Object(o.h)(r,e.fields[t],t)})),r;if(e&&Array.isArray(e.blocks)){for(var i=e.blocks.map((function(e){return t(e,n)})),a=0;a<i.length-1;a++)i[a].getNextBlock()||i[a+1].getPreviousBlock()||Object(o.i)(i[a],i[a+1]);return i[0]}}(t,r);return Object(o.g)(e,i,!0),n&&Object(o.f)(r),i}},function(t,e,n){e.a=function(){function t(e){_classCallCheck(this,t),this.tokens_=e,this.tokensRegExp_=Object.keys(e).map((function(t){return{key:t,value:RegExp(e[t].pattern),order:e[t].order}})),this.tokensRegExp_.sort((function(t,e){return t.order-e.order}))}return _createClass(t,[{key:"isToken",value:function(t){return!1}},{key:"isTokenType",value:function(t){return-1!==Object.keys(this.tokens_).indexOf(t)}},{key:"tokenize",value:function(t){var e=this;return function t(n){if(""===n.trim())return[];for(var o=void 0,r=0;r<e.tokensRegExp_.length&&!(o=e.tokensRegExp_[r].value.exec(n));)r++;if(o){var i=o instanceof Array?o.slice(1).find((function(t){return null!=t})):null,a=null!=i?i:n.substring(o.index,o.index+o[0].length);return t(n.substring(0,o.index)).concat([{tokenType:e.tokensRegExp_[r].key,value:a}]).concat(t(n.substring(o.index+o[0].length)))}return n.trim().split("").filter((function(t){return-1===t.search(/\s/)})).map((function(t){return Object({tokenType:"none",value:t})}))}(t)}}]),t}()},function(t,e,n){var o=n(2),r=n(3);e.a=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"convertToBlockParseTrees",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t.rhsides.map((function(i){return"string"==typeof i?[new o.a(t.lhs,i)]:Object(r.a)(i.map((function(t){return e.convertToBlockParseTrees(t,n)}))).map((function(e){return new o.a(t.lhs,e)}))})).reduce((function(t,e){return t.concat(e)}),[]).slice(0,n)}}]),t}()},function(t,e,n){var o=n(2),r=n(4);e.a=function(){function t(e){_classCallCheck(this,t),this.interpretations_=e}return _createClass(t,[{key:"evaluate",value:function(t){if(null===t||t instanceof o.a){if(t){var e="string"==typeof t.rhs?[t.rhs.replace(/\"/g,"'")]:t.rhs.map(this.evaluate.bind(this)),n=this.interpretations_[t.lhs];if("string"==typeof n)return n;if(n){var i=new r.a(JSON.stringify(n));return i.args=e,i}return e[0]}return""}throw console.assert(null!==t&&!(t instanceof o.a),{msg:"Non-null is invalid root type",expectedType:o.a,actual:t}),new Error("Invalid root type")}}]),t}()},function(t,e,n){n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i}));var o=n(0);function r(t){var e=t.workspace;"js_text_print"===t.type||"js_text_input"===t.type?Object(o.g)(t,Object(o.e)(e,t.type.substring(3)),!0):"js_text_indexof"===t.type||"js_text_charat"===t.type||"js_text_getsubstring"===t.type?Object(o.g)(t,Object(o.e)(e,t.type.replace("js","t2c")),!0):"text_length"===t.type&&Object(o.g)(t,Object(o.e)(e,"t2c_"+t.type),!0)}function i(t){var e=t.workspace;if("text_print"===t.type)Object(o.g)(t,Object(o.e)(e,"js_text_print"),!0);else if("text_input"===t.type)Object(o.g)(t,Object(o.e)(e,"js_text_input"),!0);else if("t2c_text_indexof"===t.type)Object(o.g)(t,Object(o.e)(e,"js_text_indexof"),!0);else if("t2c_text_charat"===t.type)Object(o.g)(t,Object(o.e)(e,"js_text_charat"),!0);else if("t2c_text_length"===t.type)Object(o.g)(t,Object(o.e)(e,"text_length"),!0);else if("t2c_text_getsubstring"===t.type)Object(o.g)(t,Object(o.e)(e,"js_text_getsubstring"),!0);else if("t2c_text_before"===t.type){var n=t.getInputTargetBlock("SUB"),r=t.getInputTargetBlock("TEXT"),i=null,a=Object(o.e)(e,"js_text_getsubstring"),s=Object(o.e)(e,"math_number"),l=Object(o.e)(e,"js_text_indexof");if(Object(o.h)(s,0,"NUM"),r)if("text"===r.type)i=Object(o.e)(e,r.type),Object(o.h)(i,r.getFieldValue("TEXT"),"TEXT"),l.getInput("VALUE").connection.connect(i.outputConnection),a.getInput("STRING").connection.connect(r.outputConnection);else if("variables_get"===r.type)i=Object(o.e)(e,r.type),Object(o.h)(i,r.getFieldValue("VAR"),"VAR"),l.getInput("VALUE").connection.connect(i.outputConnection),a.getInput("STRING").connection.connect(r.outputConnection);else{var u=createNewTempVariable(e),c=Object(o.e)(e,"variables_set");Object(o.h)(c,u,"VAR"),Object(o.j)(c,"VALUE",r);var g=Object(o.e)(e,"variables_get");Object(o.h)(g,u,"VAR");var d=copyBlock(g);if(Object(o.j)(l,"VALUE",d),Object(o.j)(a,"STRING",g),_=Object(o.c)(t)){var h=_.previousConnection.targetBlock();h&&c.previousConnection.connect(h.nextConnection),_.previousConnection.connect(c.nextConnection)}}n&&Object(o.j)(l,"FIND",n),Object(o.j)(a,"AT1",s),Object(o.j)(a,"AT2",l),t.outputConnection.targetConnection?t.outputConnection.targetConnection.connect(a.outputConnection):Object(o.d)(t,a),t.dispose()}else if("t2c_text_after"===t.type){t.getParent(),a=Object(o.e)(e,"js_text_getsubstring"),r=t.getInputTargetBlock("TEXT"),n=t.getInputTargetBlock("SUB"),l=Object(o.e)(e,"js_text_indexof");var p=Object(o.e)(e,"text_length"),f=Object(o.e)(e,"text_length"),m=Object(o.e)(e,"math_arithmetic_basic");if(Object(o.h)(m,"ADD","OP"),r){if("text"!==r.type&&"variables_get"!==r.type){var _,y=Object(o.e)(e,"variables_set");if(u=createNewTempVariable(e),Object(o.h)(y,u,"VAR"),Object(o.j)(y,"VALUE",r),_=Object(o.c)(t)){var T=_.previousConnection.targetBlock();T&&y.previousConnection.connect(T.nextConnection),_.previousConnection.connect(y.nextConnection)}r=Object(o.e)(e,"variables_get"),Object(o.h)(r,u,"VAR"),Object(o.j)(a,"STRING",r)}else Object(o.j)(a,"STRING",r);Object(o.j)(l,"VALUE",copyBlock(r)),Object(o.j)(p,"VALUE",copyBlock(r))}if(n){if("text"!==n.type&&"variables_get"!==n.type){var b=Object(o.e)(e,"variables_set"),k=createNewTempVariable(e);Object(o.h)(b,k,"VAR"),Object(o.j)(b,"VALUE",n);var B=Object(o.c)(t);if(B){var x=B.previousConnection.targetBlock();x&&b.previousConnection.connect(x.nextConnection),B.previousConnection.connect(b.nextConnection)}n=Object(o.e)(e,"variables_get"),Object(o.h)(n,k,"VAR")}if("variables_get"===n.type)Object(o.j)(m,"B",f),Object(o.j)(f,"VALUE",copyBlock(n));else{var E=Object(o.e)(e,"math_number");Object(o.h)(E,n.getFieldValue("TEXT").length,"NUM"),Object(o.j)(m,"B",E),f.dispose()}Object(o.j)(l,"FIND",n)}else Object(o.j)(m,"B",f);Object(o.j)(m,"A",l),Object(o.j)(a,"AT1",m),Object(o.j)(a,"AT2",p),t.outputConnection.targetConnection?t.outputConnection.targetConnection.connect(a.outputConnection):Object(o.d)(t,a),t.dispose()}}},function(t,e,n){var o=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];_classCallCheck(this,t),this.lhs_=e,this.rhsides_=n}return _createClass(t,[{key:"merge",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;console.assert(this.lhs_===t.lhs_,{msg:"This lhs of "+this.lhs_+" does not match node's lhs of "+t.lhs_}),this.rhsides_.length<n&&(e=this.rhsides_).push.apply(e,_toConsumableArray(t.rhsides_))}},{key:"lhs",get:function(){return this.lhs_}},{key:"rhsides",get:function(){return this.rhsides_}}],[{key:"concatToEach",value:function(e,n,o){return new t(e,n.rhsides_.map((function(t){return t.concat(o)})))}}]),t}(),r=function(){function t(e,n){_classCallCheck(this,t),this.root_=new o(e,[Array.isArray(n)?n.map((function(t){return t.root_})):n])}return _createClass(t,[{key:"rhsConcat",value:function(e,n){var r=new t(e,[]);return r.root_=o.concatToEach(e,this.root_,n.root_),r}},{key:"parseTrees",value:function(t){return t.convertToBlockParseTrees(this.root_)}},{key:"rootLHS",get:function(){return this.root_.lhs}}],[{key:"mergeForests",value:function(t){var e=t.slice();e.sort((function(t,e){return t.root_.lhs===e.root_.lhs?0:t.root_.lhs<e.root_.lhs?-1:1}));for(var n=[],o=0;o<e.length;o++)0===o||n[n.length-1].root_.lhs!==e[o].root_.lhs?n.push(e[o]):n[n.length-1].root_.merge(e[o].root_);return n}}]),t}(),i=n(3);e.a=function(){function t(e,n,o){_classCallCheck(this,t),this.lexer_=e,this.createRuleSetFromGrammar_(n),o=o||[],console.warn("NEW RULE SET:",this.ruleSets_),this.terminals_=n.terminals,this.maxDepth_=0}return _createClass(t,[{key:"addRule_",value:function(t,e,n){if((n=n||this.ruleSets_)[t]){var o=Array.from(n[t]).filter((function(t){return Array.isArray(t)})).map((function(t){return JSON.stringify(t)}));Array.isArray(e)&&-1!==o.indexOf(JSON.stringify(e))||n[t].add(e)}else n[t]=new Set([e])}},{key:"flattenNonessentialUnitRules_",value:function(t){var e=this,n=Object.keys(this.ruleSets_),o=n.filter((function(e){return-1===t.indexOf(e)}));console.warn("Required symbols",t),console.warn("Nonessential",o),o.forEach((function(t,r){console.warn("Current: ",t,r,"out of",o.length,"processed");var a=Array.from(e.ruleSets_[t]).filter((function(t){return Array.isArray(t)&&1===t.length})),s=a.map((function(t){return"string"==typeof t?t:t[0]}));n.forEach((function(n){var o=[],r=[];Array.from(e.ruleSets_[n]).filter((function(t){return Array.isArray(t)})).forEach((function(e){var n=[],a=!1;e.forEach((function(e,o){e!==t?0===o?n.push([e]):n.forEach((function(t){return t.push(e)})):(a=!0,n=0===o?s.map((function(t){return[t]})):Object(i.b)(n,s).map((function(t){return t[0].concat(t[1])})))})),a&&r.push(e),o.push.apply(o,_toConsumableArray(n))})),o.forEach((function(t){return e.addRule_(n,t)})),a.length===e.ruleSets_[t].size&&r.forEach((function(t){if(!e.ruleSets_[n].delete(t))throw new Error(t)}))})),a.forEach((function(n){if(!e.ruleSets_[t].delete(n))throw new Error("No delete")}))}))}},{key:"getTranslations_",value:function(t){return Object.keys(T2C.MSG).map((function(e){return T2C.MSG[e][Object.keys(T2C.MSG[e]).find((function(e){return e==="TERMINAL_"+t.toUpperCase()}))]})).filter((function(t){return void 0!==t}))}},{key:"createRuleSetFromGrammar_",value:function(t){var e=this;this.ruleSets_={},Object.keys(t.rules).forEach((function(n){var o=[n],r=t.rules[n];"string"==typeof r||r instanceof Array?("string"==typeof r&&o.push(r),e.addRule_(n,r)):Object.keys(r).forEach((function(t){e.addRule_(n,[t]),e.addRule_(t,r[t]),o.push(t),"string"==typeof r[t]&&o.push(r[t])})),o.forEach((function(t){return e.getTranslations_(t).forEach((function(t){return e.addRule_(n,t)}))}))}))}},{key:"maxPathLengthToTerminalOrSplit_",value:function(t){var e,n=this,o=(t?[t]:Object.keys(this.ruleSets_)).map((function(t){return n.ruleSets_[t]?Array.from(n.ruleSets_[t]).filter((function(t){return Array.isArray(t)&&1===t.length&&n.ruleSets_[t[0]]})).map((function(e){return[t].concat(n.maxPathLengthToTerminalOrSplit_(e[0]))})):[t]})),r=t?o[0]:(e=[]).concat.apply(e,_toConsumableArray(o));return 0===r.length?[t]:r.reduce((function(t,e){return t.length>e.length?t:e}))}},{key:"getOppositeRules_",value:function(){var t=this,e={};return Object.keys(this.ruleSets_).forEach((function(n){Array.from(t.ruleSets_[n]).forEach((function(o){if(Array.isArray(o))if(1===o.length)t.addRule_(o[0],n,e);else{var r=n;o.slice(0,o.length-1).forEach((function(n,i){var a=o.length-i-1==1?o[0]:JSON.stringify(o.slice(0,o.length-i-1));t.addRule_(JSON.stringify([a,o[o.length-i-1]]),r,e),r=a}))}else t.addRule_(o,n,e)}))})),e}},{key:"getUnitRules_",value:function(t,e,n){for(var o=[],i=t,a=function(t){var n=[];i.forEach((function(t){e[t.rootLHS]&&Array.from(e[t.rootLHS]).filter((function(e){return e!==t.rootLHS})).forEach((function(e){return n.push(new r(e,[t]))}))})),o.push.apply(o,n),i=n},s=0;s<n&&i.length>0;s++)a();return o}},{key:"parseBottomUpCYK",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"statement";if(""===t)return[];Object.values(this.ruleSets_).reduce((function(t,e){return t+e.size}),0);var o=this.lexer_.tokenize(t),a=this.maxPathLengthToTerminalOrSplit_("statement"),s=this.getOppositeRules_();console.warn("TOKEN ARRAY:",o,a.length);for(var l=[o.map((function(t){return Array.from(s[t.value]||[]).concat(t.tokenType).filter((function(t,e,n){return n.indexOf(t)===e})).map((function(e){return new r(e,t.value)}))}))],u=0;u<o.length;u++){var c;(c=l[0][u]).push.apply(c,_toConsumableArray(this.getUnitRules_(l[0][u],s,a.length))),l[0][u]=r.mergeForests(l[0][u])}for(var g=1;g<o.length;g++){for(var d=[],h=0;h<o.length-g;h++){for(var p,f=[],m=0;m<g;m++){var _=Object(i.b)(l[m][h],l[g-1-m][h+m+1]);f.push.apply(f,_toConsumableArray(_))}d.push(r.mergeForests(f.map((function(t){return{lhsides:s[JSON.stringify([t[0].rootLHS,t[1].rootLHS])],rhs:t}})).filter((function(t){return void 0!==t.lhsides})).map((function(t){return Array.from(t.lhsides).map((function(e){return t.rhs[0].rootLHS.startsWith("[")?t.rhs[0].rhsConcat(e,t.rhs[1]):new r(e,t.rhs)}))})).reduce((function(t,e){return t.concat(e)}),[]))),(p=d[h]).push.apply(p,_toConsumableArray(this.getUnitRules_(d[h],s,a.length))),d[h]=r.mergeForests(d[h])}l.push(d)}console.warn("LEVELS",l);var y=l[l.length-1][0].find((function(t){return t.rootLHS===n})),T=y?y.parseTrees(e):[];return console.warn("RESULT",T),T}},{key:"matchLanguageToken_",value:function(t,e){return Object.keys(T2C.MSG).map((function(t){return t.toUpperCase()})).some((function(n){return T2C.MSG[n]&&T2C.MSG[n]["TERMINAL_"+t.toUpperCase()]===e.value}))}},{key:"flattenOneLevel_",value:function(t){return t.reduce((function(t,e){return t.concat(e)}),[])}},{key:"joinEachItemToFront_",value:function(t,e){return this.flattenOneLevel_(e.map((function(e){return t.map((function(t){return[t].concat(e)}))})))}},{key:"getRHSOfTokenMatch_",value:function(t,e){var n=this;return-1!==this.lexer_.isTokenType(t)&&e.tokenType===t||-1!==this.terminals_.indexOf(t)&&Array.from(this.ruleSets_[t]).some((function(t){return t===e.value||n.matchLanguageToken_(t,e)}))?e.value:null}},{key:"isTerminal_",value:function(t){return-1!==this.terminals_.indexOf(t)||this.lexer_.isTokenType(t)}},{key:"parseTopDown",value:function(t){var e=this;console.log(this.ruleSets_);var n=Object.values(this.ruleSets_).reduce((function(t,e){return t+e.size}),0),o=this.lexer_.tokenize(t),r=new Memoizer,i=this.maxPathLengthToTerminalOrSplit_("statement");console.log("ARRAY:",i,i.length,n);console.log("Token Array:",o);var a=r.compute((function t(n,a,s,l){if(0===l||n instanceof Array&&0===n.length||n instanceof Array&&n.length>s-a+1)return[];if("string"==typeof n&&e.isTerminal_(n)){if(a!==s)return[];var u=e.getRHSOfTokenMatch_(n,o[a]);return u?[{lhs:n,rhs:[u]}]:[]}if("string"==typeof n)return e.flattenOneLevel_(Array.from(e.ruleSets_[n]).map((function(e){var o=r.compute(t,[e,a,s,l-1],0);return o.some((function(t){return t.length!==e.length}))?(console.log("throwing out",n,JSON.stringify(o),e),console.log("problem",e,o,o.find((function(t){return t.length!==e.length}))),null):o.map((function(t){return{lhs:n,rhs:t}}))})).filter((function(t){return t})));if(n instanceof Array&&1===n.length){var c=r.compute(t,[n[0],a,s,l]);return c.length>0?c.map((function(t){return[t]})):[]}for(var g=[],d=a;d<s;d++){var h=r.compute(t,[n[0],a,d,i.length]);if(h.length>0){var p=r.compute(t,[n.slice(1),d+1,s,i.length]);p.length>0&&g.push.apply(g,_toConsumableArray(e.joinEachItemToFront_(h,p)))}}return g}),["statement",0,o.length-1,i.length]);return r.clear(),a}}]),t}()},,,,,,,,,function(t,e,n){n.r(e);var o=n(1),r=n(0),i=function(){function t(e,n){_classCallCheck(this,t),this.taskCondition_=e,this.directions_=n}return _createClass(t,[{key:"areDirectionsCompleted",value:function(){return this.directions_.isComplete()}},{key:"startDirections",value:function(){this.directions_.start()}},{key:"finish",value:function(){this.directions_.finish instanceof Function&&this.directions_.finish()}},{key:"showDirectionStep",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.directions_.animate(t)}},{key:"isTaskCompleted",value:function(){return this.taskCondition_()}}]),t}(),a=function(){function t(e,n){_classCallCheck(this,t),this.obj_=e,this.options_=n}return _createClass(t,[{key:"start",value:function(){this.numOfMoves_=0,this.totalSteps_=this.value_(this.options_.totalSteps),this.startPosition_=this.value_(this.options_.startPosition),this.endPosition_=this.value_(this.options_.endPosition)||{x:this.startPosition_.x+this.value_(this.options_.velocity).x*this.totalSteps_,y:this.startPosition_.y+this.value_(this.options_.velocity).y*this.totalSteps_},this.velocity_={x:(this.endPosition_.x-this.startPosition_.x)/this.totalSteps_,y:(this.endPosition_.y-this.startPosition_.y)/this.totalSteps_},this.obj_.style.left=this.startPosition_.x+"px",this.obj_.style.top=this.startPosition_.y+"px"}},{key:"isComplete",value:function(){return this.numOfMoves_>=this.totalSteps_}},{key:"finish",value:function(){this.options_.finish instanceof Function&&this.options_.finish()}},{key:"animate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=Math.min(t,this.totalSteps_-this.numOfMoves_);this.obj_.style.left=parseFloat(this.obj_.style.left)+this.velocity_.x*e+"px",this.obj_.style.top=parseFloat(this.obj_.style.top)+this.velocity_.y*e+"px",this.numOfMoves_+=t}},{key:"value_",value:function(t){return t instanceof Function?t():t}}]),t}(),s=function(){function t(e,n){_classCallCheck(this,t),this.obj_=e,this.options_=n}return _createClass(t,[{key:"start",value:function(){this.numOfSteps_=0,this.totalSteps_=this.value_(this.options_.totalSteps),this.startPosition_=this.value_(this.options_.startPosition),this.toggleSteps_=this.value_(this.options_.toggleSteps),this.obj_.style.left=this.startPosition_.x+"px",this.obj_.style.top=this.startPosition_.y+"px"}},{key:"isComplete",value:function(){return this.numOfSteps_>=this.totalSteps_}},{key:"animate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=Math.min(t,this.totalSteps_-this.numOfSteps_);this.obj_.style.display=this.numOfSteps_%(2*this.toggleSteps_)<this.toggleSteps_?"none":"block",this.numOfSteps_+=e}},{key:"finish",value:function(){this.obj_.style.display="block",this.options_.finish instanceof Function&&this.options_.finish()}},{key:"value_",value:function(t){return t instanceof Function?t():t}}]),t}(),l=function(){function t(e,n){_classCallCheck(this,t),this.options_=n,this.started_=!1,this.message_=e,this.currentMessage_="",this.alertDisplay_=document.getElementById("alert-display"),this.alertDisplay_||(this.alertDisplay_=document.createElement("div"),this.alertDisplay_.id="alert-display",this.alertDisplay_.style.fontSize="small",this.alertDisplay_.style.fontWeight="bold",this.alertDisplay_.style.borderColor="#000",this.alertDisplay_.style.backgroundColor="rgba(200, 200, 200, 0.5)",this.alertDisplay_.style.color="#f00",this.alertDisplay_.style.position="absolute",this.alertDisplay_.style.zIndex="1050",this.alertDisplay_.style.width="98%",this.alertDisplay_.style.minHeight="50px",this.alertDisplay_.style.left="0",this.alertDisplay_.style.bottom="0",this.alertDisplay_.style.textAlign="left",this.alertDisplay_.style.padding="1%")}return _createClass(t,[{key:"start",value:function(){document.body.appendChild(this.alertDisplay_),this.started_=!0}},{key:"isComplete",value:function(){return!1}},{key:"finish",value:function(){document.body.removeChild(this.alertDisplay_),this.options_.finish instanceof Function&&this.options_.finish()}},{key:"animate",value:function(){var t=this.value_(this.message_),e=this.currentMessage_.replace(/\s/g,""),n=this.alertDisplay_.innerText.replace(/\s/g,"");n===t.replace(/\s/g,"")||n!==e&&""!==n||(this.currentMessage_=t,this.options_.queue?this.alertDisplay_.innerText+=t:this.alertDisplay_.innerText=t)}},{key:"value_",value:function(t){return t instanceof Function?t():t}}]),t}(),u=function(){function t(e){_classCallCheck(this,t),this.animations_=e}return _createClass(t,[{key:"start",value:function(){this.animations_.forEach((function(t){return t.start()}))}},{key:"isComplete",value:function(){return this.animations_.every((function(t){return t.isComplete()}))}},{key:"finish",value:function(){this.animations_.filter((function(t){return t.finish instanceof Function})).forEach((function(t){return t.finish()}))}},{key:"animate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.animations_.filter((function(t){return!t.isComplete()})).forEach((function(e){return e.animate(t)}))}}]),t}(),c=function(){function t(){_classCallCheck(this,t),this.tasks_=[]}return _createClass(t,[{key:"addTask",value:function(t){this.tasks_.push(t)}},{key:"runTasks",value:function(){var t=this;this.tasks_.length;var e=0,n=0;this.tasks_[0].startDirections();requestAnimationFrame((function o(r){r-n>=5&&(t.tasks_[e].areDirectionsCompleted()||t.tasks_[e].isTaskCompleted()?t.tasks_[e].isTaskCompleted()&&(t.tasks_[e].finish(),++e<t.tasks_.length&&t.tasks_[e].startDirections(),n=r):t.tasks_[e].showDirectionStep(1),n+=5),e<t.tasks_.length&&requestAnimationFrame(o),console.log("Running Task",e)}))}}]),t}();function g(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=document.getElementById("alert-display");n||((n=document.createElement("div")).id="alert-display",n.style.fontSize="small",n.style.fontWeight="bold",n.style.borderColor="#000",n.style.backgroundColor="rgba(200, 200, 200, 0.5)",n.style.color="#f00",n.style.position="absolute",n.style.zIndex="1050",n.style.width="98%",n.style.minHeight="50px",n.style.left="0",n.style.bottom="0",n.style.textAlign="left",n.style.padding="1%",document.body.appendChild(n)),e?n.innerText=t:n.innerText+=t}function d(t){return Array.from(document.querySelectorAll("rect")).filter((function(t){return t.getAttribute("fill-opacity")}))[t]}function h(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=e.getBoundingRectangle(),a=t.getMetrics(),s=t.getScale(),l=o,u=r,c=n.blockOffsetScaleX||0,g=n.blockOffsetScaleY||0;return{x:(i.left-a.viewLeft+c*e.width)*s+l,y:(i.top-a.viewTop+a.flyoutHeight+g*e.height)*s+u}}function p(t){t.style.verticalAlign="middle",t.style.color="#000"}function f(){document.getElementById("output-container").classList.remove("show-container"),document.getElementById("output-container").classList.add("hide-container"),document.getElementById("text-code-container").classList.remove("show-container"),document.getElementById("text-code-container").classList.add("hide-container")}function m(t,e){var n=0;function o(){e.style.color=n%50<25?"#a00":"#000",++n<200&&requestAnimationFrame(o)}t.addTask(new i((function(){return n>=200}),{start:function(){e.style.verticalAlign="top",requestAnimationFrame(o)},isComplete:function(){return!0},animate:function(){return!0}}))}function _(t,e){var n=Object.values(T2C.MSG).map((function(t){return t["TERMINAL_"+e.toUpperCase()]})).filter((function(t){return"string"==typeof t})).find((function(e){return e.startsWith(t)||t.startsWith(e)}));if(n)return{terminal:n,remaining:t.JSSubstring(n.length).trim()}}function y(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=document.getElementById("alert-display");n||((n=document.createElement("div")).id="alert-display",n.style.fontSize="small",n.style.fontWeight="bold",n.style.borderColor="#000",n.style.backgroundColor="rgba(200, 200, 200, 0.5)",n.style.color="#f00",n.style.position="absolute",n.style.zIndex="1050",n.style.width="98%",n.style.minHeight="50px",n.style.left="0",n.style.bottom="0",n.style.textAlign="left",n.style.padding="1%",document.body.appendChild(n)),e?n.innerText=t:n.innerText+=t}function T(t){t.style.verticalAlign="middle",t.style.color="#000"}function b(){document.getElementById("output-container").classList.remove("show-container"),document.getElementById("output-container").classList.add("hide-container"),document.getElementById("text-code-container").classList.remove("show-container"),document.getElementById("text-code-container").classList.add("hide-container")}function k(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=document.createElement("block");return o.setAttribute("type",e),n?document.getElementById("toolbox").prepend(o):document.getElementById("toolbox").append(o),t.updateToolbox(document.getElementById("toolbox")),o}function B(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=e&&e.getBoundingRectangle()||{left:0,top:0};e=e||{width:0,height:0};var a=t.getMetrics(),s=t.getScale(),l=o,u=r,c=n.blockOffsetScaleX||0,g=n.blockOffsetScaleY||0;return{x:(i.left-a.viewLeft+c*e.width)*s+l,y:(i.top-a.viewTop+a.flyoutHeight+g*e.height)*s+u}}Blockly.Python.type_in_display_string_literal=Blockly.JavaScript.type_in_display_string_literal=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_display_string_literal={validate:function(t){var e=Object.values(T2C.MSG).map((function(t){return t.TERMINAL_DISPLAY})).filter((function(t){return"string"==typeof t})).find((function(e){return e.startsWith(t)||t.startsWith(e)})),n=e&&e.length<=t.length&&t.substring(e.length).trim(),o=n&&n.substring(1).trim();return e?n&&n.length&&!n.startsWith("(")?(g("You're missing an opening parenthesis after "+e),e):!o||o.startsWith('"')||o.startsWith("'")?o&&-1!==o.indexOf('"',1)&&!o.substring(o.indexOf('"',1)+1).trim().startsWith(")")?(g('Make sure to include a closing parenthesis after the string surrounded by " and ".'),e+"("+o.substring(0,o.indexOf('"',1)+1)):(g(""),t):(g('Make sure the text you want to display is between " and " so the computer just displays it without trying to figure out what you mean!'),e+"("):(g("Check the spelling, case, and punctuation of what you're entering; it should identically match with "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY),null)},init:function(){var t=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(e){if(t.getFieldValue("EXP").endsWith("\r")||t.getFieldValue("EXP").endsWith("\n")||t.getFieldValue("EXP").length>0&&"workspaceClick"===e.element){if(!t.validate(t.getFieldValue("EXP"))||!t.getFieldValue("EXP").endsWith(")")&&!t.getFieldValue("EXP").endsWith(";"))return;var n=Object(o.getParseTree)(t.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,t):alert("Try checking what you entered again for mistakes.")}}}},Blockly.Python.type_in_welcome_message=Blockly.JavaScript.type_in_welcome_message=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_welcome_message={validate:function(t){var e=t.trim(),n=e.length?e.substring(1).search(/[^\\]['|"]/)+2:-1,o=n>1?e.substring(0,n):e,r=n>1?e.substring(n+1):e;return e.length?e.startsWith('"')||e.startsWith("'")?n>1&&!"+firstName+".startsWith(r.trim().replace(/\s+\+|\+\s+/g,"+"))&&!r.trim().replace(/\s+\+|\+\s+/g,"+").startsWith("+firstName+")?(g("Be sure that the variable name firstName appears outside of quotation marks since you want its value, not literally firstName and that you include + before and after it to join the welcome at the beginning and the punctuation mark at the end."),o):(g(""),t):(g('Since you will be starting your message with text to be displayed as is such as Welcome, be sure you let the computer know this by surrounding what appears first with " and "'),null):void g("")},init:function(){var t=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!0),this.setPreviousStatement(!1),this.setNextStatement(!1),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(e){if(t.getFieldValue("EXP").endsWith("\r")||t.getFieldValue("EXP").endsWith("\n")||t.getFieldValue("EXP").length>0&&"workspaceClick"===e.element){if(!t.validate(t.getFieldValue("EXP")))return;if(t.getFieldValue("EXP").trim().endsWith('"')||t.getFieldValue("EXP").trim().endsWith("'")){var n=Object(o.getParseTree)(t.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,t):alert("Try checking what you entered again for mistakes.")}}}}},String.prototype.JSSubstring=function(t,e){return t>=this.length||t===e?"":this.substring(t,e)},Blockly.Python.type_in_get_last_char_number=Blockly.JavaScript.type_in_get_last_char_number=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_get_last_char_number={validate:function(t){var e=void 0,n=void 0,o=_(t.trim(),"display");return o?o.remaining.length&&!o.remaining.startsWith("(")?(y("You're missing an opening parenthesis after "+o.terminal),o.terminal):(o.remaining=o.remaining.JSSubstring(1).trim(),o.remaining.length&&!o.remaining.startsWith("s")?(o.remaining.startsWith('"')?y("Don't use \" here as you want the computer to evaluate what you typed (e.g., the word the user entered instead of the letter s)"):y("Be sure to include the variable s that you want to the get the value's last character from"),o.terminal+"("):(o.remaining=o.remaining.JSSubstring(1).trim(),o.remaining.length&&!o.remaining.startsWith(".")?(y("Be sure to include the . after the variable"),o.terminal+"(s"):o.remaining.length?(e=o.terminal+"(s.",(n=_(o.remaining.JSSubstring(1).trim(),"GETCHARACTERNUMBER"))?n.remaining.length&&!n.remaining.startsWith("(")?(y("You're missing an opening parenthesis after "+n.terminal),e+n.terminal):(n.remaining=n.remaining.JSSubstring(1).trim(),n.remaining.length&&!n.remaining.startsWith("4")?(n.remaining.startsWith('"')?y("Don't use \" here as you want the computer to interpret this as a number and not text."):n.remaining.startsWith("5")?y("Remember that character positions start at the number 0.  If you count the letters of a 5-letter word such as `pizza` starting from 0, you won't get up to position 5."):n.remaining.startsWith("6")?y("Determine the position of the last character a in the 5-letter word `pizza`.  If you count starting from 0, you won't get up to position 6."):0===parseInt(n.remaining)?y("You want the position of the last character, not the first."):parseInt(n.remaining)?y("Determine the position of the last character a in the 5-letter word `pizza`.  The number you're entering is incorrect."):y("Include a number for the position you want after "+n.terminal+"("),e+n.terminal+"("):(n.remaining=n.remaining.JSSubstring(1).trim(),n.remaining.length&&!n.remaining.startsWith(")")?(y("You're missing a closing parenthesis for "+n.terminal),e+n.terminal+"(4"):(n.remaining=n.remaining.JSSubstring(1).trim(),n.remaining.length&&!n.remaining.startsWith(")")?(y("You're missing a closing parenthesis for "+o.terminal),e+n.terminal+"(4)"):(y(""),t)))):(y("Check the spelling, case, and punctuation of what you're entering; it should identically match with "+T2C.MSG.currentLanguage.TERMINAL_GETCHARACTERNUMBER),e)):(y(""),t))):(y("Check the spelling, case, and punctuation of what you're entering; it should identically match with "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY),null)},init:function(){var t=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(e){if(t.getFieldValue("EXP").endsWith("\r")||t.getFieldValue("EXP").endsWith("\n")||t.getFieldValue("EXP").length>0&&"workspaceClick"===e.element){if(!t.validate(t.getFieldValue("EXP"))||!t.getFieldValue("EXP").endsWith(")")&&!t.getFieldValue("EXP").endsWith(";"))return;var n=Object(o.getParseTree)(t.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,t):alert("Try checking what you entered again for mistakes.")}}}};var x=void 0,E=!1,I=!1,A=!1,v=!1;function w(t){t.style.verticalAlign="middle",t.style.color="#000"}function S(){document.getElementById("output-container").classList.remove("show-container"),document.getElementById("output-container").classList.add("hide-container"),document.getElementById("text-code-container").classList.remove("show-container"),document.getElementById("text-code-container").classList.add("hide-container")}function L(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=document.createElement("block");return o.setAttribute("type",e),n?document.getElementById("toolbox").prepend(o):document.getElementById("toolbox").append(o),t.updateToolbox(document.getElementById("toolbox")),o}function C(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=e&&e.getBoundingRectangle()||{left:0,top:0};e=e||{width:0,height:0};var a=t.getMetrics(),s=t.getScale(),l=o,u=r,c=n.blockOffsetScaleX||0,g=n.blockOffsetScaleY||0;return{x:(i.left-a.viewLeft+c*e.width)*s+l,y:(i.top-a.viewTop+a.flyoutHeight+g*e.height)*s+u}}var M=void 0,N=!1,P=!1,O=!1,F=!1;function R(t,e){var n=Object.values(T2C.MSG).map((function(t){return t["TERMINAL_"+e.toUpperCase()]})).filter((function(t){return"string"==typeof t})).find((function(e){return e.startsWith(t)||t.startsWith(e)}));if(n)return{terminal:n,remaining:t.JSSubstring(n.length).trim()}}function V(t,e){t("Check the spelling, case, and punctuation of what you're entering; it should identically match with "+T2C.MSG.currentLanguage["TERMINAL_"+e.toUpperCase()]+".")}function j(t,e,n){for(var o=void 0,r=[],i=t,a=!1,s=-1;s<e.length-1&&i&&!a;){if("string"==typeof e[++s])i.length<e[s].length&&e[s].startsWith(i)?(o=i,i=""):i.startsWith(e[s])?(o=e[s],i=i.substring(e[s].length).trim()):a=!0;else if("terminal"===e[s].type){var l=R(i.trim(),e[s].token);l?(o=l.terminal,i=l.remaining):a=!0}else a=!0;a||r.push(o)}return{match:r,error:a,errorMsg:a?n[s](r,i):z("")||""}}function U(t){t.style.verticalAlign="middle",t.style.color="#000"}function X(){document.getElementById("output-container").classList.remove("show-container"),document.getElementById("output-container").classList.add("hide-container"),document.getElementById("text-code-container").classList.remove("show-container"),document.getElementById("text-code-container").classList.add("hide-container")}function G(t){Array.from(document.getElementById("toolbox").children).forEach((function(t){return t.remove()})),t.options.maxInstances={},t.updateToolbox(document.getElementById("toolbox"))}function D(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=W(e);return n?document.getElementById("toolbox").prepend(o):document.getElementById("toolbox").append(o),t.updateToolbox(document.getElementById("toolbox")),o}function W(t){var e=document.createElement("block");return e.setAttribute("type",t),e}function H(t,e,n){var o=document.createElement("field");o.setAttribute("name",e),o.appendChild(document.createTextNode(n)),t.appendChild(o)}function Y(t,e,n){var o=document.createElement("value");o.setAttribute("name",e),o.appendChild(n),t.appendChild(o)}function q(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=e&&e.getBoundingRectangle()||{left:0,top:0};e=e||{width:0,height:0};var a=t.getMetrics(),s=t.getScale(),l=o,u=r,c=n.blockOffsetScaleX||0,g=n.blockOffsetScaleY||0;return{x:(i.left-a.viewLeft+c*e.width)*s+l,y:(i.top-a.viewTop+a.flyoutHeight+g*e.height)*s+u}}function z(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=document.getElementById("alert-display");n||((n=document.createElement("div")).id="alert-display",n.style.fontSize="small",n.style.fontWeight="bold",n.style.borderColor="#000",n.style.backgroundColor="rgba(200, 200, 200, 0.5)",n.style.color="#f00",n.style.position="absolute",n.style.zIndex="1050",n.style.width="98%",n.style.minHeight="50px",n.style.left="0",n.style.bottom="0",n.style.textAlign="left",n.style.padding="1%",document.body.appendChild(n)),e?n.innerText=t:n.innerText+=t}function J(t,e){var n=Object.values(T2C.MSG).map((function(t){return t["TERMINAL_"+e.toUpperCase()]})).filter((function(t){return"string"==typeof t})).find((function(e){return e.startsWith(t)||t.startsWith(e)}));if(n)return{terminal:n,remaining:t.JSSubstring(n.length).trim()}}function K(t,e){t("Check the spelling, case, and punctuation of what you're entering; it should identically match with "+T2C.MSG.currentLanguage["TERMINAL_"+e.toUpperCase()]+".")}function $(t,e,n){for(var o=void 0,r=[],i=t,a=!1,s=-1;s<e.length-1&&i&&!a;){if("string"==typeof e[++s])i.length<e[s].length&&e[s].startsWith(i)?(o=i,i=""):i.startsWith(e[s])?(o=e[s],i=i.substring(e[s].length).trim()):a=!0;else if("terminal"===e[s].type){var l=J(i.trim(),e[s].token);l?(o=l.terminal,i=l.remaining):a=!0}else a=!0;a||r.push(o)}return{match:r,error:a,errorMsg:a?n[s](r,i):at("")||""}}function Z(t){t.style.verticalAlign="middle",t.style.color="#000"}function Q(){document.getElementById("output-container").classList.remove("show-container"),document.getElementById("output-container").classList.add("hide-container"),document.getElementById("text-code-container").classList.remove("show-container"),document.getElementById("text-code-container").classList.add("hide-container")}function tt(t){Array.from(document.getElementById("toolbox").children).forEach((function(t){return t.remove()})),t.options.maxInstances={},t.updateToolbox(document.getElementById("toolbox"))}function et(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=nt(e);return n?document.getElementById("toolbox").prepend(o):document.getElementById("toolbox").append(o),t.updateToolbox(document.getElementById("toolbox")),o}function nt(t){var e=document.createElement("block");return e.setAttribute("type",t),e}function ot(t,e,n){var o=document.createElement("field");o.setAttribute("name",e),o.appendChild(document.createTextNode(n)),t.appendChild(o)}function rt(t,e,n){var o=document.createElement("value");o.setAttribute("name",e),o.appendChild(n),t.appendChild(o)}function it(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=e&&e.getBoundingRectangle()||{left:0,top:0};e=e||{width:0,height:0};var a=t.getMetrics(),s=t.getScale(),l=o,u=r,c=n.blockOffsetScaleX||0,g=n.blockOffsetScaleY||0;return{x:(i.left-a.viewLeft+c*e.width)*s+l,y:(i.top-a.viewTop+a.flyoutHeight+g*e.height)*s+u}}function at(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=document.getElementById("alert-display");n||((n=document.createElement("div")).id="alert-display",n.style.fontSize="small",n.style.fontWeight="bold",n.style.borderColor="#000",n.style.backgroundColor="rgba(200, 200, 200, 0.5)",n.style.color="#f00",n.style.position="absolute",n.style.zIndex="1050",n.style.width="98%",n.style.minHeight="50px",n.style.left="0",n.style.bottom="0",n.style.textAlign="left",n.style.padding="1%",document.body.appendChild(n)),e?n.innerText=t:n.innerText+=t}String.prototype.JSSubstring=function(t,e){return t>=this.length||t===e?"":this.substring(t,e)},Blockly.Python.type_in_get_input=Blockly.JavaScript.type_in_get_input=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_get_input={validate:function(t){var e,n=void 0,o=void 0,r=void 0,i=R(t.trim(),"let");if(!i)return z("Check the spelling, case, and punctuation of what you're entering; it should identically match with "+T2C.MSG.currentLanguage.TERMINAL_LET+"."),null;if(i.remaining.length&&!i.remaining.startsWith("s"))return z("Be sure to name the variable you're declaring s.  This will store the string with an even number of characters the user enters."),i.terminal;if(i.remaining=i.remaining.JSSubstring(1).trim(),i.remaining.length&&!i.remaining.startsWith("="))return z("Remember to include an = after the variable s you're declaring to set it to the string the user enters."),i.terminal+"s";if(i.remaining=i.remaining.JSSubstring(1).trim(),!i.remaining.length)return z(""),t;if(e=i.terminal+"s = ",!(n=R(i.remaining.trim(),"GETINPUTBYASKING")))return z("Check the spelling, case, and punctuation of what you're entering; it should identically match with "+T2C.MSG.currentLanguage.TERMINAL_GETINPUTBYASKING+"."),e;if(n.remaining.length&&!n.remaining.startsWith("("))return z("You're missing an opening parenthesis after "+n.terminal),e+n.terminal;if(n.remaining=n.remaining.JSSubstring(1).trim(),n.remaining.length&&!n.remaining.startsWith('"')&&!n.remaining.startsWith("'"))return z('The message to supply to the user should be surrounded by " and " because you want it to be displayed as is.'),e+n.terminal+"(";if(n.remaining.length&&(o=n.remaining.match(/^"[^"]*"|^'[^']*'/))){if(-1===(r=o[0]).toLowerCase().indexOf(" even ")&&-1===r.indexOf(" "))return z("Make sure the message contains the word even to tell the user you want him/her to enter an even number of characters (> 0).  And be sure it has spaces since you can and should include them in messages read by humans!"),e+n.terminal+"("+r.substring(0,r.length-1);if(-1===r.toLowerCase().indexOf(" even "))return z("Make sure the message contains the word even (surrounded by spaces) to tell the user you want him/her to enter an even number of characters (> 0)."),e+n.terminal+"("+r.substring(0,r.length-1)}return n.remaining.length&&r&&(n.remaining=n.remaining.JSSubstring(r.length).trim()),n.remaining.length&&r&&!n.remaining.startsWith(")")?(z("You're missing a closing parenthesis for "+n.terminal),e+n.terminal+"("+r):(n.remaining.length&&r&&(n.remaining=n.remaining.JSSubstring(1).trim()),z(""),t)},init:function(){var t=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(e){if(t.getFieldValue("EXP").endsWith("\r")||t.getFieldValue("EXP").endsWith("\n")||t.getFieldValue("EXP").length>0&&"workspaceClick"===e.element){if(!t.validate(t.getFieldValue("EXP"))||!t.getFieldValue("EXP").endsWith(")")&&!t.getFieldValue("EXP").endsWith(";"))return;var n=Object(o.getParseTree)(t.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,t):z("Try checking what you entered again for mistakes.  You probably just have extra unnecessary code after a ).")}}}},Blockly.Python.type_in_set_to_char_number_0=Blockly.JavaScript.type_in_set_to_char_number_0=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_set_to_char_number_0={validate:function(t){var e=void 0,n=void 0,o=R(t.trim(),"let");return o?!o.remaining.length||o.remaining.startsWith("firstChar")||"firstChar".startsWith(o.remaining)?(o.remaining=o.remaining.JSSubstring("firstChar".length).trim(),o.remaining.length&&!o.remaining.startsWith("=")?(z("Remember to include an = after the variable firstChar you're declaring to set it to the string's first character."),o.terminal+"firstChar"):(o.remaining=o.remaining.JSSubstring(1).trim(),o.remaining.length?(e=o.terminal+"firstChar = ",o.remaining.length&&!o.remaining.startsWith("s")?(o.remaining.startsWith('"')?z("Don't use \" here as you want the computer to evaluate what you typed (e.g., the word the user entered instead of the letter s)"):o.remaining.startsWith("f")?z("This is the string you want to get the initial character from so you'll want to use s, which stores what the user entered."):z("Be sure to include the variable s that you want to the get the value's first character from."),e):(o.remaining=o.remaining.JSSubstring(1).trim(),o.remaining.length&&!o.remaining.startsWith(".")?(z("Be sure to include the . after the variable"),e+"s"):o.remaining.length?(e+="s.",(n=R(o.remaining.JSSubstring(1).trim(),"GETCHARACTERNUMBER"))?n.remaining.length&&!n.remaining.startsWith("(")?(z("You're missing an opening parenthesis after "+n.terminal),e+n.terminal):(n.remaining=n.remaining.JSSubstring(1).trim(),n.remaining.length&&!n.remaining.startsWith("0")?(n.remaining.startsWith('"')?z("Don't use \" here as you want the computer to interpret this as a number and not text."):n.remaining.startsWith("1")?z("Remember that character positions start at the number 0."):parseInt(n.remaining)?z("The number you're entering is incorrect for getting the initial character."):z("Include a number for the position you want after "+n.terminal+"("),e+n.terminal+"("):(n.remaining=n.remaining.JSSubstring(1).trim(),n.remaining.length&&!n.remaining.startsWith(")")?(z("You're missing a closing parenthesis for "+n.terminal),e+n.terminal+"(0"):(z(""),t))):(z("Check the spelling, case, and punctuation of what you're entering; it should identically match with "+T2C.MSG.currentLanguage.TERMINAL_GETCHARACTERNUMBER),e)):(z(""),t))):(z(""),t))):(z("Be sure to name the variable you're declaring firstChar to representing the fact that it's storing the entered string's first character."),o.terminal):(z("Check the spelling, case, and punctuation of what you're entering; it should identically match with "+T2C.MSG.currentLanguage.TERMINAL_LET+"."),null)},init:function(){var t=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(e){if(t.getFieldValue("EXP").endsWith("\r")||t.getFieldValue("EXP").endsWith("\n")||t.getFieldValue("EXP").length>0&&"workspaceClick"===e.element){if(!t.validate(t.getFieldValue("EXP"))||!t.getFieldValue("EXP").endsWith(")")&&!t.getFieldValue("EXP").endsWith(";"))return;var n=Object(o.getParseTree)(t.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,t):z("Try checking what you entered again for mistakes.")}}}},Blockly.Python.type_in_set_to_last_char=Blockly.JavaScript.type_in_set_to_last_char=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_set_to_last_char={validate:function(t){var e=j(t,[{token:"let",type:"terminal"},"lastChar","=","s",".",{token:"GETCHARACTERNUMBER",type:"terminal"},"(","s",".",{token:"LENGTH",type:"terminal"},"-","1",")"],[V.bind(null,z,"LET"),function(){return z("Be sure to name the variable you're declaring lastChar to representing the fact that it's storing the entered string's last character.")},function(){return z("Remember to include an = after the variable lastChar you're declaring to set it to the string's last character.")},function(t,e){e.startsWith('"')?z("Don't use \" here as you want the computer to evaluate what you typed (e.g., the word the user entered instead of the letter s)"):e.startsWith("l")?z("This is the string you want to get the last character from so you'll want to use s, which stores what the user entered."):z("Be sure to include the variable s that you want to the get the value's last character from.")},function(){return z("Be sure to include the . after the variable")},V.bind(null,z,"GETCHARACTERNUMBER"),function(t){return"You're missing an open parenthesis after "+t[5]+"."},function(t,e){e.startsWith("-")?z("Let's get the length of the string first when calculating the position of the last character even though it doesn't need to appear before the operation."):isNaN(parseInt(e))?z("To get the length of a string, you'll need to first specify the string you want the length of.  In this case, you'll need to use the length of the entered string (stored in s) to get the position of its last character."):z("Remember that since the string can be of any length, its last character will not always be at position "+parseInt(e)+".")},function(t,e){e.startsWith("(")?z("An expression representing a number should go after the open parenthesis for "+t[5]+'.  It wouldn\'t make sense to get the character at position number "pizza" (or whatever string the user enters), right?'):z("Be sure to include the . after the variable s if you want to get its length.")},V.bind(null,z,"LENGTH"),function(t,e){e.startsWith("(")?z("The length of a 5-character string such as pizza is 5, but since you start counting from 0, this was not the position of the last character.  Consider using some math operation to calculate the correct position."):e.startsWith("+")?z("Consider adding a number such as 1 to 5, which is the length of pizza.  This gives you 6, but you wouldn't use 6 for the number of the position for the last character, right?"):z("Type the appropriate option (+ = ADD, - = SUBTRACT, * = MULTIPLY, / = DIVIDE) that you want to perform on the string's length to calculate the character's last position.  Your current answer won't work in general.")},function(t,e){var n=parseInt(e);isNaN(n)?z("Remember that the length is a number.  What would it mean to subtract a string from a number?"):z(0===n?"The length of a 5-character string such as pizza is 5, but since you start counting from 0, this was not the position of the last character.  Also subtracting 0 doesn't change the quantity (e.g., 5 - 0 = 5) so it wouldn't be necessary.":"What number do you want to subtract from the length of the string to get the position of its last character?  pizza had a length of 5, and its last character was at what position?  food has a length of 4, and its last character is at what position?")},function(t,e){return z("You're missing a closing parenthesis for "+t[5])}]);return e.error?e.match.join(""):t},init:function(){var t=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(e){if(t.getFieldValue("EXP").endsWith("\r")||t.getFieldValue("EXP").endsWith("\n")||t.getFieldValue("EXP").length>0&&"workspaceClick"===e.element){if(!t.validate(t.getFieldValue("EXP"))||!t.getFieldValue("EXP").endsWith(")")&&!t.getFieldValue("EXP").endsWith(";"))return;var n=Object(o.getParseTree)(t.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,t):z("Try checking what you entered again for mistakes.")}}}},Blockly.Python.type_in_set_to_position_of_second_middle_char=Blockly.JavaScript.type_in_set_to_position_of_second_middle_char=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_set_to_position_of_second_middle_char={validate:function(t){var e=j(t,[{token:"let",type:"terminal"},"positionOfSecondMiddleChar","=","s",".",{token:"LENGTH",type:"terminal"},"/","2"],[V.bind(null,z,"LET"),function(){return z("Be sure to name the variable you're declaring positionOfSecondMiddleChar to represent the fact that it's storing the position number of the string's second middle character.")},function(){return z("Remember to include an = after the variable positionOfSecondMiddleChar you're declaring to set it to the position of the string's second middle character.")},function(t,e){isNaN(parseInt(e))?e.startsWith('"')?z("Don't use \" here as you want the computer to evaluate what you typed (e.g., the word the user entered instead of the letter s)"):e.startsWith("l")||e.startsWith("p")?z("This is the string you want to get the length of so you'll want to use s, which stores what the user entered."):z("Be sure to include the variable s that you want to the get the length of."):z("Let's get the length of the string first when calculating the position of the second middle character even though it doesn't need to appear before the operation.")},function(){return z("Be sure to include the . after the variable")},V.bind(null,z,"LENGTH"),function(t,e){e.startsWith("-")?z("If you subtract a *specific number* for the length, this won't work in general.  For example, the length of SCRABBLE is 8 and the position of its second middle character is 4.  So subtracting 4 from the length works for that example, but if your string were FOOD, the middle character is at 2, but subtracting 4 from the length of 4 gives you 0."):e.startsWith("+")?z("Remember that the last character is at the length of the string - 1.  If you add zero or a positive number to the length, you'll get the position of a character that does not exist!  For example, if you add 1 to the length of pizza, you'll get 5 + 1 or 6, but the position of the last character is 4 so you'll go out of bounds!"):e.startsWith("*")?z("Multiplication could work, but not by a positive whole number since multiplying the length of the string by 1, 2, 3, or 4 will always be greater than the position of the last character of the string, which is its length - 1.  For example, multiplying the length of pizza by 4, gives you 5 * 4 = 20 and there's no 20th character!  What operation could you use instead so you don't refer to a position that's out of bounds?"):z("Type the appropriate option (+ = ADD, - = SUBTRACT, * = MULTIPLY, / = DIVIDE) that you want to perform on the string's length to calculate the position of its second middle character.")},function(t,e){var n=parseInt(e);e.startsWith('"')||e.startsWith("'")?z("Remember that the length is a number.  What would it mean to divide a string from a number?"):isNaN(n)?z("Remember that the length is a number.  You wouldn't divide it by the string the user enters (e.g., what would 8/SCRABBLE mean?) and you can't divide it by positionOfSecondMiddleChar because you're defining that variable.  And if you divide any positive number by itself, that'd be 1 anyway which won't be the position of the second middle character in general.  You can divide the length by a specific number to get the position of the second middle character.  What should that be?"):z("If you divide the length of SCRABBLE by "+n+", you'll get "+8/n+", which is not the position of its second middle character (4).  Try a different number.  Also verify that it works for strings of other even lengths such as CODE.")}]);return e.error?e.match.join(""):t},init:function(){var t=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(e){if(t.getFieldValue("EXP").endsWith("\r")||t.getFieldValue("EXP").endsWith("\n")||t.getFieldValue("EXP").length>0&&"workspaceClick"===e.element){if(!t.validate(t.getFieldValue("EXP"))||!t.getFieldValue("EXP").endsWith(")")&&!t.getFieldValue("EXP").endsWith(";"))return;var n=Object(o.getParseTree)(t.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,t):z("Try checking what you entered again for mistakes.")}}}},Blockly.Python.type_in_set_to_position_of_first_middle_char=Blockly.JavaScript.type_in_set_to_position_of_first_middle_char=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_set_to_position_of_first_middle_char={validate:function(t){var e=j(t,[{token:"let",type:"terminal"},"positionOfFirstMiddleChar","=","positionOfSecondMiddleChar","-","1"],[V.bind(null,z,"LET"),function(){return z("Be sure to name the variable you're declaring positionOfFirstMiddleChar to represent the fact that it's storing the position number of the string's first middle character.")},function(){return z("Remember to include an = after the variable positionOfFirstMiddleChar you're declaring to set it to the position of the string's first middle character.")},function(t,e){e.startsWith("-")?z("Let's get the length of the string first when calculating the position of the first middle character even though it doesn't need to appear before the operation."):e.startsWith('"')?z("Don't use \" here as you want the computer to evaluate the variable."):e.startsWith("l")?z("While you might use a math operation on the *position* of the last character, which is a number, to get the position of the first middle character, you would not use the character itself.  E.g., you might do a math operation on 4, which is the position of the a in pizza, but not the a itself.  However, try using a math operation on the *position* of the second middle character instead."):e.startsWith("s")?z("Instead of using the length of the string s this time to calculate the position of the first middle character, try using the position of the second middle character instead."):z("You'll want to use the position of the second middle character to get the position of the first middle character.  You already stored that in what variable?")},function(t,e){e.startsWith("/")?z("Dividing the position of the second middle character by a number won't get the previous position where the first middle character resides.  For example, for SCRABBLE, the second middle character is at position 4.  Dividing this by 2 gets you 2, the position of the R, by 3 gets you 4/3, which is not even a position, etc.  What would you do to the 4 to get to the position of the first middle character at 3?"):e.startsWith("+")?z("Adding a positive number won't be what you want as that moves you forward.  For example, the position of the second middle character of SCRABBLE is 4.  Adding 1, 2, or 3 would give you 5, 6, or 7, the positions of the second B, the L, and the E, respectively, not the position of the first middle character (A)."):e.startsWith("*")?z("Multiplying the position of the second middle character by a whole number won't get the previous position where the first middle character resides in general.  For example, for SCRABBLE, the second middle character is at position 4.  For example, multiplying by 0 always gives you 0 (position of initial character), by 1 gives you 4 (unchanged: position of second middle character), by 2 gives you 8 (number that's out of bounds beyond the position of the last character at 7).  What would you do to the 4 to get to the position of the first middle character at 3?"):z("Type the appropriate option (+ = ADD, - = SUBTRACT, * = MULTIPLY, / = DIVIDE) that you want to perform on positionOfSecondMiddleChar to calculate the position of the entered string's first middle character.")},function(t,e){var n=parseInt(e);e.startsWith('"')||e.startsWith("'")?z("Remember that positionOfSecondMiddleChar is a number and that quotes are for specific strings such as 'pizza'.  Why would you subtract a specific string from a number and what would it mean?"):isNaN(n)?z("Regardless of whether the string is at, code, pizzas, scrabble, or any other string with an even number of characters (not 0), you can always subtract the same number from the position of the second middle character to get the position of the first middle character.  The positions of the second middle characters and first characters are as follows (what number do you subtract from the first number to get the second?): \nat       : 1 | 0\ncode     : 2 | 1\npizzas   : 3 | 2\nscrabble : 4 | 3"):z("If you subtract "+n+"from the position of the second middle character of SCRABBLE, you'll get 4"-n+", which is not the position of its first middle character (3).  Try a different number.  Also verify that it works for strings of other even lengths such as CODE.")}]);return e.error?e.match.join(""):t},init:function(){var t=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(e){if(t.getFieldValue("EXP").endsWith("\r")||t.getFieldValue("EXP").endsWith("\n")||t.getFieldValue("EXP").length>0&&"workspaceClick"===e.element){if(!t.validate(t.getFieldValue("EXP"))||!t.getFieldValue("EXP").endsWith(")")&&!t.getFieldValue("EXP").endsWith(";"))return;var n=Object(o.getParseTree)(t.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,t):z("Try checking what you entered again for mistakes.")}}}},Blockly.Python.type_in_get_first_middle_char=Blockly.JavaScript.type_in_get_first_middle_char=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_get_first_middle_char={validate:function(t){var e=j(t,[{token:"let",type:"terminal"},"firstMiddleChar","=","s",".",{token:"GETCHARACTERNUMBER",type:"terminal"},"(","positionOfFirstMiddleChar",")"],[V.bind(null,z,"LET"),function(){return z("Be sure to name the variable you're declaring firstMiddleChar to represent the fact that it's storing the string's first middle character.")},function(){return z("Remember to include an = after the variable firstMiddleChar you're declaring to set it to the string's first middle character.")},function(t,e){e.startsWith('"')?z("Don't use \" here as you want the computer to evaluate what you typed (e.g., the word the user entered instead of the letter s)"):e.startsWith("l")||e.startsWith("p")||e.startsWith("f")?z("To get the a character at a given position in a string, you'll first need to specify the string you want to get the first middle character from so you'll want to use s, which stores what the user entered."):z("Be sure to include the variable s that you want to the get the value's first middle character from.")},function(){return z("Be sure to include the . after the variable")},V.bind(null,z,"GETCHARACTERNUMBER"),function(t){return"You're missing an open parenthesis after "+t[5]+"."},function(t,e){e.startsWith('"')||e.startsWith("'")?z("Remember that quotes are for specific strings such as 'pizza', but you want something representing a number after the open parenthesis for "+t[5]+'.  It wouldn\'t make sense to get the character at position *number* "pizza" of some string, right?'):isNaN(e)?z("You already have a variable storing the position number of the character that you want, don't you?  If a variable stores the result of a valid math operation, it should be a number so you can use it here.  For example, if s stores the 8-character user input SCRABBLE, s.length - 1 evaluates to 8 - 1 or 7.  So if a variable positionOfLastChar is set to s.length-1, it'll store 7.  You can then use s.length-1 in "+T2C.MSG.currentLanguage.TERMINAL_GETCHARACTERNUMBER+" and it'd get the 7th character.  Now you don't have such a variable here, but you do have a variable that stores the position number of the first middle character, which is what you want, right?"):z("You can't use a specific number here since the position of the first middle character will depend on the length of the string entered.")},function(t,e){return z("You're missing a closing parenthesis for "+t[5]+".")}]);return e.error?e.match.join(""):t},init:function(){var t=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(e){if(t.getFieldValue("EXP").endsWith("\r")||t.getFieldValue("EXP").endsWith("\n")||t.getFieldValue("EXP").length>0&&"workspaceClick"===e.element){if(!t.validate(t.getFieldValue("EXP"))||!t.getFieldValue("EXP").endsWith(")")&&!t.getFieldValue("EXP").endsWith(";"))return;var n=Object(o.getParseTree)(t.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,t):z("Try checking what you entered again for mistakes.")}}}},Blockly.Python.type_in_get_second_middle_char=Blockly.JavaScript.type_in_get_second_middle_char=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_get_second_middle_char={validate:function(t){var e=j(t,[{token:"let",type:"terminal"},"secondMiddleChar","=","s",".",{token:"GETCHARACTERNUMBER",type:"terminal"},"(","positionOfSecondMiddleChar",")"],[V.bind(null,z,"LET"),function(){return z("Be sure to name the variable you're declaring secondMiddleChar to represent the fact that it's storing the string's second middle character.")},function(){return z("Remember to include an = after the variable secondMiddleChar you're declaring to set it to the string's second middle character.")},function(t,e){e.startsWith('"')?z("Don't use \" here as you want the computer to evaluate what you typed (e.g., the word the user entered instead of the letter s)"):e.startsWith("l")||e.startsWith("p")||e.startsWith("f")?z("To get the a character at a given position in a string, you'll first need to specify the string you want to get the second middle character from so you'll want to use s, which stores what the user entered."):z("Be sure to include the variable s that you want to the get the value's second middle character from.")},function(){return z("Be sure to include the . after the variable")},V.bind(null,z,"GETCHARACTERNUMBER"),function(t){return"You're missing an open parenthesis after "+t[5]+"."},function(t,e){e.startsWith('"')||e.startsWith("'")?z("Remember that quotes are for specific strings such as 'pizza', but you want something representing a number after the open parenthesis for "+t[5]+'.  It wouldn\'t make sense to get the character at position *number* "pizza" of some string, right?'):isNaN(e)?z("You already have a variable storing the position number of the character that you want, don't you?  If a variable stores the result of a valid math operation, it should be a number so you can use it here.  For example, if s stores the 8-character user input SCRABBLE, s.length - 1 evaluates to 8 - 1 or 7.  So if a variable positionOfLastChar is set to s.length-1, it'll store 7.  You can then use s.length-1 in "+T2C.MSG.currentLanguage.TERMINAL_GETCHARACTERNUMBER+" and it'd get the 7th character.  Now you don't have such a variable here, but you do have a variable that stores the position number of the second middle character, which is what you want, right?"):z("You can't use a specific number here since the position of the second middle character will depend on the length of the string entered.")},function(t,e){return z("You're missing a closing parenthesis for "+t[5]+".")}]);return e.error?e.match.join(""):t},init:function(){var t=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(e){if(t.getFieldValue("EXP").endsWith("\r")||t.getFieldValue("EXP").endsWith("\n")||t.getFieldValue("EXP").length>0&&"workspaceClick"===e.element){if(!t.validate(t.getFieldValue("EXP"))||!t.getFieldValue("EXP").endsWith(")")&&!t.getFieldValue("EXP").endsWith(";"))return;var n=Object(o.getParseTree)(t.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,t):z("Try checking what you entered again for mistakes.")}}}},Blockly.Python.type_in_combine_first_last_middle2_chars=Blockly.JavaScript.type_in_combine_first_last_middle2_chars=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_combine_first_last_middle2_chars={validate:function(t){var e=j(t,[{token:"display",type:"terminal"},"(","s","+",'"',": ",'"',"+","firstChar","+","lastChar","+","firstMiddleChar","+","secondMiddleChar",")"],[V.bind(null,z,"DISPLAY"),function(t,e){return z("You're missing an open parenthesis after "+t[0]+".")},function(){return z("First you want to display the string the user entered, which is stored in the variable s.")},function(){return z("Recall from Mission 0 that you can join strings using + .")},function(){return z("After the string the user entered, you want to literally display the separator text.  Do you remember what you need to use so the string is displayed exactly as is.")},function(){return z("You want a colon followed by a space.  Be sure to display both and nothing else.")},function(){return z("Remember that you'll need (to close the) quotation marks before joining it with the first character that comes next.  This is because you'll want the computer to display the first character, which is stored in the variable firstChar.  You don't want to literally display firstChar so it needs to be outside of quotation marks.")},function(){return z("You need to include +'s between all strings you want to join together.")},function(){return z("The first character should be displayed next.  Recall that it's stored in firstChar.")},function(){return z("You need to include +'s between all strings you want to join together.")},function(){return z("The last character should be displayed next.  Recall that it's stored in lastChar.")},function(){return z("You need to include +'s between all strings you want to join together.")},function(){return z("The first middle character should be displayed next.  What variable stores it?")},function(){return z("You need to include +'s between all strings you want to join together.")},function(){return z("The second middle character should be displayed next.  What variable stores it?")},function(t,e){return z("You're missing a closing parenthesis for "+t[0]+".")}]);return e.error?e.match.join(""):t},init:function(){var t=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(e){if(t.getFieldValue("EXP").endsWith("\r")||t.getFieldValue("EXP").endsWith("\n")||t.getFieldValue("EXP").length>0&&"workspaceClick"===e.element){if(!t.validate(t.getFieldValue("EXP"))||!t.getFieldValue("EXP").endsWith(")")&&!t.getFieldValue("EXP").endsWith(";"))return;var n=Object(o.getParseTree)(t.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,t):z("Try checking what you entered again for mistakes.")}}}},String.prototype.JSSubstring=function(t,e){return t>=this.length||t===e?"":this.substring(t,e)},Blockly.Python.type_in_all_but_first_specific_str=Blockly.JavaScript.type_in_all_but_first_specific_str=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_all_but_first_specific_str={validate:function(t){var e=$(t,[{token:"display",type:"terminal"},"(","welcomeMsg",".",{token:"GETTEXTFROMPOSITIONNUMBER",type:"terminal"},"(","1",")",".",{token:"TOPOSITIONNUMBER",type:"terminal"},"(","15",")",")"],[K.bind(null,at,"DISPLAY"),function(t,e){return at("You're missing an open parenthesis after "+t[0]+".")},function(){return at("Be sure to include the variable welcomeMsg that you want to extract text from.")},function(){return at("Be sure to include the . after the variable welcomeMsg you want to extract text from.")},K.bind(null,at,"GETTEXTFROMPOSITIONNUMBER"),function(t,e){return at("You're missing an open parenthesis after "+t[4]+".")},function(){return at("What position number should you start extracting from if you want to remove the initial character?  Change this to the correct number.")},function(t,e){return at("You're missing a closing parenthesis for "+t[4]+" after the starting position number.")},function(){return at("Be sure to include the . after the closing parenthesis after the starting position number before the next part.")},K.bind(null,at,"TOPOSITIONNUMBER"),function(t,e){return at("You're missing an open parenthesis after "+t[9]+".")},function(){return at("What position number should you stop extracting from (stops one place before) if you want to get the rest of the string?  Just use a *specific* number here.  We'll generalize this so it works for other strings next.  Change this to the correct number.")},function(t,e){return at("You're missing a closing parenthesis for "+t[9]+" after the ending position number.")},function(t,e){return at("You're missing a closing parenthesis for "+t[0]+".")}]);return e.error?e.match.join(""):t},init:function(){var t=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(e){if(t.getFieldValue("EXP").endsWith("\r")||t.getFieldValue("EXP").endsWith("\n")||t.getFieldValue("EXP").length>0&&"workspaceClick"===e.element){if(!t.validate(t.getFieldValue("EXP"))||!t.getFieldValue("EXP").endsWith(")")&&!t.getFieldValue("EXP").endsWith(";"))return;var n=Object(o.getParseTree)(t.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,t):at("Try checking what you entered again for mistakes.")}}}},Blockly.Python.type_in_all_but_first_general_str=Blockly.JavaScript.type_in_all_but_first_general_str=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_all_but_first_general_str={validate:function(t){var e=$(t,[{token:"display",type:"terminal"},"(","response",".",{token:"GETTEXTFROMPOSITIONNUMBER",type:"terminal"},"(","1",")",".",{token:"TOPOSITIONNUMBER",type:"terminal"},"(","response",".",{token:"LENGTH",type:"terminal"},")",")"],[K.bind(null,at,"DISPLAY"),function(t,e){return at("You're missing an open parenthesis after "+t[0]+".")},function(){return at("Be sure to include the variable response that you want to extract text from.")},function(){return at("Be sure to include the . after the variable response you want to extract text from.")},K.bind(null,at,"GETTEXTFROMPOSITIONNUMBER"),function(t,e){return at("You're missing an open parenthesis after "+t[4]+".")},function(){return at("What position number should you start extracting from if you want to remove the initial character?  Change this to the correct number.")},function(t,e){return at("You're missing a closing parenthesis for "+t[4]+" after the starting position number.")},function(){return at("Be sure to include the . after the closing parenthesis after the starting position number before the next part.")},K.bind(null,at,"TOPOSITIONNUMBER"),function(t,e){return at("You're missing an open parenthesis after "+t[9]+".")},function(t,e){var n=parseInt(e);isNaN(n)?at("Remember the expression you used when you wanted to get the position of the last character for "+T2C.MSG.currentLanguage.TERMINAL_GETCHARACTERNUMBER+"?  This is a little different because the ending position will be 1 past the position of the last character since we stop 1 place before.\nFor some examples of the numbers we'd want to use for some strings: ok: 2, theek: 5, bahut acchaa: 12"):at("Remember that since you no longer know how short or long the entered string will be, the stopping position will not always be at position "+n+".  Instead, this position will depend on something about this string so your answer should refer to it.")},function(){return at("Be sure to include the . after the variable response you want to use.")},function(t,e){return at("What property of response do you want to get to determine the ending position here?")},function(t,e){-1!==e.replace(/\s/g,"").indexOf("-1")?at("Remember that "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" ends one position before the numerical expression given.  So for example, for a response of theek, response.length - 1 would be 5 - 1 or 4, which means you'd extract the text ending with the second e at position 3 instead of the k at position 4."):-1!==e.replace(/\s/g,"").indexOf("+1")?at("For a response of theek, response.length + 1 would be 5 + 1 or 6, but there is no 5th character since positions start at 0."):at("What you're doing to the "+T2C.MSG.currentLanguage.TERMINAL_LENGTH+" seems incorrect.  Be sure to have examples in mind before deciding what to type.  For example, for theek, the length is 5 and you want to go up to position 5 (since you'd stop extracting at character 4).  If you're done, be sure to include a closing parenthesis for "+t[9]+" after the ending position.")},function(t,e){return at("You're missing a closing parenthesis for "+t[0]+".")}]);return e.error?e.match.join(""):t},init:function(){var t=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(e){if(t.getFieldValue("EXP").endsWith("\r")||t.getFieldValue("EXP").endsWith("\n")||t.getFieldValue("EXP").length>0&&"workspaceClick"===e.element){if(!t.validate(t.getFieldValue("EXP"))||!t.getFieldValue("EXP").endsWith(")")&&!t.getFieldValue("EXP").endsWith(";"))return;var n=Object(o.getParseTree)(t.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,t):at("Try checking what you entered again for mistakes.")}}}};var st=function(){function t(e){_classCallCheck(this,t),this.workspace_=e||Blocky.getMainWorkspace(),this.toolboxBlocks_=[],this.toolBoxDOM_=document.getElementById("toolbox")}return _createClass(t,[{key:"createBlockWithType_",value:function(t){var e=document.createElement("block");return e.setAttribute("type",t),e}},{key:"clearToolbox",value:function(){Array.from(this.toolBoxDOM_.children).forEach((function(t){return t.remove()})),this.workspace_.options.maxInstances={},this.workspace_.updateToolbox(document.getElementById("toolbox")),this.toolboxBlocks_=[]}},{key:"createToolboxBlock",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.createBlockWithType_(t);return e?(document.getElementById("toolbox").prepend(n),this.toolboxBlocks_.unshift(n)):(document.getElementById("toolbox").append(n),this.toolboxBlocks_.push(n)),this.workspace_.updateToolbox(document.getElementById("toolbox")),n}},{key:"setToolboxBlockFieldValue",value:function(t,e,n){var o=document.createElement("field");o.setAttribute("name",e),o.appendChild(document.createTextNode(n)),t.appendChild(o)}},{key:"setToolboxBlockInputValue",value:function(t,e,n){var o=document.createElement("value");o.setAttribute("name",e),o.appendChild(n),t.appendChild(o)}},{key:"removeToolboxBlocks",value:function(t){var e=this,n=this.toolBoxBlocks_.map(t);return n.forEach((function(t,n){t&&e.toolboxBlocks_[n].remove()})),this.toolBoxBlocks_=this.toolboxBlocks_.filter((function(t,e){return!n[e]})),this.workspace_.updateToolbox(document.getElementById("toolbox")),block}}]),t}();function lt(){document.getElementById("output-container").classList.remove("show-container"),document.getElementById("output-container").classList.add("hide-container"),document.getElementById("text-code-container").classList.remove("show-container"),document.getElementById("text-code-container").classList.add("hide-container")}function ut(t,e){var n=Object.values(T2C.MSG).map((function(t){return t["TERMINAL_"+e.toUpperCase()]})).filter((function(t){return"string"==typeof t})).find((function(e){return e.startsWith(t)||t.startsWith(e)}));if(n)return{terminal:n,remaining:t.JSSubstring(n.length).trim()}}function ct(t,e){t("Check the spelling, case, and punctuation of what you're entering; it should identically match with "+T2C.MSG.currentLanguage["TERMINAL_"+e.toUpperCase()]+".")}function gt(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=e&&e.getBoundingRectangle()||{left:0,top:0};e=e||{width:0,height:0};var a=t.getMetrics(),s=t.getScale(),l=o,u=r,c=n.blockOffsetScaleX||0,g=n.blockOffsetScaleY||0;return{x:(i.left-a.viewLeft+c*e.width)*s+l,y:(i.top-a.viewTop+a.flyoutHeight+g*e.height)*s+u}}function dt(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=document.getElementById("alert-display");n||((n=document.createElement("div")).id="alert-display",n.style.fontSize="small",n.style.fontWeight="bold",n.style.borderColor="#000",n.style.backgroundColor="rgba(200, 200, 200, 0.5)",n.style.color="#f00",n.style.position="absolute",n.style.zIndex="1050",n.style.width="98%",n.style.minHeight="50px",n.style.left="0",n.style.bottom="0",n.style.textAlign="left",n.style.padding="1%",document.body.appendChild(n)),e?n.innerText=t:n.innerText+=t}String.prototype.JSSubstring=function(t,e){return t>=this.length||t===e?"":this.substring(t,e)},Blockly.Python.type_in_get_email_input=Blockly.JavaScript.type_in_get_email_input=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_get_email_input={validate:function(t){var e=function(t,e,n){for(var o=void 0,r=[],i=t,a=!1,s=-1;s<e.length-1&&i&&!a;){if("string"==typeof e[++s])i.length<e[s].length&&e[s].startsWith(i)?(o=i,i=""):i.startsWith(e[s])?(o=e[s],i=i.substring(e[s].length).trim()):a=!0;else if("terminal"===e[s].type){var l=ut(i.trim(),e[s].token);l?(o=l.terminal,i=l.remaining):a=!0}else if("regexp"===e[s].type){var u=i.trim().match(e[s].token);u?(o=u[0],i=i.substring(u[0].length)):a=!0}else a=!0;a||r.push(o)}return{match:r,error:a,errorMsg:a?n[s](r,i):dt("")||""}}(t,[{token:"let",type:"terminal"},"email","=",{token:"GETINPUTBYASKING",type:"terminal"},"(",{token:/^"[^"]*$|^'[^']*$|^"[^"]*e[-]?mail[^"]*"|^'[^']*e[-]?[^']*mail'/i,type:"regexp"},")"],[ct.bind(null,dt,"LET"),function(){return dt("Be sure to name the variable you're declaring email to represent the fact that it's storing the entered e-mail address.")},function(){return dt("Remember to include an = after the variable email you're declaring to set it to the entered e-mail address.")},ct.bind(null,dt,"GETINPUTBYASKING"),function(t){return dt("You're missing an open parenthesis after "+t[3]+".")},function(){return dt('The message to supply to the user should be surrounded by " and " because you want it to be displayed as is.  Be sure it also includes e-mail in it so the user knows to enter an e-mail.')},function(t,e){return dt("You're missing a closing parenthesis for "+t[3]+".")}]);return e.error?e.match.join(""):t},init:function(){var t=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(e){if(t.getFieldValue("EXP").endsWith("\r")||t.getFieldValue("EXP").endsWith("\n")||t.getFieldValue("EXP").length>0&&"workspaceClick"===e.element){if(!t.validate(t.getFieldValue("EXP"))||!t.getFieldValue("EXP").endsWith(")")&&!t.getFieldValue("EXP").endsWith(";"))return;var n=Object(o.getParseTree)(t.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,t):dt("Try checking what you entered again for mistakes.")}}}};var ht=[function(t,e){var n=t||new c,g=e||Blockly.getMainWorkspace();g.clear(),g.options.maxInstances={text_print:1,text:1,type_in_display_string_literal:1},g.setScale(1),Object(r.f)(g);var _=Array.from(document.querySelectorAll("rect")).filter((function(t){return t.getAttribute("fill-opacity")})),y=_[0],T=_[1];console.warn("TEXT",T);var b=document.createElement("div");function k(t){t.addTask(new i((function(){return document.getElementById("output-container").classList.contains("show-container")}),new u([new l((function(){return T2C.MSG.currentLanguage.BUTTON_RUN_CODE}),{startPosition:{x:document.getElementById("run-code-button").offsetLeft+document.getElementById("run-code-button").offsetWidth,y:document.getElementById("run-code-button").offsetTop+document.getElementById("run-code-button").offsetHeight}}),new s(b,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("run-code-button").offsetLeft+document.getElementById("run-code-button").offsetWidth/2,y:document.getElementById("run-code-button").offsetTop+document.getElementById("run-code-button").offsetHeight/2}})])))}b.innerText="👆",b.id="ptr",b.style.fontSize="x-large",b.style.position="absolute",b.style.zIndex="1001",document.getElementById("blockly-div").appendChild(b);var B=void 0,x=void 0,E="",I=!1,A=!1;return n.addTask(new i((function(){return g.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&Blockly.selected!==t}))}),new u([new l((function(){return"Drag the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block somewhere in the workspace."}),{startPosition:function(){return{x:0,y:document.getElementById("top-header").offsetHeight}}}),new a(b,{totalSteps:50,startPosition:{x:y.x.baseVal.value+y.width.baseVal.value/2,y:document.getElementById("top-header").offsetHeight+y.y.baseVal.value+y.height.baseVal.value/2},velocity:{x:0,y:2}})]))),n.addTask(new i((function(){return g.getAllBlocks().find((function(t){return"text"===t.type&&t.getParent()&&"text_print"===t.getParent().type}))}),new u([new l((function(){return"Drag the text block in the space in the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block."}),{startPosition:function(){return{x:0,y:document.getElementById("top-header").offsetHeight}}}),new a(b,{totalSteps:50,startPosition:{x:T.x.baseVal.value+T.width.baseVal.value/2,y:document.getElementById("top-header").offsetHeight+T.y.baseVal.value+y.height.baseVal.value/2},endPosition:function(){var t=g.getAllBlocks().find((function(t){return"text_print"===t.type||"js_text_print"===t.type}));return h(g,t,{blockOffsetScaleX:.5,blockOffsetScaleY:.5},b.offsetWidth/4,document.getElementById("top-header").offsetHeight-b.offsetHeight/4)}})]))),n.addTask(new i((function(){return g.getAllBlocks().find((function(t){return"text"===t.type&&t.getFieldValue("TEXT")}))}),new u([new l((function(){return"Click on the area between the quotation marks in the text block and "+T2C.MSG.currentLanguage.TYPE_SOMETHING}),{startPosition:function(){var t=g.getAllBlocks().find((function(t){return"text"===t.type}));return h(g,t,{blockOffsetScaleX:.5,blockOffsetScaleY:1},b.offsetWidth,document.getElementById("top-header").offsetHeight+b.offsetHeight)}}),new s(b,{totalSteps:100,toggleSteps:25,startPosition:function(){var t=g.getAllBlocks().find((function(t){return"text"===t.type}));return h(g,t,{blockOffsetScaleX:.5,blockOffsetScaleY:1},-b.offsetWidth/4,document.getElementById("top-header").offsetHeight)}})]))),k(n),m(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔ Congratulations! You just created and ran your first program!"),p(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),f();var t=document.createElement("block");t.setAttribute("type","type_in_display_string_literal"),document.getElementById("toolbox").prepend(t),g.options.maxInstances.type_in_display_string_literal=1,g.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new i((function(){return g.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&t.getNextBlock()&&"type_in_display_string_literal"===t.getNextBlock().type&&!g.isDragging()}))}),new u([new l((function(){return"Drag in the type-in-code block so its top groove connects to the point of the bottom of the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block."}),{startPosition:function(){return{x:0,y:document.getElementById("top-header").offsetHeight}}}),new a(b,{totalSteps:150,startPosition:function(){var t=d(0);return console.warn(t),{x:t.x.baseVal.value+t.width.baseVal.value/2,y:document.getElementById("top-header").offsetHeight+y.y.baseVal.value+y.height.baseVal.value/2}},endPosition:function(){var t=g.getAllBlocks().find((function(t){return"text_print"===t.type||"js_text_print"===t.type}));return h(g,t,{blockOffsetScaleX:0,blockOffsetScaleY:1},b.offsetWidth/4,document.getElementById("top-header").offsetHeight)}})]))),n.addTask(new i((function(){return g.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&t.getNextBlock()&&("text_print"===t.getNextBlock().type||"js_text_print"===t.getNextBlock().type)&&t.getNextBlock().getInputTargetBlock("TEXT")&&"text"===t.getNextBlock().getInputTargetBlock("TEXT").type}))}),new u([new l((function(){return"Type in code matching above block but with different text to display.  I.e., Type\n"+T2C.MSG.currentLanguage.TEXT_PRINT_TITLE.replace("%1",'"your new message"')+"\nreplacing your new message with whatever you want to display.  Be exact with parentheses, quotation marks, etc.  Tap off the block when you're done."}),{startPosition:function(){var t=g.getAllBlocks().find((function(t){return"type_in_display_string_literal"===t.type}));return h(g,t,{blockOffsetScaleX:.5,blockOffsetScaleY:1},b.offsetWidth,document.getElementById("top-header").offsetHeight+b.offsetHeight)}}),new s(b,{totalSteps:200,toggleSteps:50,startPosition:function(){var t=g.getAllBlocks().find((function(t){return"type_in_display_string_literal"===t.type}));return h(g,t,{blockOffsetScaleX:0,blockOffsetScaleY:1},0,document.getElementById("top-header").offsetHeight)}})]))),n.addTask(new i((function(){return document.getElementById("output-container").classList.contains("show-container")}),new u([{start:function(){g.options.maxInstances.type_in_display_string_literal=0,g.updateToolbox(document.getElementById("toolbox"))},isComplete:function(){return!0},animate:function(){return!0}},new l((function(){return T2C.MSG.currentLanguage.BUTTON_RUN_CODE}),{startPosition:{x:document.getElementById("run-code-button").offsetLeft+document.getElementById("run-code-button").offsetWidth,y:document.getElementById("run-code-button").offsetTop+document.getElementById("run-code-button").offsetHeight}}),new s(b,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("run-code-button").offsetLeft+document.getElementById("run-code-button").offsetWidth/2,y:document.getElementById("run-code-button").offsetTop+document.getElementById("run-code-button").offsetHeight/2}})]))),m(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔ Awesome! You just typed code for and ran your first program!"),p(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),f(),["variables_get","variables_set"].forEach((function(t){var e=document.createElement("block");e.setAttribute("type",t),document.getElementById("toolbox").prepend(e),g.options.maxInstances[t]=1})),g.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new i((function(){return g.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getNextBlock()&&("text_print"===t.getNextBlock().type||"js_text_print"===t.getNextBlock().type)}))}),new u([new l((function(){return"Drag in the "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable declaration block directly above the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block so its bottom point connects to the groove of the top of the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block."}),{startPosition:function(){return{x:0,y:document.getElementById("top-header").offsetHeight}}}),new a(b,{totalSteps:150,startPosition:function(){var t=d(0);return{x:t.x.baseVal.value+t.width.baseVal.value/2,y:document.getElementById("top-header").offsetHeight+t.y.baseVal.value+t.height.baseVal.value/2}},endPosition:function(){var t=g.getAllBlocks().find((function(t){return"text_print"===t.type||"js_text_print"===t.type}));return h(g,t,{blockOffsetScaleX:0,blockOffsetScaleY:0},b.offsetWidth/4,document.getElementById("top-header").offsetHeight)}})]))),n.addTask(new i((function(){return g.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getInputTargetBlock("VALUE")&&"text"===t.getInputTargetBlock("VALUE").type}))}),new u([new l((function(){return"Drag the text from inside the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block to the inside of the "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable declaration block directly above it so the variable stores the text."}),{startPosition:function(){return{x:0,y:document.getElementById("top-header").offsetHeight}}}),new a(b,{totalSteps:150,startPosition:function(){var t=g.getAllBlocks().find((function(t){return"text"===t.type}));return t.getBoundingRectangle(),h(g,t,{blockOffsetScaleX:.5,blockOffsetScaleY:.5},0,document.getElementById("top-header").offsetHeight)},endPosition:function(){var t=g.getAllBlocks().find((function(t){return"variables_set"===t.type}));return t.getBoundingRectangle(),h(g,t,{blockOffsetScaleX:.75,blockOffsetScaleY:.5},0,document.getElementById("top-header").offsetHeight)}})]))),n.addTask(new i((function(){return g.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&t.getInputTargetBlock("TEXT")&&"variables_get"===t.getInputTargetBlock("TEXT").type}))}),new u([new l((function(){var t=g.getAllBlocks().find((function(t){return"variables_set"===t.type})),e=g.getAllBlocks().find((function(e){return"text"===e.type&&e.getParent()===t})),n=t?t.getField("VAR").getText():"item",o=e?e.getFieldValue("TEXT"):"";return"Drag the variable get block from the toolbox to the inside of the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block.  This will cause the variable the text is set to ("+o+") to display.  (The computer knows to display its value instead of the literal text "+n+" because it is not surrounded by quotation marks."}),{startPosition:function(){return{x:0,y:document.getElementById("top-header").offsetHeight}}}),new a(b,{totalSteps:150,startPosition:function(){var t=d(1);return{x:t.x.baseVal.value+t.width.baseVal.value/2,y:document.getElementById("top-header").offsetHeight+t.y.baseVal.value+t.height.baseVal.value/2}},endPosition:function(){var t=g.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&!t.getInputTargetBlock("TEXT")}));return h(g,t,{blockOffsetScaleX:.5,blockOffsetScaleY:.5},b.offsetWidth/4,document.getElementById("top-header").offsetHeight)}})]))),k(n),m(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("👍 Great!  Notice how the output is the same as before, but in this program, we store one of the lines of text to display in a variable first.  Variables are useful for storing stuff we'll want to use later."),p(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),f();var t=document.createElement("block");t.setAttribute("type","text_input"),document.getElementById("toolbox").prepend(t),g.options.maxInstances.text_input=1,g.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new i((function(){return g.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getInputTargetBlock("VALUE")&&("text_input"===t.getInputTargetBlock("VALUE").type||"js_text_input"===t.getInputTargetBlock("VALUE").type)}))}),new u([new l((function(){var t=g.getAllBlocks().find((function(t){return"variables_set"===t.type})),e=g.getAllBlocks().find((function(t){return"text_input"===t.type||"js_text_input"===t.type})),n=g.getAllBlocks().find((function(n){return"text"===n.type&&(n.getParent()===t||n.getParent()===e)})),o=t?t.getField("VAR").getText():"item",r=n?n.getFieldValue("TEXT"):"";return"Drag the "+T2C.MSG.currentLanguage.TERMINAL_GETINPUTBYASKING+" block inside the "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block and move the text block that currently resides there inside the new "+T2C.MSG.currentLanguage.TERMINAL_GETINPUTBYASKING+" block.  This will ask the user for text with the message "+r+" and store whatever the user types in the variable "+o+"."}),{startPosition:function(){return{x:0,y:document.getElementById("top-header").offsetHeight}}}),new a(b,{totalSteps:150,startPosition:function(){var t=d(0);return{x:t.x.baseVal.value+t.width.baseVal.value/2,y:document.getElementById("top-header").offsetHeight+t.y.baseVal.value+t.height.baseVal.value/2}},endPosition:function(){var t=g.getAllBlocks().find((function(t){return"variables_set"===t.type}));return h(g,t,{blockOffsetScaleX:.75,blockOffsetScaleY:.5},0,document.getElementById("top-header").offsetHeight)}})]))),n.addTask(new i((function(){return g.getAllBlocks().find((function(t){return"variables_set"===t.type&&"firstName"===t.getField("VAR").getText()}))}),new u([new l((function(){return"You will be asking the user for his/her first name, and this variable will store it.  Rename the variable:\nfirstName\nThis variable is in camel case, which is a convention in Python and JavaScript.  This means that the first letter of each word after the first is capitalized."}),{startPosition:function(){var t=g.getAllBlocks().find((function(t){return"variables_set"===t.type}));return h(g,t,{blockOffsetScaleX:0,blockOffsetScaleY:1},b.offsetWidth,document.getElementById("top-header").offsetHeight)}}),new s(b,{totalSteps:100,toggleSteps:25,startPosition:function(){var t=g.getAllBlocks().find((function(t){return"variables_set"===t.type}));return h(g,t,{blockOffsetScaleX:0,blockOffsetScaleY:.5},b.offsetWidth,document.getElementById("top-header").offsetHeight)}})]))),n.addTask(new i((function(){return g.getAllBlocks().find((function(t){return"text"===t.type&&t.getParent()&&("text_input"===t.getParent().type||"js_text_input"===t.getParent().type)&&(t.getFieldValue("TEXT").toLowerCase().includes("name ")||t.getFieldValue("TEXT").toLowerCase().includes(" name"))}))}),new u([new l((function(){return"This text is the message the user will receive asking for his/her name.  Write a message asking the user for his/her name.  Unlike the variable name which cannot have spaces in most programming languages, the message will be seen by the user and should have spaces.  The variable will store the name your user enters."}),{startPosition:function(){var t=g.getAllBlocks().find((function(t){return"text"===t.type&&t.getParent()&&("text_input"===t.getParent().type||"js_text_input"===t.getParent().type)}));return h(g,t,{blockOffsetScaleX:.5,blockOffsetScaleY:1},b.offsetWidth,document.getElementById("top-header").offsetHeight)}}),new s(b,{totalSteps:100,toggleSteps:25,startPosition:function(){var t=g.getAllBlocks().find((function(t){return"text"===t.type&&t.getParent()&&("text_input"===t.getParent().type||"js_text_input"===t.getParent().type)}));return t.getBoundingRectangle(),h(g,t,{blockOffsetScaleX:.5,blockOffsetScaleY:.5},-b.offsetWidth/4,document.getElementById("top-header").offsetHeight)}})]))),k(n),m(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("👍 Cool!  Notice how the output includes what you typed in for your first name.  If you run it again and type in something different, you'll see this different name."),p(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),f();var t=document.createElement("block");t.setAttribute("type","t2c_text_join"),document.getElementById("toolbox").prepend(t),g.options.maxInstances.t2c_text_join=1,g.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new i((function(){return g.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&t.getInputTargetBlock("TEXT")&&"t2c_text_join"===t.getInputTargetBlock("TEXT").type}))}),new u([new l((function(){var t=g.getAllBlocks().find((function(t){return"variables_get"===t.type})),e=g.getAllBlocks().find((function(t){return"text_print"===t.type||"js_text_print"===t.type})),n=g.getAllBlocks().find((function(t){return"text"===t.type&&t.getParent()===e})),o=t?t.getField("VAR").getText():"item",r=n?n.getFieldValue("TEXT"):"";return"Drag the + block inside the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block, replacing the variable "+o+" get block currently inside it.  The + is used to join text expressions together (also called string concatenation).  We will join the text "+r+" currently appearing below with the value of the variable "+o+", which is whatever the user types in and use the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block to display the result on a single line."}),{startPosition:function(){return{x:0,y:document.getElementById("top-header").offsetHeight}}}),new a(b,{totalSteps:150,startPosition:function(){var t=d(0);return{x:t.x.baseVal.value+t.width.baseVal.value/2,y:document.getElementById("top-header").offsetHeight+t.y.baseVal.value+t.height.baseVal.value/2}},endPosition:function(){var t=g.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&t.getInputTargetBlock("TEXT")&&"variables_get"===t.getInputTargetBlock("TEXT").type}));return h(g,t,{blockOffsetScaleX:.5,blockOffsetScaleY:.5},0,document.getElementById("top-header").offsetHeight)}})]))),n.addTask(new i((function(){return g.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&t.getInputTargetBlock("TEXT")&&"t2c_text_join"===t.getInputTargetBlock("TEXT").type&&t.getInputTargetBlock("TEXT").getInputTargetBlock("A")&&"text"===t.getInputTargetBlock("TEXT").getInputTargetBlock("A").type}))}),new u([new l((function(){var t=g.getAllBlocks().find((function(t){return"variables_get"===t.type})),e=g.getAllBlocks().find((function(t){return"text"===t.type&&t.getParent()&&("text_print"===t.getParent().type||"js_text_print"===t.getParent().type)}));return t&&t.getField("VAR").getText(),"Drag the text "+(e?e.getFieldValue("TEXT"):"")+" appearing in the bottom "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block in the left space of the + block."}),{startPosition:function(){return{x:0,y:document.getElementById("top-header").offsetHeight}}}),new a(b,{totalSteps:150,startPosition:function(){var t=g.getAllBlocks().find((function(t){return"text"===t.type&&t.getParent()&&("text_print"===t.getParent().type||"text_print"===t.getParent().type)}));return h(g,t,{blockOffsetScaleX:.5,blockOffsetScaleY:.5},0,document.getElementById("top-header").offsetHeight)},endPosition:function(){var t=g.getAllBlocks().find((function(t){return"t2c_text_join"===t.type}));return h(g,t,{blockOffsetScaleX:.25,blockOffsetScaleY:.5},0,document.getElementById("top-header").offsetHeight)}})]))),n.addTask(new i((function(){return g.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&t.getInputTargetBlock("TEXT")&&"t2c_text_join"===t.getInputTargetBlock("TEXT").type&&t.getInputTargetBlock("TEXT").getInputTargetBlock("A")&&"text"===t.getInputTargetBlock("TEXT").getInputTargetBlock("A").type&&t.getInputTargetBlock("TEXT").getInputTargetBlock("B")&&"variables_get"===t.getInputTargetBlock("TEXT").getInputTargetBlock("B").type}))}),new u([new l((function(){var t=g.getAllBlocks().find((function(t){return"variables_get"===t.type}));return"Now drag the variable "+(t?t.getField("VAR").getText():"item")+" block inside the right space of the + block."}),{startPosition:function(){return{x:0,y:document.getElementById("top-header").offsetHeight}}}),new a(b,{totalSteps:150,startPosition:function(){var t=g.getAllBlocks().find((function(t){return"variables_get"===t.type}));return h(g,t,{blockOffsetScaleX:.5,blockOffsetScaleY:.5},0,document.getElementById("top-header").offsetHeight)},endPosition:function(){var t=g.getAllBlocks().find((function(t){return"t2c_text_join"===t.type}));return h(g,t,{blockOffsetScaleX:.75,blockOffsetScaleY:.5},0,document.getElementById("top-header").offsetHeight)}})]))),n.addTask(new i((function(){return 1===g.getAllBlocks().filter((function(t){return"text_print"===t.type||"js_text_print"===t.type})).length}),new u([new l((function(){return"Now drag the bottom "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block in the trashcan since you no longer need it."}),{startPosition:function(){return{x:0,y:document.getElementById("top-header").offsetHeight}}}),new a(b,{totalSteps:150,startPosition:function(){var t=g.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&!t.getInputTargetBlock("TEXT")}));return h(g,t,{blockOffsetScaleX:.5,blockOffsetScaleY:.5},0,document.getElementById("top-header").offsetHeight)},endPosition:function(){var t=g.trashcan.getClientRect();return{x:(t.left+t.right)/2,y:(t.top+t.bottom)/2}}})]))),k(n),m(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("👍 Great!  Notice how the + was used to concatenate or join together the literal message (in quotes) and the name the user enters (*NOT* in quotes)."),p(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),f();var t=document.createElement("block");t.setAttribute("type","type_in_welcome_message"),document.getElementById("toolbox").prepend(t),g.options.maxInstances.type_in_welcome_message=1,g.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new i((function(){return 1===g.getAllBlocks().filter((function(t){return"text_print"===t.type||"js_text_print"===t.type})).length&&0===g.getAllBlocks().filter((function(t){return"t2c_text_join"===t.type})).length&&0===g.getAllBlocks().filter((function(t){return"variables_get"===t.type})).length&&1===g.getAllBlocks().filter((function(t){return"text"===t.type})).length}),new u([new l((function(){return"Now drag the + block with the text and variable blocks inside of it into the trashcan.  Do *NOT* drag the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" statement block in the trashcan since we will be using an expression type-in block.  In JavaScript, an expression is just something that produces a value whereas a statement does not.  As a block, it connects inside such as +, a variable get, text, or "+T2C.MSG.currentLanguage.TERMINAL_GETINPUTBYASKING+"."}),{startPosition:function(){return{x:0,y:document.getElementById("top-header").offsetHeight}}}),new a(b,{totalSteps:150,startPosition:function(){var t=g.getAllBlocks().find((function(t){return"t2c_text_join"===t.type}));return h(g,t,{blockOffsetScaleX:.5,blockOffsetScaleY:.5},0,document.getElementById("top-header").offsetHeight)},endPosition:function(){var t=g.trashcan.getClientRect();return{x:(t.left+t.right)/2,y:(t.top+t.bottom)/2}},finish:function(){g.options.maxInstances.t2c_text_join=0,g.options.maxInstances.variables_get=0,g.updateToolbox(document.getElementById("toolbox"))}})]))),n.addTask(new i((function(){return g.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&t.getInputTargetBlock("TEXT")&&"type_in_welcome_message"===t.getInputTargetBlock("TEXT").type}))}),new u([new l((function(){return"Now drag the type-in-expression block inside the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" one."}),{startPosition:function(){return{x:0,y:document.getElementById("top-header").offsetHeight}}}),new a(b,{totalSteps:150,startPosition:function(){var t=d(0);return{x:t.x.baseVal.value+t.width.baseVal.value/2,y:document.getElementById("top-header").offsetHeight+t.y.baseVal.value+t.height.baseVal.value/2}},endPosition:function(){var t=g.getAllBlocks().find((function(t){return"text_print"===t.type||"js_text_print"===t.type}));return h(g,t,{blockOffsetScaleX:.5,blockOffsetScaleY:.5},0,document.getElementById("top-header").offsetHeight)}})]))),n.addTask(new i((function(){var t=g.getAllBlocks().find((function(t){return"text_print"===t.type||"js_text_print"===t.type})),e=t.getInputTargetBlock("TEXT")&&"t2c_text_join"===t.getInputTargetBlock("TEXT").type&&t.getInputTargetBlock("TEXT"),n=e&&e.getInputTargetBlock("A"),o=e&&e.getInputTargetBlock("B");if(!n||!o)return!1;var r="t2c_text_join"===n.type?n.getInputTargetBlock("A"):n,i="t2c_text_join"===n.type?n.getInputTargetBlock("B"):"t2c_text_join"===o.type&&o.getInputTargetBlock("A"),a="t2c_text_join"===o.type?o.getInputTargetBlock("B"):o;return r&&"text"===r.type&&i&&"variables_get"===i.type&&"firstName"===i.getField("VAR").getText()&&a&&"text"===a.type}),new u([new l((function(){return"Write a message to welcome the user with his/her name with punctuation at the end.  To do this type:\n(1) Something like welcome *in quotes* because you want it to be displayed as is.\n(2) + firstName (+ to join text and firstName without the quotes to get the name the user typed in and not literally the text firstName)\n(3) + and a punctuation mark in quotes to tack on a punctuation symbol at the end."}),{startPosition:function(){var t=g.getAllBlocks().find((function(t){return"text_print"===t.type||"js_text_print"===t.type}));return h(g,t,{blockOffsetScaleX:1,blockOffsetScaleY:1},0,document.getElementById("top-header").offsetHeight)}}),new s(b,{totalSteps:100,toggleSteps:25,startPosition:function(){var t=g.getAllBlocks().find((function(t){return"type_in_welcome_message"===t.type}));return h(g,t,{blockOffsetScaleX:.5,blockOffsetScaleY:.5},0,document.getElementById("top-header").offsetHeight)},finish:function(){g.options.maxInstances.type_in_welcome_message=0,g.updateToolbox(document.getElementById("toolbox"))}})]))),k(n),m(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){var t=document.getElementById("load-save-text-code");alert("✔✔ Excellent!  You just wrote a program to welcome the user and along the way you learned some things about variables, getting input from the user, and joining together string literals and variables to produce output.  Mission 0 is just about complete; let's just make sure you can save your work and load it up later!  For extra credit, we'll show you what your code looks in pure JavaScript."),p(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),f(),t.addEventListener("click",(function(){A&&(E=document.getElementById("textCodeBox").value)})),document.getElementById("save-code-button").addEventListener("click",(function(){I=!1,A=!0,9===g.getAllBlocks().length?(x=Object(o.workspaceToLanguageCode)(g,T2C.MSG.currentLanguage)||document.getElementById("textCodeBox").value,B=Object(o.workspaceToXML)(g)||document.getElementById("xmlData").value):alert("Workspace changed, please restore what you originally had before saving")})),document.getElementById("load-code-button").addEventListener("click",(function(){I=!0,A=!1}))}})),n.addTask(new i((function(){return A}),new u([new l((function(){return T2C.MSG.currentLanguage.BUTTON_SAVE_TEXT_CODE}),{startPosition:{x:document.getElementById("save-code-button").offsetLeft+document.getElementById("save-code-button").offsetWidth,y:document.getElementById("save-code-button").offsetTop+document.getElementById("save-code-button").offsetHeight}}),new s(b,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("save-code-button").offsetLeft+document.getElementById("save-code-button").offsetWidth/2,y:document.getElementById("save-code-button").offsetTop+document.getElementById("save-code-button").offsetHeight/2}})]))),n.addTask(new i((function(){return E&&x&&E.replace(/\n|\r/g,"")===x.replace(/\n|\r/g,"")}),new u([new l((function(){return T2C.MSG.currentLanguage.BUTTON_SAVE_TEXT_CODE}),{startPosition:function(){return{x:document.getElementById("load-save-text-code").offsetLeft+document.getElementById("load-save-text-code").offsetWidth,y:document.getElementById("load-save-text-code").offsetTop+document.getElementById("load-save-text-code").offsetHeight}}}),new s(b,{totalSteps:100,toggleSteps:25,startPosition:function(){return{x:document.getElementById("load-save-text-code").offsetLeft+document.getElementById("load-save-text-code").offsetWidth/2,y:document.getElementById("load-save-text-code").offsetTop+document.getElementById("load-save-text-code").offsetHeight/2}}})]))),n.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("OK, now that you've copied the code, let's clear the workspace of the blocks and then load it (without reloading the page!) to confirm that everything works.  BE SURE NOT TO overwrite the clipboard until you load the code again or you'll lose your work!"),f()}})),n.addTask(new i((function(){return 0===g.getAllBlocks().length}),new u([new l((function(){return"Move all blocks to the trashcan or rightmouse click (hold down finger on phone) on an empty place in the workspace and select Delete."}),{startPosition:function(){return{x:50,y:document.getElementById("top-header").offsetHeight+g.getMetrics().flyoutHeight+100}}}),new s(b,{totalSteps:100,toggleSteps:25,startPosition:function(){var t=g.trashcan.getClientRect();return{x:(t.left+t.right)/2,y:(t.top+t.bottom)/2}}})]))),n.addTask(new i((function(){return I}),new u([new l((function(){return T2C.MSG.currentLanguage.BUTTON_LOAD_TEXT_CODE}),{startPosition:{x:document.getElementById("load-code-button").offsetLeft+document.getElementById("load-code-button").offsetWidth,y:document.getElementById("load-code-button").offsetTop+document.getElementById("load-code-button").offsetHeight}}),new s(b,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("load-code-button").offsetLeft+document.getElementById("load-code-button").offsetWidth/2,y:document.getElementById("load-code-button").offsetTop+document.getElementById("load-code-button").offsetHeight/2}})]))),n.addTask(new i((function(){return x.replace(/\n|\r/g,"")===document.getElementById("textCodeBox").value.replace(/\n|\r/g,"")}),new u([new l((function(){return"Paste the code you copied in this text box."}),{startPosition:function(){return{x:document.getElementById("textCodeBox").offsetLeft+document.getElementById("textCodeBox").offsetWidth/2,y:document.getElementById("textCodeBox").offsetTop+document.getElementById("textCodeBox").offsetHeight}}}),new s(b,{totalSteps:100,toggleSteps:25,startPosition:function(){return{x:document.getElementById("textCodeBox").offsetLeft+document.getElementById("textCodeBox").offsetWidth/2,y:document.getElementById("textCodeBox").offsetTop+document.getElementById("textCodeBox").offsetHeight/2}}})]))),n.addTask(new i((function(){return 9===g.getAllBlocks().length}),new u([new l((function(){return T2C.MSG.currentLanguage.BUTTON_LOAD_TEXT_CODE}),{startPosition:function(){return{x:document.getElementById("load-save-text-code").offsetLeft+document.getElementById("load-save-text-code").offsetWidth,y:document.getElementById("load-save-text-code").offsetTop+document.getElementById("load-save-text-code").offsetHeight}}}),new s(b,{totalSteps:100,toggleSteps:25,startPosition:function(){return{x:document.getElementById("load-save-text-code").offsetLeft+document.getElementById("load-save-text-code").offsetWidth/2,y:document.getElementById("load-save-text-code").offsetTop+document.getElementById("load-save-text-code").offsetHeight/2}}})]))),n.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("👍 Great! You can also save/load the information about the blocks (XML) from/to the second box.  This will lay out the blocks exactly as you had them in the workspace.  So let's try that now."),f(),document.getElementById("load-save-xml").addEventListener("click",(function(){A&&(E=document.getElementById("xmlData").value)}))}})),n.addTask(new i((function(){return A}),new u([new l((function(){return T2C.MSG.currentLanguage.BUTTON_SAVE_XML}),{startPosition:{x:document.getElementById("save-code-button").offsetLeft+document.getElementById("save-code-button").offsetWidth,y:document.getElementById("save-code-button").offsetTop+document.getElementById("save-code-button").offsetHeight}}),new s(b,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("save-code-button").offsetLeft+document.getElementById("save-code-button").offsetWidth/2,y:document.getElementById("save-code-button").offsetTop+document.getElementById("save-code-button").offsetHeight/2}})]))),n.addTask(new i((function(){return E&&B&&E.replace(/\n|\r/g,"")===B.replace(/\n|\r/g,"")}),new u([new l((function(){return T2C.MSG.currentLanguage.BUTTON_SAVE_XML}),{startPosition:function(){return{x:document.getElementById("load-save-xml").offsetLeft+document.getElementById("load-save-xml").offsetWidth,y:document.getElementById("load-save-xml").offsetTop+document.getElementById("load-save-xml").offsetHeight}}}),new s(b,{totalSteps:100,toggleSteps:25,startPosition:function(){return{x:document.getElementById("load-save-xml").offsetLeft+document.getElementById("load-save-xml").offsetWidth/2,y:document.getElementById("load-save-xml").offsetTop+document.getElementById("load-save-xml").offsetHeight/2}}})]))),n.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("OK, now that you've copied the XML for the blocks, let's clear the workspace of the blocks and then load it (without reloading the page!) to confirm that everything works.  BE SURE NOT TO overwrite the clipboard until you load the code again or you'll lose your work!"),f()}})),n.addTask(new i((function(){return 0===g.getAllBlocks().length}),new u([new l((function(){return"Move all blocks to the trashcan or rightmouse click (hold down finger on phone) on an empty place in the workspace and select Delete."}),{startPosition:function(){return{x:50,y:document.getElementById("top-header").offsetHeight+g.getMetrics().flyoutHeight+100}}}),new s(b,{totalSteps:100,toggleSteps:25,startPosition:function(){var t=g.trashcan.getClientRect();return{x:(t.left+t.right)/2,y:(t.top+t.bottom)/2}}})]))),n.addTask(new i((function(){return I}),new u([new l((function(){return T2C.MSG.currentLanguage.BUTTON_LOAD_XML}),{startPosition:{x:document.getElementById("load-code-button").offsetLeft+document.getElementById("load-code-button").offsetWidth,y:document.getElementById("load-code-button").offsetTop+document.getElementById("load-code-button").offsetHeight}}),new s(b,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("load-code-button").offsetLeft+document.getElementById("load-code-button").offsetWidth/2,y:document.getElementById("load-code-button").offsetTop+document.getElementById("load-code-button").offsetHeight/2}})]))),n.addTask(new i((function(){return B.replace(/\n|\r/g,"")===document.getElementById("xmlData").value.replace(/\n|\r/g,"")}),new u([new l((function(){return"Paste the XML you copied in this text box."}),{startPosition:function(){return{x:document.getElementById("xmlData").offsetLeft+document.getElementById("xmlData").offsetWidth/2,y:document.getElementById("xmlData").offsetTop+document.getElementById("xmlData").offsetHeight}}}),new s(b,{totalSteps:100,toggleSteps:25,startPosition:function(){return{x:document.getElementById("xmlData").offsetLeft+document.getElementById("xmlData").offsetWidth/2,y:document.getElementById("xmlData").offsetTop+document.getElementById("xmlData").offsetHeight/2}}})]))),n.addTask(new i((function(){return 9===g.getAllBlocks().length}),new u([new l((function(){return T2C.MSG.currentLanguage.BUTTON_LOAD_XML}),{startPosition:function(){return{x:document.getElementById("load-save-xml").offsetLeft+document.getElementById("load-save-xml").offsetWidth,y:document.getElementById("load-save-xml").offsetTop+document.getElementById("load-save-xml").offsetHeight}}}),new s(b,{totalSteps:100,toggleSteps:25,startPosition:function(){return{x:document.getElementById("load-save-xml").offsetLeft+document.getElementById("load-save-xml").offsetWidth/2,y:document.getElementById("load-save-xml").offsetTop+document.getElementById("load-save-xml").offsetHeight/2}}})]))),n.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("👍 Excellent! As the last part of this initial exercise, let's see how the blocks look in pure JavaScript."),f()}})),n.addTask(new i((function(){return"js"===document.getElementById("language").value}),new u([new l((function(){return"Select JavaScript and then see what happens to the toolbox and blocks."}),{startPosition:{x:document.getElementById("language").offsetLeft+document.getElementById("language").offsetWidth,y:document.getElementById("language").offsetTop+document.getElementById("language").offsetHeight}}),new s(b,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("language").offsetLeft+document.getElementById("language").offsetWidth/2,y:document.getElementById("language").offsetTop+document.getElementById("language").offsetHeight/2}})]))),n.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔✔✔ Congratulations!  You just completed Mission 0!  In your upcoming missions, you'll begin to solve problems without explicit instructions of how to use the blocks.")}})),n},function(t,e){var n=t||new c,o=e||Blockly.getMainWorkspace();!function(t){Array.from(document.getElementById("toolbox").children).forEach((function(t){return t.remove()})),t.options.maxInstances={},t.updateToolbox(document.getElementById("toolbox"))}(o),["variables_set","text","text_input"].forEach((function(t){k(o,t,!1),o.options.maxInstances[t]=1})),o.clear(),o.setScale(1),Object(r.f)(o);var a=Array.from(document.querySelectorAll("rect")).filter((function(t){return t.getAttribute("fill-opacity")})),g=(a[0],a[1]);console.warn("TEXT",g);var d=document.createElement("div");function h(t){t.addTask(new i((function(){return document.getElementById("output-container").classList.contains("show-container")}),new u([new l((function(){return T2C.MSG.currentLanguage.BUTTON_RUN_CODE}),{startPosition:{x:document.getElementById("run-code-button").offsetLeft+document.getElementById("run-code-button").offsetWidth,y:document.getElementById("run-code-button").offsetTop+document.getElementById("run-code-button").offsetHeight}}),new s(d,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("run-code-button").offsetLeft+document.getElementById("run-code-button").offsetWidth/2,y:document.getElementById("run-code-button").offsetTop+document.getElementById("run-code-button").offsetHeight/2}})])))}function p(t,e){var n=0;function o(){e.style.color=n%50<25?"#a00":"#000",++n<200&&requestAnimationFrame(o)}t.addTask(new i((function(){return n>=200}),{start:function(){e.style.verticalAlign="top",requestAnimationFrame(o)},isComplete:function(){return!0},animate:function(){return!0}}))}return d.innerText="👆",d.id="ptr",d.style.fontSize="x-large",d.style.position="absolute",d.style.zIndex="1001",document.getElementById("blockly-div").appendChild(d),n.addTask(new i((function(){var t=o.getAllBlocks().find((function(t){return"variables_set"===t.type})),e=o.getAllBlocks().find((function(t){return"text_input"===t.type||"js_text_input"===t.type})),n=o.getAllBlocks().find((function(t){return"text"===t.type}));return t&&e&&n&&"s"===t.getField("VAR").getText()&&t.getInputTargetBlock("VALUE")===e&&e.getInputTargetBlock("TEXT")===n&&n.getFieldValue("TEXT").includes("5")&&n.getFieldValue("TEXT").includes("letter")}),new l((function(){var t=o.getAllBlocks().find((function(t){return"variables_set"===t.type})),e=(o.getAllBlocks().find((function(t){return"text_input"===t.type||"js_text_input"===t.type})),o.getAllBlocks().find((function(t){return"text"===t.type})));if(t){var n=t.getField("VAR").getText();if("item"===n)return"You can change the variable name by clicking item and then selecting Rename variable...";if(n.includes("5")||n.includes("letter"))return"The variable name, which stores the value the user enters, should be s, not "+n+'.  The message you want to display to the user should be in the "" block';if("s"!==n)return"The variable name, which stores the value the user enters, should be s, not "+n+"."}if(e){var r=e.getFieldValue("TEXT");if(""===r)return"You can change the text by clicking the blank field and then typing the desired message.";if("s"===r)return"The text which is displayed to the user should contain 5 and letters; the variable name s should appear in the let block.";if(!r.includes("5")||!r.includes("letter"))return"Make sure the text which is displayed to the user contains 5 and letters so the user knows to enter a 5 letter word."}return t&&e&&t.getInputTargetBlock("VALUE")===e?"The variable should store what the user enters, which means you'll need to attach it to a getInputByAsking block.":"Drag in and assemble code blocks to ask the user for a 5-letter word, and store the input in a variable.  \nName the variable s AND\nbe sure that the message includes 5 and letters in it so the user knows to enter 5 letters."}),{startPosition:B(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),h(n),p(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔ Good, but notice there's no output yet.  That's because all we did is store what the user entered.  So now let's add code blocks to display it!"),T(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),b(),k(o,"text_print"),k(o,"variables_get"),o.options.maxInstances.text_print=1,o.options.maxInstances.variables_get=1,o.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new i((function(){var t=o.getAllBlocks().find((function(t){return"variables_set"===t.type})),e=o.getAllBlocks().find((function(t){return"text_print"===t.type||"js_text_print"===t.type})),n=o.getAllBlocks().find((function(t){return"variables_get"===t.type}));return t&&e&&n&&t.getNextBlock()&&t.getNextBlock()===e&&e.getInputTargetBlock("TEXT")===n&&"s"===n.getField("VAR").getText()}),new l((function(){var t=o.getAllBlocks().find((function(t){return"variables_set"===t.type})),e=o.getAllBlocks().find((function(t){return"text_print"===t.type||"js_text_print"===t.type})),n=o.getAllBlocks().find((function(t){return"variables_get"===t.type}));if(n&&"s"!==n.getField("VAR").getText())return"Make sure you change the variable name to s since that's what you want to display its value, which is what the user entered.";if(e){if(t){if(e.getNextBlock()&&e.getNextBlock()===t)return"Make sure the display block appears *after* (below) the variable set block.  Otherwise the computer would try to display what the user enters before he/she enters it!";if(!t.getNextBlock())return"Make sure to connect the display block below the let block above it.  This way the computer will ask the user for a string, store it in s and then display it!"}if(n&&!e.getInputTargetBlock("TEXT"))return"Place the s block inside the display statement to display its value!"}return"Now assemble the blocks to display the value of the variable that the user entered."}),{startPosition:B(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),h(n),p(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔ Great, so now that we echoed what the user entered, it's time for something new!  Let's now display the first letter of the user's word."),T(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),b(),k(o,"math_number"),k(o,"t2c_text_charat"),o.options.maxInstances.math_number=1,o.options.maxInstances.t2c_text_charat=1,o.options.maxInstances.text_print++,o.options.maxInstances.variables_get++,o.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new i((function(){var t=o.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&t.getInputTargetBlock("TEXT")&&"variables_get"===t.getInputTargetBlock("TEXT").type})),e=o.getAllBlocks().find((function(t){return"math_number"===t.type})),n=o.getAllBlocks().find((function(t){return"t2c_text_charat"===t.type||"js_text_charat"===t.type})),r=o.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&e!==t})),i=o.getAllBlocks().find((function(e){return"variables_get"===e.type&&e.getParent()!==t}));return t&&e&&n&&r&&i&&t.getNextBlock()&&t.getNextBlock()===r&&r.getInputTargetBlock("TEXT")===n&&"s"===i.getField("VAR").getText()&&n.getInputTargetBlock("VALUE")===i&&n.getInputTargetBlock("AT")===e&&0===e.getFieldValue("NUM")}),new l((function(){var t=o.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&t.getInputTargetBlock("TEXT")&&"variables_get"===t.getInputTargetBlock("TEXT").type})),e=o.getAllBlocks().find((function(t){return"math_number"===t.type})),n=o.getAllBlocks().find((function(t){return"t2c_text_charat"===t.type||"js_text_charat"===t.type})),r=o.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&e!==t})),i=o.getAllBlocks().find((function(e){return"variables_get"===e.type&&e.getParent()!==t}));if(r){if(r.getParent()!==t)return"Make sure to connect the new display statement below the previous one since you want to display word's initial letter after displaying the word itself.";if(r.getInputTargetBlock("TEXT")===e)return"You want to display the character at the initial position, not a number.  Use the "+T2C.MSG.currentLanguage.TERMINAL_GETCHARACTERNUMBER+" block inside the display.";if(r.getInputTargetBlock("TEXT")===i)return"You want to display the word's initial character, not the entire word.  Use the "+T2C.MSG.currentLanguage.TERMINAL_GETCHARACTERNUMBER+" block inside the display."}if(i&&"s"!==i.getField("VAR").getText())return"Make sure you change the variable name to s since you want its value's (user input's) initial letter.";if(n&&i&&n.getInputTargetBlock("AT")===i)return"The variable storing the text (s) that you want to get the character of should go in the left side of the "+T2C.MSG.currentLanguage.TERMINAL_GETCHARACTERNUMBER+" block.";if(e){if(1===e.getFieldValue("NUM"))return"Remember that positions of characters start at 0, not 1.";if(0!==e.getFieldValue("NUM"))return"Remember that you want a number representing the word's inital position.  Change the number accordingly."}return"The "+T2C.MSG.currentLanguage.TERMINAL_GETCHARACTERNUMBER+" block gets the single character (letter, number, punctuation mark, space, etc.) of the string of characters at the given numerical position, starting with 0.  (E.g., for \"pizza\", the 0th character is 'p', the 1st character is 'i', the 2nd character is 'z', etc.\n  Add a statement to display the entered string's initial character.\n\nThe string to get the character from goes in the left and the number to get goes in the right."}),{startPosition:B(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),h(n),p(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔ Excellent!  Now since you displayed the first character of the user's word, how about the last one?  But let's make it more interesting this time by having you type in the code to do this instead!  You ready?  Let's get to it!"),T(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),b(),k(o,"type_in_get_last_char_number"),o.options.maxInstances.type_in_get_last_char_number=1,o.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new i((function(){var t=o.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&t.getInputTargetBlock("TEXT")&&("t2c_text_charat"===t.getInputTargetBlock("TEXT").type||"js_text_charat"===t.getInputTargetBlock("TEXT").type)})),e=o.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&e.getParent()===t})),n=o.getAllBlocks().find((function(t){return"math_number"===t.type&&4===t.getFieldValue("NUM")})),r=o.getAllBlocks().find((function(t){return("t2c_text_charat"===t.type||"js_text_charat"===t.type)&&t.getInputTargetBlock("AT")===n&&t.getParent()===e})),i=o.getAllBlocks().find((function(t){return"variables_get"===t.type&&t.getParent()===r&&"s"===t.getField("VAR").getText()}));return t&&n&&r&&e&&i}),new l((function(){var t=o.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&t.getInputTargetBlock("TEXT")&&("t2c_text_charat"===t.getInputTargetBlock("TEXT").type||"js_text_charat"===t.getInputTargetBlock("TEXT").type)})),e=o.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&t.getInputTargetBlock("TEXT")&&("t2c_text_charat"===t.getInputTargetBlock("TEXT").type||"js_text_charat"===t.getInputTargetBlock("TEXT").type)&&t.getInputTargetBlock("TEXT").getInputTargetBlock("AT")&&"math_number"===t.getInputTargetBlock("TEXT").getInputTargetBlock("AT").type&&4===t.getInputTargetBlock("TEXT").getInputTargetBlock("AT").getFieldValue("NUM")}));return t&&e&&e.getParent()!==t?"Make sure to connect the new display statement below the previous one since you want to display word's last letter after displaying its first letter.":"Drag in the new type-in-code block from the toolbox below the statement that displays the inputted word's first character, and type in code to print its last character.\nThe code you type in should match the previous line except you'll use a different number."}),{startPosition:B(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),h(n),p(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){o.options.maxInstances.type_in_get_last_char_number=0,alert("✔✔👍 Outstanding!  So do you feel comfortable with the new "+T2C.MSG.currentLanguage.TERMINAL_GETCHARACTERNUMBER+" block yet?  You'll get some more practice with it in the next mission.  But for now, let's conclude Mission # 1 by making sure you remember how to save and load this code the next time you want to refer to it.  Let's save and load the block code."),T(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),b(),document.getElementById("save-code-button").addEventListener("click",(function(){E=!1,I=!0;var t=Blockly.Xml.workspaceToDom(o);x=Blockly.Xml.domToPrettyText(t)})),document.getElementById("load-code-button").addEventListener("click",(function(){E=!0,I=!1})),document.getElementById("load-save-xml").addEventListener("click",(function(){document.getElementById("load-save-text-code").textContent===T2C.MSG.currentLanguage.BUTTON_LOAD_TEXT_CODE?A=!0:v=!0}))}})),n.addTask(new i((function(){return I}),new u([new l((function(){return T2C.MSG.currentLanguage.BUTTON_SAVE_XML}),{startPosition:{x:document.getElementById("save-code-button").offsetLeft+document.getElementById("save-code-button").offsetWidth,y:document.getElementById("save-code-button").offsetTop+document.getElementById("save-code-button").offsetHeight}}),new s(d,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("save-code-button").offsetLeft+document.getElementById("save-code-button").offsetWidth/2,y:document.getElementById("save-code-button").offsetTop+document.getElementById("save-code-button").offsetHeight/2}})]))),n.addTask(new i((function(){return v}),new u([new l((function(){return T2C.MSG.currentLanguage.BUTTON_SAVE_XML}),{startPosition:function(){return{x:document.getElementById("load-save-xml").offsetLeft+document.getElementById("load-save-xml").offsetWidth,y:document.getElementById("load-save-xml").offsetTop+document.getElementById("load-save-xml").offsetHeight}}}),new s(d,{totalSteps:100,toggleSteps:25,startPosition:function(){return{x:document.getElementById("load-save-xml").offsetLeft+document.getElementById("load-save-xml").offsetWidth/2,y:document.getElementById("load-save-xml").offsetTop+document.getElementById("load-save-xml").offsetHeight/2}}})]))),n.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("OK, now that you've copied the XML for the blocks, let's clear the workspace of the blocks and then load it (without reloading the page!) to confirm that everything works.  BE SURE NOT TO overwrite the clipboard until you load the code again or you'll lose your work!"),b()}})),n.addTask(new i((function(){return 0===o.getAllBlocks().length}),new u([new l((function(){return"Move all blocks to the trashcan or rightmouse click (hold down finger on phone) on an empty place in the workspace and select Delete."}),{startPosition:function(){return{x:50,y:document.getElementById("top-header").offsetHeight+o.getMetrics().flyoutHeight+100}}}),new s(d,{totalSteps:100,toggleSteps:25,startPosition:function(){var t=o.trashcan.getClientRect();return{x:(t.left+t.right)/2,y:(t.top+t.bottom)/2}}})]))),n.addTask(new i((function(){return E}),new u([new l((function(){return T2C.MSG.currentLanguage.BUTTON_LOAD_XML}),{startPosition:{x:document.getElementById("load-code-button").offsetLeft+document.getElementById("load-code-button").offsetWidth,y:document.getElementById("load-code-button").offsetTop+document.getElementById("load-code-button").offsetHeight}}),new s(d,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("load-code-button").offsetLeft+document.getElementById("load-code-button").offsetWidth/2,y:document.getElementById("load-code-button").offsetTop+document.getElementById("load-code-button").offsetHeight/2}})]))),n.addTask(new i((function(){return x.replace(/\n|\r/g,"")===document.getElementById("xmlData").value.replace(/\n|\r/g,"")}),new u([new l((function(){return"Paste the XML you copied in this text box."}),{startPosition:function(){return{x:document.getElementById("xmlData").offsetLeft+document.getElementById("xmlData").offsetWidth/2,y:document.getElementById("xmlData").offsetTop+document.getElementById("xmlData").offsetHeight}}}),new s(d,{totalSteps:100,toggleSteps:25,startPosition:function(){return{x:document.getElementById("xmlData").offsetLeft+document.getElementById("xmlData").offsetWidth/2,y:document.getElementById("xmlData").offsetTop+document.getElementById("xmlData").offsetHeight/2}}})]))),n.addTask(new i((function(){return A&&13===o.getAllBlocks().length}),new u([new l((function(){return T2C.MSG.currentLanguage.BUTTON_LOAD_XML}),{startPosition:function(){return{x:document.getElementById("load-save-xml").offsetLeft+document.getElementById("load-save-xml").offsetWidth,y:document.getElementById("load-save-xml").offsetTop+document.getElementById("load-save-xml").offsetHeight}}}),new s(d,{totalSteps:100,toggleSteps:25,startPosition:function(){return{x:document.getElementById("load-save-xml").offsetLeft+document.getElementById("load-save-xml").offsetWidth/2,y:document.getElementById("load-save-xml").offsetTop+document.getElementById("load-save-xml").offsetHeight/2}}})]))),n.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔✔✔ Congratulations!  You just completed Mission 1!  In your upcoming mission, you'll get the last character for strings that may not have 5 letters with the help of some new blocks."),b()}})),n},function(t,e){var n=t||new c,o=e||Blockly.getMainWorkspace();!function(t){Array.from(document.getElementById("toolbox").children).forEach((function(t){return t.remove()})),t.options.maxInstances={},t.updateToolbox(document.getElementById("toolbox"))}(o),["variables_set","text","text_input"].forEach((function(t){L(o,t,!1),o.options.maxInstances[t]=1})),o.clear(),o.setScale(1),Object(r.f)(o);var a=Array.from(document.querySelectorAll("rect")).filter((function(t){return t.getAttribute("fill-opacity")})),g=(a[0],a[1]);console.warn("TEXT",g);var d=document.createElement("div");function h(t){t.addTask(new i((function(){return document.getElementById("output-container").classList.contains("show-container")}),new u([new l((function(){return T2C.MSG.currentLanguage.BUTTON_RUN_CODE}),{startPosition:{x:document.getElementById("run-code-button").offsetLeft+document.getElementById("run-code-button").offsetWidth,y:document.getElementById("run-code-button").offsetTop+document.getElementById("run-code-button").offsetHeight}}),new s(d,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("run-code-button").offsetLeft+document.getElementById("run-code-button").offsetWidth/2,y:document.getElementById("run-code-button").offsetTop+document.getElementById("run-code-button").offsetHeight/2}})])))}function p(t,e){var n=0;function o(){e.style.color=n%50<25?"#a00":"#000",++n<200&&requestAnimationFrame(o)}t.addTask(new i((function(){return n>=200}),{start:function(){e.style.verticalAlign="top",requestAnimationFrame(o)},isComplete:function(){return!0},animate:function(){return!0}}))}return d.innerText="👆",d.id="ptr",d.style.fontSize="x-large",d.style.position="absolute",d.style.zIndex="1001",document.getElementById("blockly-div").appendChild(d),n.addTask(new i((function(){var t=o.getAllBlocks().find((function(t){return"variables_set"===t.type})),e=o.getAllBlocks().find((function(t){return"text_input"===t.type||"js_text_input"===t.type})),n=o.getAllBlocks().find((function(t){return"text"===t.type}));return t&&e&&n&&t.getInputTargetBlock("VALUE")===e&&e.getInputTargetBlock("TEXT")===n&&n.getFieldValue("TEXT")&&!t.getField("VAR").getText().includes(" ")}),new l((function(){var t=o.getAllBlocks().find((function(t){return"variables_set"===t.type})),e=(o.getAllBlocks().find((function(t){return"text_input"===t.type||"js_text_input"===t.type})),o.getAllBlocks().find((function(t){return"text"===t.type})));return t&&t.getField("VAR").getText().includes(" ")?"Avoid spaces in your variable names as they won't be allowed if you program in languages such as JavaScript or Python.":e&&""===e.getFieldValue("TEXT")?"You can change the text by clicking the blank field and then typing the desired message.":t&&e&&t.getInputTargetBlock("VALUE")===e?"The variable should store what the user enters, which means you'll need to attach it to a getInputByAsking block.":"Drag in and assemble code blocks to ask the user for a string of any length, and store the input in a variable.  By string, we simply mean a series of characters, which can be numbers, letters, punctuation, or spaces.  Choose your own variable name and message this time."}),{startPosition:C(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),h(n),p(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔ Good, so as in the previous mission, we won't see any output because we only set a variable.  As before, let's display the string next."),w(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),S(),L(o,"text_print"),L(o,"variables_get"),o.options.maxInstances.text_print=1,o.options.maxInstances.variables_get=1,o.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new i((function(){var t=o.getAllBlocks().find((function(t){return"variables_set"===t.type})),e=o.getAllBlocks().find((function(t){return"text_print"===t.type||"js_text_print"===t.type})),n=o.getAllBlocks().find((function(t){return"variables_get"===t.type}));return t&&e&&n&&t.getNextBlock()&&t.getNextBlock()===e&&e.getInputTargetBlock("TEXT")===n&&n.getField("VAR").getText()===t.getField("VAR").getText()}),new l((function(){var t=o.getAllBlocks().find((function(t){return"variables_set"===t.type})),e=o.getAllBlocks().find((function(t){return"text_print"===t.type||"js_text_print"===t.type})),n=o.getAllBlocks().find((function(t){return"variables_get"===t.type}));if(n&&t&&n.getField("VAR").getText()!==t.getField("VAR").getText())return"Make sure the variable name you display matches the one you set to the value of the user's input so you display what the user entered.";if(e){if(t){if(e.getNextBlock()&&e.getNextBlock()===t)return"Make sure the display block appears *after* (below) the variable set block.  Otherwise the computer would try to display what the user enters before he/she enters it!";if(!t.getNextBlock())return"Make sure to connect the display block below the let block above it.  This way the computer will ask the user for a string, store it in s and then display it!"}if(n&&!e.getInputTargetBlock("TEXT"))return"Place the variable block inside the display statement to display its value!"}return"Now assemble the blocks to display the value of the variable that the user entered."}),{startPosition:C(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),h(n),p(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔ Great, so now that we echoed what the user entered, it's time for something new!  Let's display the number of characters in the string the user entered."),w(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),S(),L(o,"t2c_text_length"),o.options.maxInstances.t2c_text_length=1,o.options.maxInstances.text_print++,o.options.maxInstances.variables_get++,o.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new i((function(){var t=o.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&t.getInputTargetBlock("TEXT")&&"variables_get"===t.getInputTargetBlock("TEXT").type})),e=o.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&e!==t})),n=o.getAllBlocks().find((function(e){return"variables_get"===e.type&&e.getParent()!==t})),r=o.getAllBlocks().find((function(t){return"variables_set"===t.type})),i=o.getAllBlocks().find((function(t){return"t2c_text_length"===t.type}));return t&&e&&n&&i&&r&&t.getNextBlock()&&t.getNextBlock()===e&&e.getInputTargetBlock("TEXT")===i&&n.getField("VAR").getText()===r.getField("VAR").getText()&&i.getInputTargetBlock("VALUE")===n}),new l((function(){var t=o.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&t.getInputTargetBlock("TEXT")&&"variables_get"===t.getInputTargetBlock("TEXT").type})),e=o.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&e!==t})),n=o.getAllBlocks().find((function(e){return"variables_get"===e.type&&e.getParent()!==t})),r=o.getAllBlocks().find((function(t){return"variables_set"===t.type})),i=o.getAllBlocks().find((function(t){return"t2c_text_length"===t.type}));if(e){if(e.getParent()!==t)return"Make sure to connect the new display statement below the previous one since you want to display word's length after displaying the word itself.";if(e.getInputTargetBlock("TEXT")===n)return"You want to display the word's length, not the entire word.  Use the "+T2C.MSG.currentLanguage.TERMINAL_LENGTH+" block inside the display."}return n&&r&&n.getField("VAR").getText()!==r.getField("VAR").getText()?"Make sure the variable name you display matches the one you set to the value of the user's input so you display what the user entered.":i&&n&&i.getInputTargetBlock("VALUE")!==n?"Be sure to attach the variable block to the  "+T2C.MSG.currentLanguage.TERMINAL_LENGTH+" block to get the number of characters in the user input.":"The "+T2C.MSG.currentLanguage.TERMINAL_LENGTH+" block gets the number of characters in the provided string.  Unlike the "+T2C.MSG.currentLanguage.TERMINAL_GETCHARACTERNUMBER+' block though, the count starts at 1!  (E.g., for "pizza", the length would be 5.)\n  Add a statement to display the length of the given string.'}),{startPosition:C(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),h(n),p(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔ Great!  Now since you displayed the length of the user's word, can you display double its length instead for good measure?  We'll need a new arithmetic block for this."),w(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),S(),L(o,"math_number"),L(o,"math_arithmetic_basic"),o.options.maxInstances.math_number=1,o.options.maxInstances.math_arithmetic_basic=1,o.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new i((function(){var t=o.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&t.getInputTargetBlock("TEXT")&&"variables_get"===t.getInputTargetBlock("TEXT").type})),e=o.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&e!==t})),n=o.getAllBlocks().find((function(e){return"variables_get"===e.type&&e.getParent()!==t})),r=o.getAllBlocks().find((function(t){return"variables_set"===t.type})),i=o.getAllBlocks().find((function(t){return"t2c_text_length"===t.type})),a=o.getAllBlocks().find((function(t){return"math_arithmetic_basic"===t.type})),s=o.getAllBlocks().find((function(t){return"math_number"===t.type}));return t&&e&&n&&i&&r&&a&&s&&t.getNextBlock()&&t.getNextBlock()===e&&e.getInputTargetBlock("TEXT")===a&&n.getField("VAR").getText()===r.getField("VAR").getText()&&s.getParent()===a&&i.getParent()===a&&("MULTIPLY"===a.getFieldValue("OP")&&2===s.getFieldValue("NUM")||"DIVIDE"===a.getFieldValue("OP")&&.5===s.getFieldValue("NUM"))}),new l((function(){var t=o.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&t.getInputTargetBlock("TEXT")&&"variables_get"===t.getInputTargetBlock("TEXT").type})),e=o.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&e!==t})),n=o.getAllBlocks().find((function(e){return"variables_get"===e.type&&e.getParent()!==t})),r=o.getAllBlocks().find((function(t){return"variables_set"===t.type})),i=o.getAllBlocks().find((function(t){return"t2c_text_length"===t.type})),a=o.getAllBlocks().find((function(t){return"math_arithmetic_basic"===t.type})),s=o.getAllBlocks().find((function(t){return"math_number"===t.type}));if(e){if(e.getParent()!==t)return"Make sure the display statement stays below the previous one since you want to display double the word's length after displaying the word itself.";if(e.getInputTargetBlock("TEXT")===i)return"You want to display double the string's length, not just its length.  Use the arithmetic (+,-,*,/) block inside the display.";if(e.getInputTargetBlock("TEXT")===n)return"You want to display double the string's length, not the entire string.  Use the arithmetic (+,-,*,/) block inside the display.";if(e.getInputTargetBlock("TEXT")===s)return"You want to display double the string's length, not just a number.  Use the arithmetic (+,-,*,/) block inside the display."}if(n&&r&&n.getField("VAR").getText()!==r.getField("VAR").getText())return"Make sure the variable name you display matches the one you set to the value of the user's input so you display what the user entered.";if(i&&n&&i.getInputTargetBlock("VALUE")!==n)return"Be sure that the variable block remains inside the "+T2C.MSG.currentLanguage.TERMINAL_LENGTH+" block so you can get the number of characters in the user input before doubling it.";if(a){if(n&&n.getParent()===a)return"Be sure the variable block remains inside the "+T2C.MSG.currentLanguage.TERMINAL_LENGTH+" block since you don't want to double the string itself, but its length!  Doubling 'pizza' doesn't give you 10, right?  Doubling its length of 5 does.";if(s&&("MULTIPLY"!==a.getFieldValue("OP")&&.5!==s.getFieldValue("NUM")||"DIVIDE"!==a.getFieldValue("OP")&&2!==s.getFieldValue("NUM")))return"What operation/number could you use to double the length?  Select the appropriate option from the dropdown (+ = ADD, - = SUBTRACT, * = MULTIPLY, / = DIVIDE), and change the value of the number block from "+s.getFieldValue("NUM")+" to this desired number accordingly."}return"The arithmetic block can be used on blocks producing numerical values such as "+T2C.MSG.currentLanguage.TERMINAL_LENGTH+" to add, subtract, multiply, or divide depending on the selected option from +, -, *, / by placing the number-producing blocks you want to use in the calculation.\nUsing this new arithmetic block and number block, modify your display statement to show double the length of the entered string."}),{startPosition:C(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),h(n),p(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔ Excellent!  OK, so now that you can use the arithmetic and length blocks, let's combine them with the previous "+T2C.MSG.currentLanguage.TERMINAL_GETCHARACTERNUMBER+" block to get the last character of the string, regardless of whether it's 1 character or 100 or any other number!  You up for the challenge?  Let's get to it!"),w(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),S(),L(o,"t2c_text_charat"),o.options.maxInstances.t2c_text_charat=1,o.options.maxInstances.variables_get++,o.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new i((function(){var t=o.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&t.getInputTargetBlock("TEXT")&&"variables_get"===t.getInputTargetBlock("TEXT").type})),e=o.getAllBlocks().find((function(t){return"t2c_text_charat"===t.type||"js_text_charat"===t.type})),n=o.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&t.getInputTargetBlock("TEXT")===e})),r=o.getAllBlocks().find((function(t){return"math_arithmetic_basic"===t.type})),i=o.getAllBlocks().find((function(t){return"t2c_text_length"===t.type})),a=o.getAllBlocks().find((function(t){return"math_number"===t.type})),s=o.getAllBlocks().find((function(t){return"variables_get"===t.type&&t.getParent()===e})),l=o.getAllBlocks().find((function(t){return"variables_get"===t.type&&t.getParent()===i})),u=o.getAllBlocks().find((function(t){return"variables_set"===t.type}));return t&&n&&r&&i&&a&&e&&s&&l&&u&&s.getField("VAR").getText()===u.getField("VAR").getText()&&l.getField("VAR").getText()===u.getField("VAR").getText()&&e.getInputTargetBlock("VALUE")===s&&e.getInputTargetBlock("AT")===r&&r.getInputTargetBlock("A")===i&&"MINUS"===r.getFieldValue("OP")&&r.getInputTargetBlock("B")===a&&1===a.getFieldValue("NUM")}),new l((function(){var t=o.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&t.getInputTargetBlock("TEXT")&&"variables_get"===t.getInputTargetBlock("TEXT").type})),e=o.getAllBlocks().find((function(t){return"t2c_text_charat"===t.type||"js_text_charat"===t.type})),n=o.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&e!==t})),r=o.getAllBlocks().find((function(t){return"math_arithmetic_basic"===t.type})),i=o.getAllBlocks().find((function(t){return"t2c_text_length"===t.type})),a=o.getAllBlocks().find((function(t){return"math_number"===t.type})),s=(o.getAllBlocks().find((function(t){return"variables_get"===t.type&&t.getParent()===i})),o.getAllBlocks().find((function(t){return"variables_get"===t.type&&t.getParent()===e})));if(o.getAllBlocks().find((function(t){return"variables_set"===t.type})),n&&n.getParent()!==t)return"Make sure to connect the new display statement below the previous one since you want to display the string's last character after displaying the whole string.";if(e){if(s&&e.getInputTargetBlock("AT")===s)return"The variable storing the text that you want to get the character of should go in the left side of the "+T2C.MSG.currentLanguage.TERMINAL_GETCHARACTERNUMBER+' block.  It wouldn\'t make sense to get the character at position number "pizza" (or whatever string the user enters), right?';if(i&&e.getInputTargetBlock("AT")===i)return"The length of the 5-character string pizza is 5, but since you start counting from 0, this was not the position of the last character that you used in the previous exercise, correct?  Consider using some math operation on this number to calculate the correct position.";if(a&&e.getInputTargetBlock("AT")===a)return"The position of the last character will depend on the length of the string so you can't use a specific number such as "+a.getFieldValue("NUM")+".  You will need to use the "+MSG.T2C.currentLanguage.TERMINAL_LENGTH+" block and a math operation to calculate the correct position for each string containing at least one character."}if(n&&e){if(n.getInputTargetBlock("TEXT")===r)return"You want to display the string's last character, not the result of an arithmetic calculation, which would be a number.";if(n.getInputTargetBlock("TEXT")===i)return"You want to display the string's last character, not the length of the string, which would be a number.";if(n.getInputTargetBlock("TEXT")===a)return"You want to display the string's last character, not a number."}if(r&&a&&i&&e&&a.getParent()===r&&i.getParent()===r){if("PLUS"===r.getFieldValue("OP")&&1===a.getFieldValue("NUM"))return"Consider that adding 1 to 5, which is the length of pizza gives you 6.  Did you use 6 for the position for the last mission?";if("PLUS"!==r.getFieldValue("OP")&&1!==a.getFieldValue("NUM")||"MINUS"!==r.getFieldValue("OP")&&-1!==a.getFieldValue("NUM"))return"Select the appropriate option from the arithmetic block dropdown menu (+ = ADD, - = SUBTRACT, * = MULTIPLY, / = DIVIDE) and choose the appropriate number.  Your current answer won't work in general."}return"Change the math operation and number that's used with the "+T2C.MSG.currentLanguage.TERMINAL_LENGTH+" to calculate the *position* of the last character from its number of characters.  Then add a "+T2C.MSG.currentLanguage.TERMINAL_GETCHARACTERNUMBER+" and variable block in the appropriate places to display the last character, regardless of the length of the string.  To determine the appropriate math operation and number to use for the position, consider strings of different lengths.  How did you determine the number to use for the position of the last character of a 5-character string?  What would you do with the 5 to get it?  What if you wanted to calculate the position of the last character of a string of length 3?  What about the position of the last character for a string of length 10?  The math operation and number you use should be the same for each example to get your answer."}),{startPosition:C(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),h(n),p(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){o.options.maxInstances.type_in_get_last_char_number=0,alert("✔✔👍 Outstanding!  So do you feel comfortable with using the new "+T2C.MSG.currentLanguage.TERMINAL_LENGTH+" block in combination with the arithmetic and "+T2C.MSG.currentLanguage.GETCHARACTERNUMBER+" blocks yet?  In the next mission, we'll use these blocks to get the middle two characters of strings with an even number of characters (and not 0).  But for now, let's conclude Mission # 2 by making sure you can save this code for later use.  Let's save and load the block code."),w(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),S(),document.getElementById("save-code-button").addEventListener("click",(function(){N=!1,P=!0;var t=Blockly.Xml.workspaceToDom(o);M=Blockly.Xml.domToPrettyText(t)})),document.getElementById("load-code-button").addEventListener("click",(function(){N=!0,P=!1})),document.getElementById("load-save-xml").addEventListener("click",(function(){document.getElementById("load-save-text-code").textContent===T2C.MSG.currentLanguage.BUTTON_LOAD_TEXT_CODE?O=!0:F=!0}))}})),n.addTask(new i((function(){return P}),new u([new l((function(){return T2C.MSG.currentLanguage.BUTTON_SAVE_XML}),{startPosition:{x:document.getElementById("save-code-button").offsetLeft+document.getElementById("save-code-button").offsetWidth,y:document.getElementById("save-code-button").offsetTop+document.getElementById("save-code-button").offsetHeight}}),new s(d,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("save-code-button").offsetLeft+document.getElementById("save-code-button").offsetWidth/2,y:document.getElementById("save-code-button").offsetTop+document.getElementById("save-code-button").offsetHeight/2}})]))),n.addTask(new i((function(){return F}),new u([new l((function(){return T2C.MSG.currentLanguage.BUTTON_SAVE_XML}),{startPosition:function(){return{x:document.getElementById("load-save-xml").offsetLeft+document.getElementById("load-save-xml").offsetWidth,y:document.getElementById("load-save-xml").offsetTop+document.getElementById("load-save-xml").offsetHeight}}}),new s(d,{totalSteps:100,toggleSteps:25,startPosition:function(){return{x:document.getElementById("load-save-xml").offsetLeft+document.getElementById("load-save-xml").offsetWidth/2,y:document.getElementById("load-save-xml").offsetTop+document.getElementById("load-save-xml").offsetHeight/2}}})]))),n.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("OK, now that you've copied the XML for the blocks, let's clear the workspace of the blocks and then load it (without reloading the page!) to confirm that everything works.  BE SURE NOT TO overwrite the clipboard until you load the code again or you'll lose your work!"),S()}})),n.addTask(new i((function(){return 0===o.getAllBlocks().length}),new u([new l((function(){return"Move all blocks to the trashcan or rightmouse click (hold down finger on phone) on an empty place in the workspace and select Delete."}),{startPosition:function(){return{x:50,y:document.getElementById("top-header").offsetHeight+o.getMetrics().flyoutHeight+100}}}),new s(d,{totalSteps:100,toggleSteps:25,startPosition:function(){var t=o.trashcan.getClientRect();return{x:(t.left+t.right)/2,y:(t.top+t.bottom)/2}}})]))),n.addTask(new i((function(){return N}),new u([new l((function(){return T2C.MSG.currentLanguage.BUTTON_LOAD_XML}),{startPosition:{x:document.getElementById("load-code-button").offsetLeft+document.getElementById("load-code-button").offsetWidth,y:document.getElementById("load-code-button").offsetTop+document.getElementById("load-code-button").offsetHeight}}),new s(d,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("load-code-button").offsetLeft+document.getElementById("load-code-button").offsetWidth/2,y:document.getElementById("load-code-button").offsetTop+document.getElementById("load-code-button").offsetHeight/2}})]))),n.addTask(new i((function(){return M.replace(/\n|\r/g,"")===document.getElementById("xmlData").value.replace(/\n|\r/g,"")}),new u([new l((function(){return"Paste the XML you copied in this text box."}),{startPosition:function(){return{x:document.getElementById("xmlData").offsetLeft+document.getElementById("xmlData").offsetWidth/2,y:document.getElementById("xmlData").offsetTop+document.getElementById("xmlData").offsetHeight}}}),new s(d,{totalSteps:100,toggleSteps:25,startPosition:function(){return{x:document.getElementById("xmlData").offsetLeft+document.getElementById("xmlData").offsetWidth/2,y:document.getElementById("xmlData").offsetTop+document.getElementById("xmlData").offsetHeight/2}}})]))),n.addTask(new i((function(){return O&&13===o.getAllBlocks().length}),new u([new l((function(){return T2C.MSG.currentLanguage.BUTTON_LOAD_XML}),{startPosition:function(){return{x:document.getElementById("load-save-xml").offsetLeft+document.getElementById("load-save-xml").offsetWidth,y:document.getElementById("load-save-xml").offsetTop+document.getElementById("load-save-xml").offsetHeight}}}),new s(d,{totalSteps:100,toggleSteps:25,startPosition:function(){return{x:document.getElementById("load-save-xml").offsetLeft+document.getElementById("load-save-xml").offsetWidth/2,y:document.getElementById("load-save-xml").offsetTop+document.getElementById("load-save-xml").offsetHeight/2}}})]))),n.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔✔✔ Congratulations!  You just completed Mission 2!  On to even tougher challenges ahead!"),S()}})),n},function(t,e){var n=t||new c;alert("In this mission, you'll be prompting the user for a string with an even number of characters (at least 2) and then displaying a single 4-character string as first character, last character, first middle character, and second middle character in that order.  For example, for SCRABBLE, you'd display SEAB.");var o=e||Blockly.getMainWorkspace();G(o),["type_in_get_input"].forEach((function(t){D(o,t,!1),o.options.maxInstances[t]=1})),o.clear();var a=W("variables_set"),g=W("text_input"),d=W("text");H(d,"TEXT","message to user"),Y(g,"TEXT",d),Y(a,"VALUE",g),o.options.maxInstances.variables_set=0,document.getElementById("toolbox").append(a),o.updateToolbox(document.getElementById("toolbox")),o.setScale(1),Object(r.f)(o),Array.from(document.querySelectorAll("rect")).filter((function(t){return t.getAttribute("fill-opacity")}));var h=document.createElement("div");return h.innerText="👆",h.id="ptr",h.style.fontSize="x-large",h.style.position="absolute",h.style.zIndex="1001",document.getElementById("blockly-div").appendChild(h),n.addTask(new i((function(){var t=o.getAllBlocks().find((function(t){return"text"===t.type&&-1!==t.getFieldValue("TEXT").toLowerCase().indexOf(" even ")})),e=o.getAllBlocks().find((function(e){return("text_input"===e.type||"js_text_input"===e.type)&&e.getInputTargetBlock("TEXT")===t})),n=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&null===t.getNextBlock()&&t.getInputTargetBlock("VALUE")===e&&"s"===t.getField("VAR").getText()}));return t&&e&&n}),new l((function(){return"OK, you know the drill; let's start by asking the user for a string and storing it in a variable.  This time, we'll be asking the user for a string with an even number of characters (> 0) so make sure even (surrounded by spaces) appears in your message.  Let's store the user's string in a variable s.  But this time, we'll make it more interesting: you'll drag in the block and type in the code!  Do you remember what you'll be typing, i.e., what appeared on the blocks, from previous exercises?  If not, use the blocks above as reference, and start typing it in accordingly.  Don't worry, we'll give you hints if you make a mistake."}),{startPosition:q(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),n.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔ Good, so let's start by creating a variable named firstCharacter to store the initial character of the string the user enters.  As before, we'll make it more interesting by typing in the code."),U(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),X(),G(o);var t=W("variables_set"),e=W("variables_get"),n=W("t2c_text_charat"),r=W("math_number");H(r,"NUM",0),H(e,"VAR","textVariable"),Y(n,"VALUE",e),Y(n,"AT",r),Y(t,"VALUE",n),D(o,"type_in_set_to_char_number_0"),o.options.maxInstances.variables_set=0,o.options.maxInstances.type_in_set_to_char_number_0=1,document.getElementById("toolbox").append(t),o.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new i((function(){var t=o.getAllBlocks().find((function(t){return"math_number"===t.type&&0===t.getFieldValue("NUM")})),e=o.getAllBlocks().find((function(t){return"variables_get"===t.type&&"s"===t.getField("VAR").getText()})),n=o.getAllBlocks().find((function(n){return("t2c_text_charat"===n.type||"js_text_charat"===n.type)&&n.getInputTargetBlock("VALUE")===e&&n.getInputTargetBlock("AT")===t})),r=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&null===t.getNextBlock()&&t.getInputTargetBlock("VALUE")===n&&"firstChar"===t.getField("VAR").getText()})),i=o.getAllBlocks().find((function(t){return"text"===t.type&&-1!==t.getFieldValue("TEXT").toLowerCase().indexOf(" even ")})),a=o.getAllBlocks().find((function(t){return("text_input"===t.type||"js_text_input"===t.type)&&t.getInputTargetBlock("TEXT")===i})),s=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getNextBlock()===r&&t.getInputTargetBlock("VALUE")===a&&"s"===t.getField("VAR").getText()}));return t&&e&&n&&r&&i&&a&&s}),new l((function(){var t=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&"firstChar"===t.getField("VAR").getText()})),e=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&"s"===t.getField("VAR").getText()}));return t&&e&&e.getPreviousBlock()===t?"Make sure to attach the block storing the entered string's first character below the one storing the string itself.  Since instructions are run top to bottom, if you reversed the order, the computer wouldn't know what s is when trying get the string!":t&&e&&t.getPreviousBlock()!==e?"Make sure to attach the block storing the entered string's first character below the one storing the string itself.":"Drag in the type-in-code block and enter the code needed to get and store the initial character of the entered string in the variable firstChar.  Be sure to attach this statement below the one declaring the variable to store the user's entered string."}),{startPosition:q(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),n.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔ Good, so now we'll define a variable named lastCharacter to store the last character of the string the user enters.  As before, you'll be typing in the code and as in the previous mission, remember that you don't know how many characters the string has so you'll be using "+T2C.MSG.currentLanguage.TERMINAL_LENGTH+" in your answer."),U(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),X(),G(o);var t=W("variables_set"),e=W("variables_get"),n=W("variables_get"),r=W("t2c_text_charat"),i=W("math_number"),a=W("math_arithmetic_basic"),s=W("t2c_text_length");H(i,"NUM",1),H(e,"VAR","textVariable"),H(n,"VAR","textVariable"),Y(r,"VALUE",e),Y(r,"AT",a),Y(a,"A",s),Y(s,"VALUE",n),Y(a,"B",i),H(a,"OP","MINUS"),Y(t,"VALUE",r),D(o,"type_in_set_to_last_char"),o.options.maxInstances.variables_set=0,o.options.maxInstances.type_in_set_to_last_char=1,document.getElementById("toolbox").append(t),o.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new i((function(){var t=o.getAllBlocks().find((function(t){return"math_number"===t.type&&1===t.getFieldValue("NUM")})),e=o.getAllBlocks().find((function(t){return"t2c_text_length"===t.type&&t.getInputTargetBlock("VALUE")&&"variables_get"===t.getInputTargetBlock("VALUE").type&&"s"===t.getInputTargetBlock("VALUE").getField("VAR").getText()})),n=o.getAllBlocks().find((function(n){return"math_arithmetic_basic"===n.type&&n.getInputTargetBlock("A")===e&&n.getInputTargetBlock("B")===t&&"MINUS"===n.getFieldValue("OP")})),r=o.getAllBlocks().find((function(t){return("t2c_text_charat"===t.type||"js_text_charat"===t.type)&&t.getInputTargetBlock("VALUE")&&"variables_get"===t.getInputTargetBlock("VALUE").type&&"s"===t.getInputTargetBlock("VALUE").getField("VAR").getText()&&t.getInputTargetBlock("AT")===n})),i=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&null===t.getNextBlock()&&t.getInputTargetBlock("VALUE")===r&&"lastChar"===t.getField("VAR").getText()})),a=o.getAllBlocks().find((function(t){return"math_number"===t.type&&0===t.getFieldValue("NUM")})),s=o.getAllBlocks().find((function(t){return("t2c_text_charat"===t.type||"js_text_charat"===t.type)&&t.getInputTargetBlock("VALUE")&&"variables_get"===t.getInputTargetBlock("VALUE").type&&"s"===t.getInputTargetBlock("VALUE").getField("VAR").getText()&&t.getInputTargetBlock("AT")===a})),l=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getNextBlock()===i&&t.getInputTargetBlock("VALUE")===s&&"firstChar"===t.getField("VAR").getText()})),u=o.getAllBlocks().find((function(t){return"text"===t.type})),c=o.getAllBlocks().find((function(t){return("text_input"===t.type||"js_text_input"===t.type)&&t.getInputTargetBlock("TEXT")===u})),g=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getNextBlock()===l&&t.getInputTargetBlock("VALUE")===c&&"s"===t.getField("VAR").getText()}));return t&&e&&n&&r&&i&&a&&s&&l&&u&&c&&g}),new l((function(){var t=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&"lastChar"===t.getField("VAR").getText()})),e=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&"firstChar"===t.getField("VAR").getText()})),n=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&"s"===t.getField("VAR").getText()}));return n&&t&&n.getPreviousBlock()===t?"Make sure to attach the block storing the entered string's last character below the one storing the string itself.  Since instructions are run top to bottom, if you reversed the order, the computer wouldn't know what s is when trying get the string!":e&&t&&t.getPreviousBlock()!==e?"Make sure to attach the block storing the entered string's last character below the one storing the string's first one.  Although it won't matter which we store first, we'll do it this way for the purposes of this exercise.":"Drag in the type-in-code block and enter the code needed to get and store the last character of the entered string in the variable lastChar.  Be sure to attach this statement below the one declaring the variable to store the entered string's first character."}),{startPosition:q(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),n.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔ Great, so enough review, it's time for something new!  We will need to get the middle two characters.  Just like the last character, this will require do some math on the length of the string to get the correct position numbers.  Let's start by getting just the *position* of the *2nd* middle character first.  We'll do the second first because the relationship between the length and the last position is easier to see.  And then we can use this number to get the position of the first middle character since it appears one place before the second."),U(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),X(),G(o),D(o,"type_in_set_to_position_of_second_middle_char"),o.options.maxInstances.type_in_set_to_position_of_second_middle_char=1,o.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new i((function(){var t=o.getAllBlocks().find((function(t){return"math_number"===t.type&&2===t.getFieldValue("NUM")})),e=o.getAllBlocks().find((function(e){return"math_arithmetic_basic"===e.type&&e.getInputTargetBlock("A")&&"t2c_text_length"===e.getInputTargetBlock("A").type&&e.getInputTargetBlock("A").getInputTargetBlock("VALUE")&&"variables_get"===e.getInputTargetBlock("A").getInputTargetBlock("VALUE").type&&"s"===e.getInputTargetBlock("A").getInputTargetBlock("VALUE").getField("VAR").getText()&&e.getInputTargetBlock("B")===t&&"DIVIDE"===e.getFieldValue("OP")})),n=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&null===t.getNextBlock()&&t.getInputTargetBlock("VALUE")===e&&"positionOfSecondMiddleChar"===t.getField("VAR").getText()})),r=o.getAllBlocks().find((function(t){return"math_number"===t.type&&1===t.getFieldValue("NUM")})),i=o.getAllBlocks().find((function(t){return"math_arithmetic_basic"===t.type&&t.getInputTargetBlock("A")&&"t2c_text_length"===t.getInputTargetBlock("A").type&&t.getInputTargetBlock("A").getInputTargetBlock("VALUE")&&"variables_get"===t.getInputTargetBlock("A").getInputTargetBlock("VALUE").type&&"s"===t.getInputTargetBlock("A").getInputTargetBlock("VALUE").getField("VAR").getText()&&t.getInputTargetBlock("B")===r&&"MINUS"===t.getFieldValue("OP")})),a=o.getAllBlocks().find((function(t){return("t2c_text_charat"===t.type||"js_text_charat"===t.type)&&t.getInputTargetBlock("VALUE")&&"variables_get"===t.getInputTargetBlock("VALUE").type&&"s"===t.getInputTargetBlock("VALUE").getField("VAR").getText()&&t.getInputTargetBlock("AT")===i})),s=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getNextBlock()===n&&t.getInputTargetBlock("VALUE")===a&&"lastChar"===t.getField("VAR").getText()})),l=o.getAllBlocks().find((function(t){return"math_number"===t.type&&0===t.getFieldValue("NUM")})),u=o.getAllBlocks().find((function(t){return("t2c_text_charat"===t.type||"js_text_charat"===t.type)&&t.getInputTargetBlock("VALUE")&&"variables_get"===t.getInputTargetBlock("VALUE").type&&"s"===t.getInputTargetBlock("VALUE").getField("VAR").getText()&&t.getInputTargetBlock("AT")===l})),c=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getNextBlock()===s&&t.getInputTargetBlock("VALUE")===u&&"firstChar"===t.getField("VAR").getText()})),g=o.getAllBlocks().find((function(t){return"text"===t.type})),d=o.getAllBlocks().find((function(t){return("text_input"===t.type||"js_text_input"===t.type)&&t.getInputTargetBlock("TEXT")===g})),h=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getNextBlock()===c&&t.getInputTargetBlock("VALUE")===d&&"s"===t.getField("VAR").getText()}));return t&&e&&n&&r&&i&&a&&s&&l&&u&&c&&g&&d&&h}),new l((function(){var t=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&"positionOfSecondMiddleChar"===t.getField("VAR").getText()})),e=(o.getAllBlocks().find((function(t){return"variables_set"===t.type&&"lastChar"===t.getField("VAR").getText()})),o.getAllBlocks().find((function(t){return"variables_set"===t.type&&"s"===t.getField("VAR").getText()}))),n=t&&t.getPreviousBlock()&&"variables_set"===t.getPreviousBlock().type&&t.getPreviousBlock().getField("VAR").getText();return t&&t.getNextBlock()&&"variables_set"===t.getNextBlock().type&&t.getNextBlock().getField("VAR").getText(),t&&e&&t.getNextBlock()===e?"Make sure to attach the block storing the position of the string's second middle character below the one storing the string itself.  Since instructions are run top to bottom, if you reversed the order, the computer wouldn't know what s is when trying to get its length in the calculation of the its second middle character's position!":!t||n&&"lastChar"===n?"Drag in the type-in-code block, and enter the code needed to calculate the position of the second middle character of the entered string FROM the string's length and store it in the variable positionOfSecondMiddleChar.  Be sure to attach this statement below the one declaring the variable to store the entered string's last character.\nThis means you'll be using s.length and a math operation in your code.\nIf you're not sure what math operation and number to use, consider the following strings' lengths and second middle character positions: \nat       : 2 | 1\ncode     : 4 | 2\npizzas   : 6 | 3\nscrabble : 8 | 4":"Make sure to attach this block storing the position of the second middle character below the last one you entered in which you store the last character in the variable lastChar."}),{startPosition:q(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),n.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔ Great again!  So now let's get the *position* of the first middle character.   Remember the first middle character appears *one place before* the second so what math operation can you use on the position of the second middle character to get the position of the first middle character?"),U(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),X(),G(o),D(o,"type_in_set_to_position_of_first_middle_char"),o.options.maxInstances.type_in_set_to_position_of_first_middle_char=1,o.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new i((function(){var t=o.getAllBlocks().find((function(t){return"variables_get"===t.type&&"positionOfSecondMiddleChar"===t.getField("VAR").getText()})),e=o.getAllBlocks().find((function(e){return"math_arithmetic_basic"===e.type&&e.getInputTargetBlock("A")===t&&e.getInputTargetBlock("B")&&"math_number"===e.getInputTargetBlock("B").type&&1===e.getInputTargetBlock("B").getFieldValue("NUM")&&"MINUS"===e.getFieldValue("OP")})),n=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&null===t.getNextBlock()&&t.getInputTargetBlock("VALUE")===e&&"positionOfFirstMiddleChar"===t.getField("VAR").getText()})),r=o.getAllBlocks().find((function(t){return"math_number"===t.type&&2===t.getFieldValue("NUM")})),i=o.getAllBlocks().find((function(t){return"math_arithmetic_basic"===t.type&&t.getInputTargetBlock("A")&&"t2c_text_length"===t.getInputTargetBlock("A").type&&t.getInputTargetBlock("A").getInputTargetBlock("VALUE")&&"variables_get"===t.getInputTargetBlock("A").getInputTargetBlock("VALUE").type&&"s"===t.getInputTargetBlock("A").getInputTargetBlock("VALUE").getField("VAR").getText()&&t.getInputTargetBlock("B")===r&&"DIVIDE"===t.getFieldValue("OP")})),a=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getNextBlock()===n&&t.getInputTargetBlock("VALUE")===i&&"positionOfSecondMiddleChar"===t.getField("VAR").getText()})),s=o.getAllBlocks().find((function(t){return"math_arithmetic_basic"===t.type&&t.getInputTargetBlock("A")&&"t2c_text_length"===t.getInputTargetBlock("A").type&&t.getInputTargetBlock("A").getInputTargetBlock("VALUE")&&"variables_get"===t.getInputTargetBlock("A").getInputTargetBlock("VALUE").type&&"s"===t.getInputTargetBlock("A").getInputTargetBlock("VALUE").getField("VAR").getText()&&t.getInputTargetBlock("B")&&"math_number"===t.getInputTargetBlock("B").type&&1===t.getInputTargetBlock("B").getFieldValue("NUM")&&"MINUS"===t.getFieldValue("OP")})),l=o.getAllBlocks().find((function(t){return("t2c_text_charat"===t.type||"js_text_charat"===t.type)&&t.getInputTargetBlock("VALUE")&&"variables_get"===t.getInputTargetBlock("VALUE").type&&"s"===t.getInputTargetBlock("VALUE").getField("VAR").getText()&&t.getInputTargetBlock("AT")===s})),u=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getNextBlock()===a&&t.getInputTargetBlock("VALUE")===l&&"lastChar"===t.getField("VAR").getText()})),c=o.getAllBlocks().find((function(t){return"math_number"===t.type&&0===t.getFieldValue("NUM")})),g=o.getAllBlocks().find((function(t){return("t2c_text_charat"===t.type||"js_text_charat"===t.type)&&t.getInputTargetBlock("VALUE")&&"variables_get"===t.getInputTargetBlock("VALUE").type&&"s"===t.getInputTargetBlock("VALUE").getField("VAR").getText()&&t.getInputTargetBlock("AT")===c})),d=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getNextBlock()===u&&t.getInputTargetBlock("VALUE")===g&&"firstChar"===t.getField("VAR").getText()})),h=o.getAllBlocks().find((function(t){return"text"===t.type})),p=o.getAllBlocks().find((function(t){return("text_input"===t.type||"js_text_input"===t.type)&&t.getInputTargetBlock("TEXT")===h})),f=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getNextBlock()===d&&t.getInputTargetBlock("VALUE")===p&&"s"===t.getField("VAR").getText()}));return t&&e&&n&&r&&i&&a&&s&&l&&u&&c&&g&&d&&h&&p&&f}),new l((function(){var t=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&"positionOfFirstMiddleChar"===t.getField("VAR").getText()})),e=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&"positionOfSecondMiddleChar"===t.getField("VAR").getText()})),n=t&&t.getPreviousBlock()&&"variables_set"===t.getPreviousBlock().type&&t.getPreviousBlock().getField("VAR").getText();return t&&t.getNextBlock()&&"variables_set"===t.getNextBlock().type&&t.getNextBlock().getField("VAR").getText(),t&&e&&t.getNextBlock(),!t||n&&"positionOfSecondMiddleChar"===n?"Drag in the type-in-code block, and enter the code needed to calculate the position of the first middle character of the entered string FROM the position of the second middle character and store it in the variable positionOfFirstMiddleChar.  Be sure to attach this statement below the one declaring the variable to store the position of the entered string's second middle character.\nThis means you'll be using positionOfFirstMiddleChar and a math operation in your code.\nIf you're not sure what math operation and number to use, consider the positions of the second middle characters and first characters of the following: \nat       : 1 | 0\ncode     : 2 | 1\npizzas   : 3 | 2\nscrabble : 4 | 3":"Make sure to attach this block storing the position of the first middle character below the last one you entered in which you store the position of the second middle character in the variable positionOfSecondMiddleChar."}),{startPosition:q(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),n.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔ Excellent!  So now that we have the positions of the first and second middle characters, let's store the characters themselves, starting with the first middle one."),U(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),X(),G(o),D(o,"type_in_get_first_middle_char"),o.options.maxInstances.type_in_get_first_middle_char=1,o.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new i((function(){var t=o.getAllBlocks().find((function(t){return"variables_get"===t.type&&"positionOfFirstMiddleChar"===t.getField("VAR").getText()})),e=o.getAllBlocks().find((function(e){return("t2c_text_charat"===e.type||"js_text_charat"===e.type)&&e.getInputTargetBlock("VALUE")&&"variables_get"===e.getInputTargetBlock("VALUE").type&&"s"===e.getInputTargetBlock("VALUE").getField("VAR").getText()&&e.getInputTargetBlock("AT")===t})),n=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&null===t.getNextBlock()&&t.getInputTargetBlock("VALUE")===e&&"firstMiddleChar"===t.getField("VAR").getText()})),r=o.getAllBlocks().find((function(t){return"variables_get"===t.type&&"positionOfSecondMiddleChar"===t.getField("VAR").getText()})),i=o.getAllBlocks().find((function(t){return"math_arithmetic_basic"===t.type&&t.getInputTargetBlock("A")===r&&t.getInputTargetBlock("B")&&"math_number"===t.getInputTargetBlock("B").type&&1===t.getInputTargetBlock("B").getFieldValue("NUM")&&"MINUS"===t.getFieldValue("OP")})),a=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getNextBlock()===n&&t.getInputTargetBlock("VALUE")===i&&"positionOfFirstMiddleChar"===t.getField("VAR").getText()})),s=o.getAllBlocks().find((function(t){return"math_number"===t.type&&2===t.getFieldValue("NUM")})),l=o.getAllBlocks().find((function(t){return"math_arithmetic_basic"===t.type&&t.getInputTargetBlock("A")&&"t2c_text_length"===t.getInputTargetBlock("A").type&&t.getInputTargetBlock("A").getInputTargetBlock("VALUE")&&"variables_get"===t.getInputTargetBlock("A").getInputTargetBlock("VALUE").type&&"s"===t.getInputTargetBlock("A").getInputTargetBlock("VALUE").getField("VAR").getText()&&t.getInputTargetBlock("B")===s&&"DIVIDE"===t.getFieldValue("OP")})),u=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getNextBlock()===a&&t.getInputTargetBlock("VALUE")===l&&"positionOfSecondMiddleChar"===t.getField("VAR").getText()})),c=o.getAllBlocks().find((function(t){return"math_arithmetic_basic"===t.type&&t.getInputTargetBlock("A")&&"t2c_text_length"===t.getInputTargetBlock("A").type&&t.getInputTargetBlock("A").getInputTargetBlock("VALUE")&&"variables_get"===t.getInputTargetBlock("A").getInputTargetBlock("VALUE").type&&"s"===t.getInputTargetBlock("A").getInputTargetBlock("VALUE").getField("VAR").getText()&&t.getInputTargetBlock("B")&&"math_number"===t.getInputTargetBlock("B").type&&1===t.getInputTargetBlock("B").getFieldValue("NUM")&&"MINUS"===t.getFieldValue("OP")})),g=o.getAllBlocks().find((function(t){return("t2c_text_charat"===t.type||"js_text_charat"===t.type)&&t.getInputTargetBlock("VALUE")&&"variables_get"===t.getInputTargetBlock("VALUE").type&&"s"===t.getInputTargetBlock("VALUE").getField("VAR").getText()&&t.getInputTargetBlock("AT")===c})),d=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getNextBlock()===u&&t.getInputTargetBlock("VALUE")===g&&"lastChar"===t.getField("VAR").getText()})),h=o.getAllBlocks().find((function(t){return"math_number"===t.type&&0==t.getFieldValue("NUM")})),p=o.getAllBlocks().find((function(t){return("t2c_text_charat"===t.type||"js_text_charat"===t.type)&&t.getInputTargetBlock("VALUE")&&"variables_get"===t.getInputTargetBlock("VALUE").type&&"s"===t.getInputTargetBlock("VALUE").getField("VAR").getText()&&t.getInputTargetBlock("AT")===h})),f=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getNextBlock()===d&&t.getInputTargetBlock("VALUE")===p&&"firstChar"===t.getField("VAR").getText()})),m=o.getAllBlocks().find((function(t){return"text"===t.type})),_=o.getAllBlocks().find((function(t){return("text_input"===t.type||"js_text_input"===t.type)&&t.getInputTargetBlock("TEXT")===m})),y=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getNextBlock()===f&&t.getInputTargetBlock("VALUE")===_&&"s"===t.getField("VAR").getText()}));return t&&e&&n&&r&&i&&a&&s&&l&&u&&c&&g&&d&&h&&p&&f&&m&&_&&y}),new l((function(){var t=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&"positionOfFirstMiddleChar"===t.getField("VAR").getText()})),e=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&"firstMiddleChar"===t.getField("VAR").getText()})),n=e&&e.getPreviousBlock()&&"variables_set"===e.getPreviousBlock().type&&e.getPreviousBlock().getField("VAR").getText();return e&&e.getNextBlock()&&"variables_set"===e.getNextBlock().type&&e.getNextBlock().getField("VAR").getText(),e&&t&&e.getNextBlock(),!e||n&&"positionOfFirstMiddleChar"===n?"Drag in the type-in-code block and enter the code needed to get the first middle character of the entered string from its position and store it in the variable firstMiddleChar.  Be sure to attach this statement below the one declaring the variable to store the position of the entered string's first middle character.":"Make sure to attach this block storing the first middle character below the last one you entered in which you store its position in the variable positionOfFirstMiddleChar."}),{startPosition:q(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),n.addTask(new i((function(){return"js"===document.getElementById("language").value||"py"===document.getElementById("language").value}),{start:function(){var t=document.getElementById("language").value;alert("✔ Excellent x 2!  So now it's time to store the 2nd middle character.  "+("js"===t||"py"===t?"":"But let's type this using pure JavaScript or Python.  Select JavaScript or Python and watch how the declaration for the firstMiddleChar translates for reference."))},isComplete:function(){return!0},animate:function(){return!0},finish:function(){U(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),X(),G(o),D(o,"type_in_get_second_middle_char"),o.options.maxInstances.type_in_get_second_middle_char=1,o.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new i((function(){var t=o.getAllBlocks().find((function(t){return("t2c_text_charat"===t.type||"js_text_charat"===t.type)&&t.getInputTargetBlock("VALUE")&&"variables_get"===t.getInputTargetBlock("VALUE").type&&"s"===t.getInputTargetBlock("VALUE").getField("VAR").getText()&&t.getInputTargetBlock("AT")&&"variables_get"===t.getInputTargetBlock("AT").type&&"positionOfSecondMiddleChar"===t.getInputTargetBlock("AT").getField("VAR").getText()})),e=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&null===e.getNextBlock()&&e.getInputTargetBlock("VALUE")===t&&"secondMiddleChar"===e.getField("VAR").getText()})),n=o.getAllBlocks().find((function(t){return"variables_get"===t.type&&"positionOfFirstMiddleChar"===t.getField("VAR").getText()})),r=o.getAllBlocks().find((function(t){return("t2c_text_charat"===t.type||"js_text_charat"===t.type)&&t.getInputTargetBlock("VALUE")&&"variables_get"===t.getInputTargetBlock("VALUE").type&&"s"===t.getInputTargetBlock("VALUE").getField("VAR").getText()&&t.getInputTargetBlock("AT")===n})),i=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getNextBlock()===e&&t.getInputTargetBlock("VALUE")===r&&"firstMiddleChar"===t.getField("VAR").getText()})),a=o.getAllBlocks().find((function(t){return"math_arithmetic_basic"===t.type&&t.getInputTargetBlock("A")&&"variables_get"===t.getInputTargetBlock("A").type&&"positionOfSecondMiddleChar"===t.getInputTargetBlock("A").getField("VAR").getText()&&t.getInputTargetBlock("B")&&"math_number"===t.getInputTargetBlock("B").type&&1===t.getInputTargetBlock("B").getFieldValue("NUM")&&"MINUS"===t.getFieldValue("OP")})),s=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getNextBlock()===i&&t.getInputTargetBlock("VALUE")===a&&"positionOfFirstMiddleChar"===t.getField("VAR").getText()})),l=o.getAllBlocks().find((function(t){return"math_number"===t.type&&2===t.getFieldValue("NUM")})),u=o.getAllBlocks().find((function(t){return"math_arithmetic_basic"===t.type&&t.getInputTargetBlock("A")&&"t2c_text_length"===t.getInputTargetBlock("A").type&&t.getInputTargetBlock("A").getInputTargetBlock("VALUE")&&"variables_get"===t.getInputTargetBlock("A").getInputTargetBlock("VALUE").type&&"s"===t.getInputTargetBlock("A").getInputTargetBlock("VALUE").getField("VAR").getText()&&t.getInputTargetBlock("B")===l&&"DIVIDE"===t.getFieldValue("OP")})),c=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getNextBlock()===s&&t.getInputTargetBlock("VALUE")===u&&"positionOfSecondMiddleChar"===t.getField("VAR").getText()})),g=o.getAllBlocks().find((function(t){return"math_arithmetic_basic"===t.type&&t.getInputTargetBlock("A")&&"t2c_text_length"===t.getInputTargetBlock("A").type&&t.getInputTargetBlock("A").getInputTargetBlock("VALUE")&&"variables_get"===t.getInputTargetBlock("A").getInputTargetBlock("VALUE").type&&"s"===t.getInputTargetBlock("A").getInputTargetBlock("VALUE").getField("VAR").getText()&&t.getInputTargetBlock("B")&&"math_number"===t.getInputTargetBlock("B").type&&1===t.getInputTargetBlock("B").getFieldValue("NUM")&&"MINUS"===t.getFieldValue("OP")})),d=o.getAllBlocks().find((function(t){return("t2c_text_charat"===t.type||"js_text_charat"===t.type)&&t.getInputTargetBlock("VALUE")&&"variables_get"===t.getInputTargetBlock("VALUE").type&&"s"===t.getInputTargetBlock("VALUE").getField("VAR").getText()&&t.getInputTargetBlock("AT")===g})),h=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getNextBlock()===c&&t.getInputTargetBlock("VALUE")===d&&"lastChar"===t.getField("VAR").getText()})),p=o.getAllBlocks().find((function(t){return"math_number"===t.type&&0===t.getFieldValue("NUM")})),f=o.getAllBlocks().find((function(t){return("t2c_text_charat"===t.type||"js_text_charat"===t.type)&&t.getInputTargetBlock("VALUE")&&"variables_get"===t.getInputTargetBlock("VALUE").type&&"s"===t.getInputTargetBlock("VALUE").getField("VAR").getText()&&t.getInputTargetBlock("AT")===p})),m=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getNextBlock()===h&&t.getInputTargetBlock("VALUE")===f&&"firstChar"===t.getField("VAR").getText()})),_=o.getAllBlocks().find((function(t){return"text"===t.type})),y=o.getAllBlocks().find((function(t){return("text_input"===t.type||"js_text_input"===t.type)&&t.getInputTargetBlock("TEXT")===_})),T=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getNextBlock()===m&&t.getInputTargetBlock("VALUE")===y&&"s"===t.getField("VAR").getText()}));return t&&e&&n&&r&&i&&a&&s&&l&&u&&c&&g&&d&&h&&p&&f&&m&&_&&y&&T}),new l((function(){var t=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&"secondMiddleChar"===t.getField("VAR").getText()})),e=t&&t.getPreviousBlock()&&"variables_set"===t.getPreviousBlock().type&&t.getPreviousBlock().getField("VAR").getText();return t&&t.getNextBlock()&&"variables_set"===t.getNextBlock().type&&t.getNextBlock().getField("VAR").getText(),!t||e&&"firstMiddleChar"===e?"Drag in the type-in-code block and enter the code needed to get the second middle character of the entered string from its position and store it in the variable secondMiddleChar.  Do this in "+T2C.MSG.currentLanguage.LANGUAGE_NAME+" by adapting the code from the last blocks assembled to get the first middle character.  Be sure to attach this statement below the one declaring the variable to store the entered string's first middle character.":"Make sure to attach this block storing the second middle character below the last one you entered in which you store the user's first middle character in the variable firstMiddleChar."}),{startPosition:q(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),n.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔ Excellent x 3!  So now for the grand finale: we need to put all of these characters together and display them on one line.  Do you remember how to do that?  Also, let's include the full string the user enters at the beginning because our users can be forgetful!\n  So for an input of SCRABBLE, we'd want the output to be as follows: \nSCRABBLE: SEAB"),U(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),X(),G(o),D(o,"type_in_combine_first_last_middle2_chars"),o.options.maxInstances.type_in_combine_first_last_middle2_chars=1,o.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new i((function(){var t=o.getAllBlocks().find((function(t){return"variables_get"===t.type&&"secondMiddleChar"===t.getField("VAR").getText()})),e=o.getAllBlocks().find((function(t){return"variables_get"===t.type&&"firstMiddleChar"===t.getField("VAR").getText()})),n=o.getAllBlocks().find((function(n){return"t2c_text_join"===n.type&&n.getInputTargetBlock("A")===e&&n.getInputTargetBlock("B")===t})),r=o.getAllBlocks().find((function(t){return"variables_get"===t.type&&"lastChar"===t.getField("VAR").getText()})),i=o.getAllBlocks().find((function(t){return"t2c_text_join"===t.type&&t.getInputTargetBlock("A")===r&&t.getInputTargetBlock("B")===n})),a=o.getAllBlocks().find((function(t){return"variables_get"===t.type&&"firstChar"===t.getField("VAR").getText()})),s=o.getAllBlocks().find((function(t){return"t2c_text_join"===t.type&&t.getInputTargetBlock("A")===a&&t.getInputTargetBlock("B")===i})),l=o.getAllBlocks().find((function(t){return"text"===t.type&&": "===t.getFieldValue("TEXT")})),u=o.getAllBlocks().find((function(t){return"t2c_text_join"===t.type&&t.getInputTargetBlock("A")===l&&t.getInputTargetBlock("B")===s})),c=o.getAllBlocks().find((function(t){return"t2c_text_join"===t.type&&t.getInputTargetBlock("A")&&"variables_get"===t.getInputTargetBlock("A").type&&"s"===t.getInputTargetBlock("A").getField("VAR").getText()&&t.getInputTargetBlock("B")===u})),g=o.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&null===t.getNextBlock()&&t.getInputTargetBlock("TEXT")===c})),d=o.getAllBlocks().find((function(t){return("t2c_text_charat"===t.type||"js_text_charat"===t.type)&&t.getInputTargetBlock("VALUE")&&"variables_get"===t.getInputTargetBlock("VALUE").type&&"s"===t.getInputTargetBlock("VALUE").getField("VAR").getText()&&t.getInputTargetBlock("AT")&&"variables_get"===t.getInputTargetBlock("AT").type&&"positionOfSecondMiddleChar"===t.getInputTargetBlock("AT").getField("VAR").getText()})),h=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getNextBlock()===g&&t.getInputTargetBlock("VALUE")===d&&"secondMiddleChar"===t.getField("VAR").getText()})),p=o.getAllBlocks().find((function(t){return"variables_get"===t.type&&"positionOfFirstMiddleChar"===t.getField("VAR").getText()})),f=o.getAllBlocks().find((function(t){return("t2c_text_charat"===t.type||"js_text_charat"===t.type)&&t.getInputTargetBlock("VALUE")&&"variables_get"===t.getInputTargetBlock("VALUE").type&&"s"===t.getInputTargetBlock("VALUE").getField("VAR").getText()&&t.getInputTargetBlock("AT")===p})),m=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getNextBlock()===h&&t.getInputTargetBlock("VALUE")===f&&"firstMiddleChar"===t.getField("VAR").getText()})),_=o.getAllBlocks().find((function(t){return"math_arithmetic_basic"===t.type&&t.getInputTargetBlock("A")&&"variables_get"===t.getInputTargetBlock("A").type&&"positionOfSecondMiddleChar"===t.getInputTargetBlock("A").getField("VAR").getText()&&t.getInputTargetBlock("B")&&"math_number"===t.getInputTargetBlock("B").type&&1===t.getInputTargetBlock("B").getFieldValue("NUM")&&"MINUS"===t.getFieldValue("OP")})),y=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getNextBlock()===m&&t.getInputTargetBlock("VALUE")===_&&"positionOfFirstMiddleChar"===t.getField("VAR").getText()})),T=o.getAllBlocks().find((function(t){return"math_number"===t.type&&2===t.getFieldValue("NUM")})),b=o.getAllBlocks().find((function(t){return"math_arithmetic_basic"===t.type&&t.getInputTargetBlock("A")&&"t2c_text_length"===t.getInputTargetBlock("A").type&&t.getInputTargetBlock("A").getInputTargetBlock("VALUE")&&"variables_get"===t.getInputTargetBlock("A").getInputTargetBlock("VALUE").type&&"s"===t.getInputTargetBlock("A").getInputTargetBlock("VALUE").getField("VAR").getText()&&t.getInputTargetBlock("B")===T&&"DIVIDE"===t.getFieldValue("OP")})),k=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getNextBlock()===y&&t.getInputTargetBlock("VALUE")===b&&"positionOfSecondMiddleChar"===t.getField("VAR").getText()})),B=o.getAllBlocks().find((function(t){return"math_arithmetic_basic"===t.type&&t.getInputTargetBlock("A")&&"t2c_text_length"===t.getInputTargetBlock("A").type&&t.getInputTargetBlock("A").getInputTargetBlock("VALUE")&&"variables_get"===t.getInputTargetBlock("A").getInputTargetBlock("VALUE").type&&"s"===t.getInputTargetBlock("A").getInputTargetBlock("VALUE").getField("VAR").getText()&&t.getInputTargetBlock("B")&&"math_number"===t.getInputTargetBlock("B").type&&1===t.getInputTargetBlock("B").getFieldValue("NUM")&&"MINUS"===t.getFieldValue("OP")})),x=o.getAllBlocks().find((function(t){return("t2c_text_charat"===t.type||"js_text_charat"===t.type)&&t.getInputTargetBlock("VALUE")&&"variables_get"===t.getInputTargetBlock("VALUE").type&&"s"===t.getInputTargetBlock("VALUE").getField("VAR").getText()&&t.getInputTargetBlock("AT")===B})),E=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getNextBlock()===k&&t.getInputTargetBlock("VALUE")===x&&"lastChar"===t.getField("VAR").getText()})),I=o.getAllBlocks().find((function(t){return"math_number"===t.type&&0===t.getFieldValue("NUM")})),A=o.getAllBlocks().find((function(t){return("t2c_text_charat"===t.type||"js_text_charat"===t.type)&&t.getInputTargetBlock("VALUE")&&"variables_get"===t.getInputTargetBlock("VALUE").type&&"s"===t.getInputTargetBlock("VALUE").getField("VAR").getText()&&t.getInputTargetBlock("AT")===I})),v=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getNextBlock()===E&&t.getInputTargetBlock("VALUE")===A&&"firstChar"===t.getField("VAR").getText()})),w=o.getAllBlocks().find((function(t){return"text"===t.type})),S=o.getAllBlocks().find((function(t){return("text_input"===t.type||"js_text_input"===t.type)&&t.getInputTargetBlock("TEXT")===w})),L=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getNextBlock()===v&&t.getInputTargetBlock("VALUE")===S&&"s"===t.getField("VAR").getText()}));return t&&e&&n&&r&&i&&a&&s&&l&&u&&c&&g&&d&&h&&p&&f&&m&&_&&y&&T&&b&&k&&B&&x&&E&&I&&A&&v&&w&&S&&L}),new l((function(){var t=o.getAllBlocks().find((function(t){return"text_print"===t.type||"js_text_print"===t.type})),e=(o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getNextBlock()===t&&"secondMiddleChar"===e.getField("VAR").getText()})),t&&t.getPreviousBlock()&&"variables_set"===t.getPreviousBlock().type&&t.getPreviousBlock().getField("VAR").getText()),n=t&&t.getNextBlock()&&"variables_set"===t.getNextBlock().type&&t.getNextBlock().getField("VAR").getText();return t&&!e?"Make sure to attach this block displaying the entered string and its first, last, and first and second middle characters below the last one you entered in which you store the user's second middle character in the variable secondMiddleChar.":n?"Make sure to attach this block displaying the entered string and its first, last, and first and second middle characters below the last one you entered in which you store the user's second middle character in the variable secondMiddleChar.  Since instructions are run top to bottom, if you place this before the block you did, the computer wouldn't know what "+(n.startsWith("positionOf")?n.substring(10):n)+" means!":'Drag in the type-in-code block and place it below the block that stores the second character in a variable.  Enter code to display the user entered string, followed by the string literal ": " followed by its first character, then its last character, then its first middle character, and finally its second middle character.\n  So for an input of SCRABBLE, we\'d want the output to be as follows: \nSCRABBLE: SEAB'}),{startPosition:q(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),function(t){t.addTask(new i((function(){return document.getElementById("output-container").classList.contains("show-container")}),new u([new l((function(){return T2C.MSG.currentLanguage.BUTTON_RUN_CODE}),{startPosition:{x:document.getElementById("run-code-button").offsetLeft+document.getElementById("run-code-button").offsetWidth,y:document.getElementById("run-code-button").offsetTop+document.getElementById("run-code-button").offsetHeight}}),new s(h,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("run-code-button").offsetLeft+document.getElementById("run-code-button").offsetWidth/2,y:document.getElementById("run-code-button").offsetTop+document.getElementById("run-code-button").offsetHeight/2}})])))}(n),function(t,e){var n=0;function o(){e.style.color=n%50<25?"#a00":"#000",++n<200&&requestAnimationFrame(o)}t.addTask(new i((function(){return n>=200}),{start:function(){e.style.verticalAlign="top",requestAnimationFrame(o)},isComplete:function(){return!0},animate:function(){return!0}}))}(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔✔✔ Congratulations!  You just completed the challenging Mission 3!  Take a moment to bask in your accomplishments!  Not only did you solve the problem yourself, you also proved to be an excellent teacher!  You managed to explain to the computer how it could solve the problem as well in a language it could understand.  This meant you were also perfect in your grammar, spelling everything correctly and placing every parenthesis and period where it needed to go, making your English teachers proud!\nIn Mission 4, we'll introduce a new block that'll allow you to get *all* the characters from a starting position to an ending one (rather than just getting one character at a time).  We'll then use this block to display a string with its initial character removed.  Until next time!"),U(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),X(),G(o),D(o,"code_statement"),o.options.maxInstances.code_statement=1,o.updateToolbox(document.getElementById("toolbox"))}})),n},function(t,e){var n=t||new c;alert("In previous missions, you'd use "+T2C.MSG.currentLanguage.TERMINAL_GETCHARACTERNUMBER+" to get a *single* character at a given numerical position in a string.  In this mission, you'll be using a new block "+T2C.MSG.EN.TERMINAL_GETTEXTFROM+" to display all characters between given starting and ending numerical positions.");var o=e||Blockly.getMainWorkspace();tt(o),["t2c_text_getsubstring","text_print","variables_get","math_number","text","variables_set"].forEach((function(t,e){et(o,t,!1),o.options.maxInstances[t]=3===e?2:1})),o.clear();var a=Object(r.e)(o,"text"),g=Object(r.e)(o,"variables_set");Object(r.h)(a,"aap kaise hain?","TEXT"),Object(r.j)(g,"VALUE",a),Object(r.h)(g,"welcomeMsg","VAR"),o.setScale(1),Object(r.f)(o),Array.from(document.querySelectorAll("rect")).filter((function(t){return t.getAttribute("fill-opacity")}));var d=document.createElement("div");function h(t){t.addTask(new i((function(){return document.getElementById("output-container").classList.contains("show-container")}),new u([new l((function(){return T2C.MSG.currentLanguage.BUTTON_RUN_CODE}),{startPosition:{x:document.getElementById("run-code-button").offsetLeft+document.getElementById("run-code-button").offsetWidth,y:document.getElementById("run-code-button").offsetTop+document.getElementById("run-code-button").offsetHeight}}),new s(d,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("run-code-button").offsetLeft+document.getElementById("run-code-button").offsetWidth/2,y:document.getElementById("run-code-button").offsetTop+document.getElementById("run-code-button").offsetHeight/2}})])))}function p(t,e){var n=0;function o(){e.style.color=n%50<25?"#a00":"#000",++n<200&&requestAnimationFrame(o)}t.addTask(new i((function(){return n>=200}),{start:function(){e.style.verticalAlign="top",requestAnimationFrame(o)},isComplete:function(){return!0},animate:function(){return!0}}))}return d.innerText="👆",d.id="ptr",d.style.fontSize="x-large",d.style.position="absolute",d.style.zIndex="1001",document.getElementById("blockly-div").appendChild(d),n.addTask(new i((function(){var t=o.getAllBlocks().find((function(t){return"math_number"===t.type&&9===t.getFieldValue("NUM")})),e=o.getAllBlocks().find((function(t){return"math_number"===t.type&&4===t.getFieldValue("NUM")})),n=o.getAllBlocks().find((function(t){return"variables_get"===t.type&&"welcomeMsg"===t.getField("VAR").getText()})),r=o.getAllBlocks().find((function(o){return("t2c_text_getsubstring"===o.type||"js_text_getsubstring"===o.type)&&o.getInputTargetBlock("STRING")===n&&o.getInputTargetBlock("AT1")===e&&o.getInputTargetBlock("AT2")===t})),i=o.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&null===t.getNextBlock()&&t.getInputTargetBlock("TEXT")===r})),a=o.getAllBlocks().find((function(t){return"text"===t.type&&"aap kaise hain?"==t.getFieldValue("TEXT")})),s=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getNextBlock()===i&&t.getInputTargetBlock("VALUE")===a&&"welcomeMsg"===t.getField("VAR").getText()}));return t&&e&&n&&r&&i&&a&&s}),new l((function(){var t=o.getAllBlocks().find((function(t){return"math_number"===t.type})),e=o.getAllBlocks().find((function(e){return"math_number"===e.type&&e!==t})),n=o.getAllBlocks().find((function(t){return"variables_get"===t.type})),r=o.getAllBlocks().find((function(t){return"t2c_text_getsubstring"===t.type||"js_text_getsubstring"===t.type})),i=o.getAllBlocks().find((function(t){return"text_print"===t.type||"js_text_print"===t.type})),a=o.getAllBlocks().find((function(t){return"text"===t.type})),s=o.getAllBlocks().find((function(t){return"variables_set"===t.type}));if(r&&(r.getInputTargetBlock("AT1")===t||r.getInputTargetBlock("AT1")===e)){var l=r.getInputTargetBlock("AT1").getFieldValue("NUM");if(5===l)return"The given starting position is incorrect.  Remember that the initial character starts at position (index) 0 and unlike the given ending position to "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+", the computer starts extracting text from the first position number you give it.";if(3===l)return"The given starting position is incorrect.  Remember that the initial character starts at position (index) 0 and that spaces are characters as well.";if(9===l)return"The given starting position is incorrect.  The first number given to "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" is the starting position, not the ending one.";if(4!==l)return"Incorrect number for the starting position.  Please try recounting the characters from the beginning of the string, starting from 0 and include spaces in your count."}if(r&&(r.getInputTargetBlock("AT2")===t||r.getInputTargetBlock("AT2")===e)){var u=r.getInputTargetBlock("AT2").getFieldValue("NUM");if(8===u)return"The given ending position is incorrect.  Remember to count spaces and unlike the given starting position to "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+", the computer stops extracting text *one place before* the second number you give it.";if(4===u)return"The given ending position is incorrect.  The second number given to "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" is the ending position, not the starting one.";if(9!==u)return"Incorrect number for the ending position.  Please try recounting the characters from the beginning of the string, starting from 0 and include spaces in your count."}return s&&"welcomeMsg"!==s.getField("VAR").getText()?"Make sure you keep the variable name for the "+T2C.MSG.currentLanguage.TERMINAL_LET+"block as it was; it should be welcomeMsg.":s&&s.getInputTargetBlock("VALUE")!==a?"Keep the text block with the text aap kaise hain? inside the "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block.  When using the "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" block, refer to the variable welcomeMsg.":"aap kaise hain?"!==a.getFieldValue("TEXT")?"Make sure to leave the text aap kaise hain? for the text block.":n&&"welcomeMsg"!==n.getField("VAR").getText()?"Make sure you use the variable name welcomeMsg for the variable get block so that it refers to the value assigned to the variable.":r&&n&&r.getInputTargetBlock("STRING")!==n?"Make sure to place the variable with the string's value inside the left space of the "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" so the computer knows which string to extract the substring from.":r&&n&&(r.getInputTargetBlock("A")===n||r.getInputTargetBlock("B")===n)?"The variable which holds the text to get the string from should go inside the left space of the "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" block.  The other spaces are for the *numbers* of the starting and ending positions from where to extract the text.":i&&r&&i.getInputTargetBlock("TEXT")!==r?"You want to display the result of extracting text from welcomeMsg so you should use the "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" block inside of the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block.":i&&s&&i.getNextBlock()===s?"The "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block should go below the "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block so the computer knows what welcomeMsg is when attempting to extract text from it.  Remember that statements are run from top to bottom.":i&&null!==i.getNextBlock()?"The next statement above the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block is incorrect.":i&&s&&s.getNextBlock()!==i?"Place the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block below the "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable declaration block.":"Drag in and assemble the blocks from the toolbox to get the text kaise (without spaces) from aap kaise hain?  Do NOT change the existing ones.\nTo do this, use the new "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" block, which takes a string, the position to start getting text from, and the position to stop at (NOTE: IT WILL STOP 1 BEFORE THE second number.)\nIn case you were curious, aap kaise hain? is the polite formal way to ask 'how are you?' in Hindi, literally, 'you (aap) how (kaise) are (hain)?'"}),{startPosition:it(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),h(n),p(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("👍 Nice!  So now let's try another example with the new block, but let's type it!  This time, you'll display everything except the string's initial character.  So we'll want to display ap kaise hain?"),Z(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),Q(),et(o,"type_in_all_but_first_specific_str"),o.options.maxInstances.type_in_all_but_first_specific_str=1,o.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new i((function(){var t=o.getAllBlocks().find((function(t){return"math_number"===t.type&&15===t.getFieldValue("NUM")})),e=o.getAllBlocks().find((function(t){return"math_number"===t.type&&1===t.getFieldValue("NUM")})),n=o.getAllBlocks().filter((function(t){return"variables_get"===t.type&&"welcomeMsg"===t.getField("VAR").getText()})),r=o.getAllBlocks().find((function(o){return("t2c_text_getsubstring"===o.type||"js_text_getsubstring"===o.type)&&-1!==n.indexOf(o.getInputTargetBlock("STRING"))&&o.getInputTargetBlock("AT1")===e&&o.getInputTargetBlock("AT2")===t})),i=o.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&null===t.getNextBlock()&&t.getInputTargetBlock("TEXT")===r})),a=o.getAllBlocks().find((function(t){return"math_number"===t.type&&9===t.getFieldValue("NUM")})),s=o.getAllBlocks().find((function(t){return"math_number"===t.type&&4===t.getFieldValue("NUM")})),l=o.getAllBlocks().find((function(t){return("t2c_text_getsubstring"===t.type||"js_text_getsubstring"===t.type)&&-1!==n.indexOf(t.getInputTargetBlock("STRING"))&&t.getInputTargetBlock("AT1")===s&&t.getInputTargetBlock("AT2")===a})),u=o.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&t.getNextBlock()===i&&t.getInputTargetBlock("TEXT")===l})),c=o.getAllBlocks().find((function(t){return"text"===t.type&&"aap kaise hain?"==t.getFieldValue("TEXT")})),g=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getNextBlock()===u&&t.getInputTargetBlock("VALUE")===c&&"welcomeMsg"===t.getField("VAR").getText()}));return t&&e&&n&&r&&i&&a&&s&&l&&u&&c&&g}),new l((function(){var t=o.getAllBlocks().find((function(t){return"math_number"===t.type&&15===t.getFieldValue("NUM")})),e=o.getAllBlocks().find((function(t){return"math_number"===t.type&&1===t.getFieldValue("NUM")})),n=o.getAllBlocks().filter((function(t){return"variables_get"===t.type&&"welcomeMsg"===t.getField("VAR").getText()})),r=o.getAllBlocks().find((function(o){return("t2c_text_getsubstring"===o.type||"js_text_getsubstring"===o.type)&&-1!==n.indexOf(o.getInputTargetBlock("STRING"))&&o.getInputTargetBlock("AT1")===e&&o.getInputTargetBlock("AT2")===t})),i=o.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&t.getInputTargetBlock("TEXT")===r})),a=o.getAllBlocks().find((function(t){return"math_number"===t.type&&9===t.getFieldValue("NUM")})),s=o.getAllBlocks().find((function(t){return"math_number"===t.type&&4===t.getFieldValue("NUM")})),l=o.getAllBlocks().find((function(t){return("t2c_text_getsubstring"===t.type||"js_text_getsubstring"===t.type)&&-1!==n.indexOf(t.getInputTargetBlock("STRING"))&&t.getInputTargetBlock("AT1")===s&&t.getInputTargetBlock("AT2")===a})),u=o.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&t.getInputTargetBlock("TEXT")===l})),c=o.getAllBlocks().find((function(t){return"text"===t.type&&"aap kaise hain?"==t.getFieldValue("TEXT")})),g=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getInputTargetBlock("VALUE")===c&&"welcomeMsg"===t.getField("VAR").getText()}));return i&&g&&i.getNextBlock()===g?"The "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block should go below the "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block so the computer knows what welcomeMsg is when attempting to extract text from it.  Remember that statements are run from top to bottom.":i&&u&&u.getNextBlock()!==i?"Place the new "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block that's used to display all characters beyond the initial one below the previous "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block used to display kaise.":"Drag in the type-in code block from the toolbox and type in the code necessary to display all the characters except the initial one from aap kaise hain?  As before, use "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+", the variable welcomeMsg, and 2 specific numbers for the starting and ending positions.  We'll generalize this so it works for other strings next.  Place this new block below the previous "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+"."}),{startPosition:it(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),h(n),p(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("👍 Good!  So of course this is not a very useful program as we could've just displayed two lines of text 'kaise' and 'ap kaise hain?' and the user would not know the difference.  So now let's show the usefulness of the new "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" by instead using the string literal 'aap kaise hain?' as our message to get input from the user instead.  Then our user can respond with something like theek (fine) or bahut acchaa (very good)."),Z(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),Q(),et(o,"text_input"),o.options.maxInstances.text_input=1,o.options.maxInstances.type_in_all_but_first_specific_str=0,o.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new i((function(){var t=o.getAllBlocks().find((function(t){return"math_number"===t.type&&15===t.getFieldValue("NUM")})),e=o.getAllBlocks().find((function(t){return"math_number"===t.type&&1===t.getFieldValue("NUM")})),n=o.getAllBlocks().filter((function(t){return"variables_get"===t.type&&"response"===t.getField("VAR").getText()})),r=o.getAllBlocks().find((function(o){return("t2c_text_getsubstring"===o.type||"js_text_getsubstring"===o.type)&&-1!==n.indexOf(o.getInputTargetBlock("STRING"))&&o.getInputTargetBlock("AT1")===e&&o.getInputTargetBlock("AT2")===t})),i=o.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&null===t.getNextBlock()&&t.getInputTargetBlock("TEXT")===r})),a=o.getAllBlocks().find((function(t){return"math_number"===t.type&&9===t.getFieldValue("NUM")})),s=o.getAllBlocks().find((function(t){return"math_number"===t.type&&4===t.getFieldValue("NUM")})),l=o.getAllBlocks().find((function(t){return("t2c_text_getsubstring"===t.type||"js_text_getsubstring"===t.type)&&-1!==n.indexOf(t.getInputTargetBlock("STRING"))&&t.getInputTargetBlock("AT1")===s&&t.getInputTargetBlock("AT2")===a})),u=o.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&t.getNextBlock()===i&&t.getInputTargetBlock("TEXT")===l})),c=o.getAllBlocks().find((function(t){return"text"===t.type&&"aap kaise hain?"==t.getFieldValue("TEXT")})),g=o.getAllBlocks().find((function(t){return("text_input"===t.type||"js_text_input"===t.type)&&t.getInputTargetBlock("TEXT")===c})),d=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getNextBlock()===u&&t.getInputTargetBlock("VALUE")===g&&"response"===t.getField("VAR").getText()}));return t&&e&&2===n.length&&r&&i&&a&&s&&l&&u&&c&&g&&d}),new l((function(){var t=o.getAllBlocks().find((function(t){return"math_number"===t.type&&15===t.getFieldValue("NUM")})),e=o.getAllBlocks().find((function(t){return"math_number"===t.type&&1===t.getFieldValue("NUM")})),n=o.getAllBlocks().filter((function(t){return"variables_get"===t.type})),r=o.getAllBlocks().find((function(o){return("t2c_text_getsubstring"===o.type||"js_text_getsubstring"===o.type)&&-1!==n.indexOf(o.getInputTargetBlock("STRING"))&&o.getInputTargetBlock("AT1")===e&&o.getInputTargetBlock("AT2")===t})),i=o.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&null===t.getNextBlock()&&t.getInputTargetBlock("TEXT")===r})),a=o.getAllBlocks().find((function(t){return"math_number"===t.type&&9===t.getFieldValue("NUM")})),s=o.getAllBlocks().find((function(t){return"math_number"===t.type&&4===t.getFieldValue("NUM")})),l=o.getAllBlocks().find((function(t){return("t2c_text_getsubstring"===t.type||"js_text_getsubstring"===t.type)&&-1!==n.indexOf(t.getInputTargetBlock("STRING"))&&t.getInputTargetBlock("AT1")===s&&t.getInputTargetBlock("AT2")===a})),u=o.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&t.getNextBlock()===i&&t.getInputTargetBlock("TEXT")===l})),c=o.getAllBlocks().find((function(t){return"text"===t.type})),g=o.getAllBlocks().find((function(t){return"text_input"===t.type||"js_text_input"===t.type})),d=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getNextBlock()===u&&t.getInputTargetBlock("VALUE")===g}));if(d){var h=d.getField("VAR").getText();if(n.find((function(t){return t.getField("VAR").getText()!==h})))return"Be sure that the variable names all match so they all refer to the same text.";if("welcomeMsg"!==h&&"response"!==h)return"Be sure to name the variable response to reflect that it now holds the user response to the question aap kaise hain?  You can change a variable name by clicking its current name of "+h+" and then selecting Rename variable..."}if(g){if(g.getParent()!==d)return"Be sure to place the "+T2C.MSG.currentLanguage.TERMINAL_GETINPUTBYASKING+" block inside the "+T2C.MSG.currentLanguage.TERMINAL_LET+" one so the variable stores the response from the user.";if(c){if("aap kaise hain?"!==c.getFieldValue("TEXT"))return"The message of aap kaise hain? should stay the same so change it back to that.  The only difference here is that it becomes the prompt to the user rather than the text we'll be extracting a substring from, which instead will be the user's response.";if(c.getParent()!==g)return"Place the text block with the message aap kaise hain? inside the "+T2C.MSG.currentLanguage.TERMINAL_GETINPUTBYASKING+" one so that the user is prompted with this question."}}return"Drag in the "+T2C.MSG.currentLanguage.TERMINAL_GETINPUTBYASKING+" block from the toolbox and make aap kaise hain? its prompt.  Then change the variable name from welcomeMsg to response to reflect the fact that the variable will now hold the user's reply to the question aap kaise hain? instead of the question itself."}),{startPosition:it(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),h(n),p(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("👍 Great!  So are you seeing 2 lines of text here, or did you get an error?  If you received an error, it means your text that you entered wasn't long enough.  E.g., you can't extract all the characters from the input from position 1 to before position 15 for an input of bahut acchaa whose last character appears at position 11 (positions 12, 13, and 14 don't exist for this string!).  On the other hand, if your text was too long, you wouldn't get all of the characters beyond the initial one.  So to conclude this mission, let's fix this problem so it works for any string with at least 1 character!"),Z(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),Q(),o.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new i((function(){var t=o.getAllBlocks().find((function(t){return"text"===t.type&&"aap kaise hain?"==t.getFieldValue("TEXT")})),e=o.getAllBlocks().find((function(e){return("text_input"===e.type||"js_text_input"===e.type)&&e.getInputTargetBlock("TEXT")===t})),n=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&null===t.getNextBlock()&&t.getInputTargetBlock("VALUE")===e&&"response"===t.getField("VAR").getText()}));return t&&e&&n}),new l((function(){return"First, delete the two "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" blocks and all the ones that appear inside them so all that's left is the initial "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable statement assigned to the user's response."}),{startPosition:it(o,null,{},50,document.getElementById("top-header").offsetHeight+50),finish:function(){var t=nt("text_print"),e=nt("t2c_text_getsubstring"),n=nt("variables_get"),r=nt("math_number"),i=nt("math_number");ot(n,"VAR","response"),ot(r,"NUM",1),ot(i,"NUM",15),rt(t,"TEXT",e),rt(e,"STRING",n),rt(e,"AT1",r),rt(e,"AT2",i),o.options.maxInstances.text_print=0,o.options.maxInstances.text=0,o.options.maxInstances.variables_get=0,o.options.maxInstances.math_number=0,o.options.maxInstances.t2c_text_getsubstring=0,document.getElementById("toolbox").prepend(t),et(o,"type_in_all_but_first_general_str"),o.options.maxInstances.type_in_all_but_first_general_str=1}}))),n.addTask(new i((function(){var t=o.getAllBlocks().filter((function(t){return"variables_get"===t.type&&"response"===t.getField("VAR").getText()})),e=o.getAllBlocks().find((function(e){return"t2c_text_length"===e.type&&-1!==t.indexOf(e.getInputTargetBlock("VALUE"))})),n=o.getAllBlocks().find((function(t){return"math_number"===t.type&&1===t.getFieldValue("NUM")})),r=o.getAllBlocks().find((function(o){return("t2c_text_getsubstring"===o.type||"js_text_getsubstring"===o.type)&&-1!==t.indexOf(o.getInputTargetBlock("STRING"))&&o.getInputTargetBlock("AT1")===n&&o.getInputTargetBlock("AT2")===e})),i=o.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&null===t.getNextBlock()&&t.getInputTargetBlock("TEXT")===r})),a=o.getAllBlocks().find((function(t){return"text"===t.type&&"aap kaise hain?"==t.getFieldValue("TEXT")})),s=o.getAllBlocks().find((function(t){return("text_input"===t.type||"js_text_input"===t.type)&&t.getInputTargetBlock("TEXT")===a})),l=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getNextBlock()===i&&t.getInputTargetBlock("VALUE")===s&&"response"===t.getField("VAR").getText()}));return 2===t.length&&e&&n&&r&&i&&a&&s&&l}),new l((function(){var t=o.getAllBlocks().filter((function(t){return"variables_get"===t.type&&"response"===t.getField("VAR").getText()})),e=o.getAllBlocks().find((function(e){return"t2c_text_length"===e.type&&-1!==t.indexOf(e.getInputTargetBlock("VALUE"))})),n=o.getAllBlocks().find((function(t){return"math_number"===t.type&&1===t.getFieldValue("NUM")})),r=o.getAllBlocks().find((function(o){return("t2c_text_getsubstring"===o.type||"js_text_getsubstring"===o.type)&&-1!==t.indexOf(o.getInputTargetBlock("STRING"))&&o.getInputTargetBlock("AT1")===n&&o.getInputTargetBlock("AT2")===e})),i=o.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&t.getInputTargetBlock("TEXT")===r})),a=o.getAllBlocks().find((function(t){return"text"===t.type&&"aap kaise hain?"==t.getFieldValue("TEXT")})),s=o.getAllBlocks().find((function(t){return("text_input"===t.type||"js_text_input"===t.type)&&t.getInputTargetBlock("TEXT")===a})),l=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getInputTargetBlock("VALUE")===s&&"response"===t.getField("VAR").getText()}));return i&&l&&i.getNextBlock()===l?"The "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block should go below the "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block so the computer knows what response is when attempting to extract text from it.  Remember that statements are run from top to bottom.":i&&i.getPreviousBlock()!==l?"Place the new "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block that's used to display all characters beyond the initial one below the previous "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block.":"Drag in the type-in code block from the toolbox and type in the code necessary to display all the characters except the initial one from the user response.  As before, use "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" and the variable response in your answer.  But this time, make it work for any entered string, which means you can no longer enter a specific number for the position to end before.\nHINT: Remember what you used when you wanted to get the position of the last character?  How is 15, the number we used for aap kaise hain?, related to this string?  What would we use for theek?\nPlace this new block below the previous "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+"."}),{startPosition:it(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),h(n),p(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔✔👍 You got it, excellent problem solving as always!  And with that mastery, mission 4 is now complete!  In the next mission, we'll introduce a new block that'll be used to find the position numbers of the first occurrence of a given substring in another one.  We'll then use it in combination with the "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" from this lesson to get the text appearing between the first @ and . in an e-mail address (e.g., google from coolcoder@google.com or mail from expertsoftwareengineer@mail.co.uk)."),Z(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),Q(),tt(o),o.updateToolbox(document.getElementById("toolbox"))}})),n},function(t,e){var n=t||new c,o=e||Blockly.getMainWorkspace(),a=new st(o);o.setScale(1),Object(r.f)(o);var g=document.createElement("div");function d(t){t.addTask(new i((function(){return document.getElementById("output-container").classList.contains("show-container")}),new u([new l((function(){return T2C.MSG.currentLanguage.BUTTON_RUN_CODE}),{startPosition:{x:document.getElementById("run-code-button").offsetLeft+document.getElementById("run-code-button").offsetWidth,y:document.getElementById("run-code-button").offsetTop+document.getElementById("run-code-button").offsetHeight}}),new s(g,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("run-code-button").offsetLeft+document.getElementById("run-code-button").offsetWidth/2,y:document.getElementById("run-code-button").offsetTop+document.getElementById("run-code-button").offsetHeight/2}})])))}function h(t,e){var n=0;function o(){e.style.color=n%50<25?"#a00":"#000",++n<200&&requestAnimationFrame(o)}t.addTask(new i((function(){return n>=200}),{start:function(){e.style.verticalAlign="top",requestAnimationFrame(o)},isComplete:function(){return!0},animate:function(){return!0}}))}return g.innerText="👆",g.id="ptr",g.style.fontSize="x-large",g.style.position="absolute",g.style.zIndex="1001",document.getElementById("blockly-div").appendChild(g),n.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){o.clear(),a.clearToolbox(),a.createToolboxBlock("type_in_get_email_input"),o.options.maxInstances.type_in_get_email_input=1}})),n.addTask(new i((function(){var t=o.getAllBlocks().find((function(t){return"text"===t.type&&(-1!==(t.getFieldValue("TEXT")||"").toLowerCase().indexOf("email")||-1!==(t.getFieldValue("TEXT")||"").toLowerCase().indexOf("e-mail"))})),e=o.getAllBlocks().find((function(e){return("text_input"===e.type||"js_text_input"===e.type)&&e.getInputTargetBlock("TEXT")===t})),n=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&null===t.getNextBlock()&&t.getInputTargetBlock("VALUE")===e&&"email"===t.getField("VAR").getText()}));return t&&e&&n}),new l((function(){return"So now let's start applying these ideas to get the text appearing between the first @ and . in an e-mail address (e.g., google from coolcoder@google.com or mail from expertsoftwareengineer@mail.co.uk).  First, let's ask the user for an e-mail address and store it in a variable email.  Drag in the type-in-code block and type in the necessary code."}),{startPosition:gt(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),n.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){var t=[1,1,1,2,1,1,1,1],e=o.getAllBlocks().find((function(t){return"variables_set"===t.type}));a.clearToolbox(),["t2c_text_getsubstring","t2c_text_length","text_print","variables_get","math_number","text","text_input","variables_set"].forEach((function(e,n){a.createToolboxBlock(e,!1),o.options.maxInstances[e]=t[n]})),e&&e.setCollapsed(!0),alert("✔ Nice, so as a warm-up and review, let's start by displaying everything that appears *after* the @ in any e-mail address where the text before the @ is exactly 9 characters, such as coolcoder@gmail.com using the "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" and "+T2C.MSG.currentLanguage.TERMINAL_LENGTH+" blocks.  We'll use a specific number for the starting position so it can't work in general, but we'll fix that soon by adding the new "+T2C.MSG.currentLanguage.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT+" block.")}})),n.addTask(new i((function(){var t=o.getAllBlocks().filter((function(t){return"variables_get"===t.type&&"email"===t.getField("VAR").getText()})),e=o.getAllBlocks().find((function(e){return"t2c_text_length"===e.type&&-1!==t.indexOf(e.getInputTargetBlock("VALUE"))})),n=o.getAllBlocks().find((function(t){return"math_number"===t.type&&10===t.getFieldValue("NUM")})),r=o.getAllBlocks().find((function(o){return"t2c_text_getsubstring"===o.type&&-1!==t.indexOf(o.getInputTargetBlock("STRING"))&&o.getInputTargetBlock("AT1")===n&&o.getInputTargetBlock("AT2")===e})),i=o.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&null===t.getNextBlock()&&t.getInputTargetBlock("TEXT")===r})),a=o.getAllBlocks().find((function(t){return"text"===t.type&&(-1!==(t.getFieldValue("TEXT")||"").toLowerCase().indexOf("email")||-1!==(t.getFieldValue("TEXT")||"").toLowerCase().indexOf("e-mail"))})),s=o.getAllBlocks().find((function(t){return("text_input"===t.type||"js_text_input"===t.type)&&t.getInputTargetBlock("TEXT")===a})),l=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getNextBlock()===i&&t.getInputTargetBlock("VALUE")===s&&"email"===t.getField("VAR").getText()}));return 2===t.length&&e&&n&&r&&i&&a&&s&&l}),new l((function(){var t=o.getAllBlocks().find((function(t){return"text"===t.type&&(-1!==(t.getFieldValue("TEXT")||"").toLowerCase().indexOf("email")||-1!==(t.getFieldValue("TEXT")||"").toLowerCase().indexOf("e-mail"))})),e=o.getAllBlocks().find((function(e){return("text_input"===e.type||"js_text_input"===e.type)&&e.getInputTargetBlock("TEXT")===t})),n=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getInputTargetBlock("VALUE")===e&&"email"===t.getField("VAR").getText()})),r=o.getAllBlocks().filter((function(t){return"variables_get"===t.type})),i=o.getAllBlocks().find((function(t){return"t2c_text_length"===t.type})),a=o.getAllBlocks().find((function(t){return"math_number"===t.type})),s=o.getAllBlocks().find((function(t){return"t2c_text_getsubstring"===t.type})),l=o.getAllBlocks().find((function(t){return"text_print"===t.type||"js_text_print"===t.type}));if(r.find((function(t){return"email"!==t.getField("VAR").getText()})))return"Make sure the variable get blocks are both set to email so they refer to the one storing the entered e-mail.";if(n&&"email"!==n.getField("VAR").getText())return"Make sure the name of the variable storing the user's input stays email.";if(s){if(-1!==r.indexOf(s.getInputTargetBlock("AT1")))return"You placed the email block in the starting position of the "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" block.  But email stores a string, not a number; what would it mean to start extracting text at position *NUMBER* coolcoder@gmail.com?";if(-1!==r.indexOf(s.getInputTargetBlock("AT2")))return"You placed the email block in the ending position of the "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" block.  But email stores a string, not a number; what would it mean to stop extracting text at position *NUMBER* coolcoder@gmail.com?";if(i&&s.getInputTargetBlock("AT1")===i)return"You placed the "+T2C.MSG.currentLanguage.TERMINAL_LENGTH+" block in the starting position of the "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" block.  But for say coolcoder@gmail.com, the last position is at "+("coolcoder@gmail.com".length-1).toString()+" and its length is "+"coolcoder@gmail.com".length+".  You certainly don't want to start extracting text at position 19, which doesn't even exist!";if(a&&s.getInputTargetBlock("AT2")===a)return"You cannot use a *specific* number for the ending position if you don't know how long the e-mail address is.  Change the block in the last position of the "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" block, accordingly.";if(a&&s.getInputTargetBlock("AT1")===a){var u=a.getFieldValue("NUM");if(11===u)return"The given starting position is incorrect.  Remember that the initial character starts at position (index) 0 and unlike the given ending position to "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+", the computer starts extracting text from the first position number you give it.";if(9===u)return"The given starting position is incorrect.  Remember that you want to start extracting text *after* the @ and unlike the given ending position to "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+", the computer starts extracting text from the first position number you give it.";if(u==="coolcoder@gmail.com".length)return"The first number given to "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" is the starting position, not the ending one.";if(10!==u)return"Incorrect number for the starting position.  Please try recounting the characters from the beginning of the string, starting from 0 until you get to the character after the @ sign."}}return l&&s&&l.getInputTargetBlock("TEXT")!==s?"As with the last exercise, you'll want to show a substring of the e-mail so the "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" should be placed in "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+".":l&&n&&l.getNextBlock()===n?"Since instructions are run from top to bottom, you can't display a substring of email before the user enters it!":l&&null===l.getPreviousBlock()?"Be sure to attach the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block below the "+T2C.MSG.currentLanguage.TERMINAL_LET+" block.":"Drag in and assemble the blocks of code so that the computer displays everything that appears *after* the @ in any entered e-mail address where the text before the @ is exactly 9 characters, such as coolcoder@gmail.com using the "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" and "+T2C.MSG.currentLanguage.TERMINAL_LENGTH+" blocks.  For this part, use a specific number for the starting position."}),{startPosition:gt(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),d(n),h(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){var t,e=[1,1,2,3,1,1,1,1,1,1],n=o.getAllBlocks().filter((function(t){return"variables_get"===t.type||"t2c_text_length"===t.type}));alert("✔ Good, so did you type in coolcoder@google.com or some other e-mail address with 9 characters before the @, or did you enjoy breaking the rules and watching it fail?!!  Well, now it's time to make it work for those troublemakers so long as they're kind enough to enter an @.\nTo do this, we'll use our new "+T2C.MSG.currentLanguage.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT+" and will need some arithmetic as well."),(t=document.getElementById("output-container").querySelectorAll(".table-cell")[0]).style.verticalAlign="middle",t.style.color="#000",lt(),a.clearToolbox(),["t2c_text_indexof","math_arithmetic_basic","text","variables_get","math_number","t2c_text_getsubstring","t2c_text_length","text_print","text_input","variables_set"].forEach((function(t,n){a.createToolboxBlock(t,!1),o.options.maxInstances[t]=e[n]})),n.forEach((function(t){return t.setCollapsed(!0)}))}})),n.addTask(new i((function(){var t=o.getAllBlocks().filter((function(t){return"variables_get"===t.type&&"email"===t.getField("VAR").getText()})),e=o.getAllBlocks().find((function(e){return"t2c_text_length"===e.type&&-1!==t.indexOf(e.getInputTargetBlock("VALUE"))})),n=o.getAllBlocks().find((function(t){return"math_number"===t.type&&1===t.getFieldValue("NUM")})),r=o.getAllBlocks().find((function(t){return"text"===t.type&&"@"==t.getFieldValue("TEXT")})),i=o.getAllBlocks().find((function(e){return"t2c_text_indexof"===e.type&&-1!==t.indexOf(e.getInputTargetBlock("VALUE"))&&e.getInputTargetBlock("FIND")===r})),a=o.getAllBlocks().find((function(t){return"math_arithmetic_basic"===t.type&&(t.getInputTargetBlock("A")===i&&t.getInputTargetBlock("B")===n||t.getInputTargetBlock("B")===i&&t.getInputTargetBlock("A")===n)&&"ADD"==t.getFieldValue("OP")})),s=o.getAllBlocks().find((function(n){return"t2c_text_getsubstring"===n.type&&-1!==t.indexOf(n.getInputTargetBlock("STRING"))&&n.getInputTargetBlock("AT1")===a&&n.getInputTargetBlock("AT2")===e})),l=o.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&null===t.getNextBlock()&&t.getInputTargetBlock("TEXT")===s})),u=o.getAllBlocks().find((function(t){return"text"===t.type&&(-1!==(t.getFieldValue("TEXT")||"").toLowerCase().indexOf("email")||-1!==(t.getFieldValue("TEXT")||"").toLowerCase().indexOf("e-mail"))})),c=o.getAllBlocks().find((function(t){return("text_input"===t.type||"js_text_input"===t.type)&&t.getInputTargetBlock("TEXT")===u})),g=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getNextBlock()===l&&t.getInputTargetBlock("VALUE")===c&&"email"===t.getField("VAR").getText()}));return 3===t.length&&e&&n&&r&&i&&a&&s&&l&&u&&c&&g}),new l((function(){var t=o.getAllBlocks().find((function(t){return"text"===t.type&&(-1!==(t.getFieldValue("TEXT")||"").toLowerCase().indexOf("email")||-1!==(t.getFieldValue("TEXT")||"").toLowerCase().indexOf("e-mail"))})),e=o.getAllBlocks().find((function(e){return("text_input"===e.type||"js_text_input"===e.type)&&e.getInputTargetBlock("TEXT")===t})),n=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getInputTargetBlock("VALUE")===e&&"email"===t.getField("VAR").getText()})),r=o.getAllBlocks().filter((function(t){return"variables_get"===t.type})),i=o.getAllBlocks().find((function(t){return"t2c_text_length"===t.type})),a=o.getAllBlocks().find((function(t){return"math_number"===t.type})),s=o.getAllBlocks().find((function(e){return"text"===e.type&&e!==t})),l=o.getAllBlocks().find((function(t){return"t2c_text_indexof"===t.type})),u=o.getAllBlocks().find((function(t){return"math_arithmetic_basic"===t.type})),c=o.getAllBlocks().find((function(t){return"t2c_text_getsubstring"===t.type})),g=o.getAllBlocks().find((function(t){return"text_print"===t.type||"js_text_print"===t.type})),d="coolcoder@gmail.com";if(l){if(s&&l.getInputTargetBlock("VALUE")===s)return"The first space in the "+T2C.MSG.currentLanguage.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT+" block is for the string you want to search through (proverbial haystack), not the string you're looking for (proverbial needle) so you'll want to move the text block, accordingly.";if(-1!==r.indexOf(l.getInputTargetBlock("FIND")))return"The second space in the "+T2C.MSG.currentLanguage.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT+" block is for the string you're looking for (proverbial needle), not the one you want to search through (proverbial haystack) so you'll want to move the variable get block, accordingly.";if(s&&l.getInputTargetBlock("FIND")===s){var h=s.getFieldValue("TEXT")||"";if("."===h)return"You don't know how many characters there may be before the period after the at sign as this can depend on the e-mail address so this won't work for calculating the starting position.";if("at"===h.toLowerCase())return"The literal 2-character string "+h.toLowerCase()+" will not necessarily appear in the address.  You don't need to use letters for the needle (string your searching for); you can use symbols as well.";if("@"!==h)return"It's possible that "+h+" won't necessarily appear in an e-mail address, or at least it won't help you calculate the desired starting position.  Try something else.";if(c&&c.getInputTargetBlock("AT1")===l)return"You'll need to perform a math operation on the position number of the @ since if you start extracting text at the position of the @, the string you get back will always start with an @!  For example, for "+d+", you'd start extracting text at position "+d.indexOf("@")+", which means you'd get "+d.substring(d.indexOf("@"))+".  What do you do with this number if you'd want to start at position number "+(d.indexOf("@")+1).toString()+", the position of the "+d.charAt(d.indexOf("@")+1)+" immediately after the @ instead?"}}if(u){if(r.find((function(t){return t===u.getInputTargetBlock("A")||t===u.getInputTargetBlock("B")})))return"The variable email holds a string such as "+d+", not a number so what would it mean to perform a math operation on it?  Remove it from the arithmetic block, accordingly.";if(l&&a&&(u.getInputTargetBlock("A")===l&&u.getInputTargetBlock("B")===a||u.getInputTargetBlock("B")===l&&u.getInputTargetBlock("A")===a)){var p=a.getFieldValue("NUM"),f=u.getFieldValue("OP");if(u.getInputTargetBlock("B")===a&&"MINUS"===f&&-1===p)return"Although you can subtract -1, it's clearer to add 1 so switch the operation to addition and the number from -1 to 1.";if(u.getInputTargetBlock("B")===a&&"MINUS"===f&&1===p)return"Subtracting 1 from the answer will move your position back one.  Do you want to start extracting text 1 place before?";if("PLUS"!==f||1!==p)return"Using your given operation and number, the starting position you're calculating does not seem to work for any e-mail address in general.  Try (re)examining some e-mail addresses and the specific starting positions of the calculations for these examples to help you see your error."}}if(r.find((function(t){return"email"!==t.getField("VAR").getText()})))return"Make sure the variable get blocks are all set to email so they refer to the one storing the entered e-mail.";if(n&&"email"!==n.getField("VAR").getText())return"Make sure the name of the variable storing the user's input stays email.";if(c){if(-1!==r.indexOf(c.getInputTargetBlock("AT1")))return"You placed the email block in the starting position of the "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" block.  But email stores a string, not a number; what would it mean to start extracting text at position *NUMBER* coolcoder@gmail.com?";if(-1!==r.indexOf(c.getInputTargetBlock("AT2")))return"You placed the email block in the ending position of the "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" block.  But email stores a string, not a number; what would it mean to stop extracting text at position *NUMBER* coolcoder@gmail.com?";if(i&&c.getInputTargetBlock("AT1")===i)return"You placed the "+T2C.MSG.currentLanguage.TERMINAL_LENGTH+" block in the starting position of the "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" block.  But for say "+d+", the last position is at "+(d.length-1).toString()+" and its length is "+d.length+".  You certainly don't want to start extracting text at position 19, which doesn't even exist!";if(a&&c.getInputTargetBlock("AT2")===a)return"You cannot use a *specific* number for the ending position if you don't know how long the e-mail address is.  Change the block in the last position of the "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" block, accordingly."}return g&&c&&g.getInputTargetBlock("TEXT")!==c?"As with the last exercise, you'll want to show a substring of the e-mail so the "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" should be placed in "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+".":g&&n&&g.getNextBlock()===n?"Since instructions are run from top to bottom, you can't display a substring of email before the user enters it!":g&&null===g.getPreviousBlock()?"Be sure to attach the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block below the "+T2C.MSG.currentLanguage.TERMINAL_LET+" block.":"Use the new "+T2C.MSG.currentLanguage.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT+" and arithmetic blocks in the place of the starting position of the specific number 10 you currently have in the "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" block so that the computer displays everything that appears *after* the @ in any entered e-mail address, regardless of how long the text is before the @.\nHINT: If you didn't know what email was but you were able to ask for the position number of whatever character(s) you want, what position would you ask for?  Once you had that position, what math operation would you use to get the starting position of the string after the @?  Make sure your calculations work on coolcoder@google.com, jdoe@foo.edu, or any other e-mail address!"}),{startPosition:gt(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),d(n),h(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){var t=o.getAllBlocks().filter((function(t){return"text_print"===t.type||"js_text_print"===t.type}));alert("✔ Great work!  So now let's return to the original task, to get the text between the first @ and the first ., e.g., the google in coolcoder@google.com or the mail in expertsoftwareengineer@mail.co.uk.  To simplify, we'll assume the first . always follows the first @, which may not always be the case in an e-mail address (e.g., jane.doe@gmail.com).  So are you up to the task of typing it all in!  You'll use two "+T2C.MSG.currentLanguage.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT+" this time."),lt(),a.clearToolbox(),toolboxBlocks.forEach((function(t,e){a.createToolboxBlock(t,!1),o.options.maxInstances[t]=maxBlocks[e]})),t.forEach((function(t){return t.setCollapsed(!0)}))}})),n}];window.addEventListener("DOMContentLoaded",(function(){var t=window.location&&"string"==typeof window.location.href&&parseInt(window.location.href.substring(window.location.href.indexOf("level=")+6))||0;console.log("Loading level",t),0<=t&&t<ht.length&&ht[t]().runTasks()}))}]);