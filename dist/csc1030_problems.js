"use strict";var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==(void 0===e?"undefined":_typeof(e))&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=21)}([function(e,t,n){function o(e,t,n){var o=e&&e.getInput(t),i=n&&n.outputConnection;o&&i&&o.connection.connect(i)}function i(e){Blockly.Xml.clearWorkspaceAndLoadFromXml(Blockly.Xml.workspaceToDom(e),e),Blockly.svgResize(e)}function r(e,t){e.nextConnection&&t.previousConnection&&e.nextConnection.connect(t.previousConnection)}function a(e,t){var n=e.newBlock(t);return n.initSvg(),n.moveTo(new Blockly.utils.Coordinate(e.getMetrics().viewLeft,e.getMetrics().viewTop)),n}function l(e,t){e&&t&&t.moveBy(e.getRelativeToSurfaceXY().x-t.getRelativeToSurfaceXY().x,e.getRelativeToSurfaceXY().y-t.getRelativeToSurfaceXY().y)}function s(e){var t=e.getMetrics();return e.getAllBlocks().filter((function(e){var n=e.getBoundingRectangle();return n.left<t.viewLeft||n.right>t.viewLeft+t.viewWidth||n.top<t.viewTop||n.bottom>t.viewTop+t.viewHeight}))}function u(e){var t=T2C.MSG.currentLanguage===T2C.MSG.PY?"Python":"JavaScript";s(e).filter((function(e){return e.getParent()&&!e.nextConnection&&!e.isCollapsed()})).slice().forEach((function(n){if(!n.isDisposed()){var o=a(e,"code_expression");c(o,Blockly[t].blockToCode(n)[0]||Blockly[t].blockToCode(n),"EXP"),o.setCollapsed(!0),n.getParent().getInputWithBlock(n).connection.connect(o.outputConnection),n.dispose(!0)}})),i(e),s(e).length>0&&e.zoomToFit()}function c(e,t,n){var o=e.workspace,i=t;e.type.toLowerCase().startsWith("variables_")&&"VAR"===n&&(i=-1===o.getAllVariableNames().indexOf(t)?o.createVariable(t).getId():o.getVariable(t).getId()),e.setFieldValue(i,n)}function g(e){if(!e)return null;for(var t=e.getParent();t&&!t.previousConnection;)t=t.getParent();return t}function d(e){for(var t=e;!t.nextConnection&&t.getParent();)t=t.getParent();for(;t.getNextBlock();)t=t.getNextBlock();return t}function h(e,t,n){var o=e.getParent(),i=null,r=null,a=-1,l=null;return e.inputList.forEach((function(e){e.fieldRow.forEach((function(e){t.getField(e.name)&&c(t,e.getValue(),e.name)}))})),o?(a=(r=(i=o.getInputWithBlock(e))?i.connection:o.nextConnection).targetConnection.type)===Blockly.OUTPUT_VALUE?r.connect(t.outputConnection):a===Blockly.PREVIOUS_STATEMENT&&(l=t.previousConnection):t.moveBy(e.getRelativeToSurfaceXY().x-t.getRelativeToSurfaceXY().x,e.getRelativeToSurfaceXY().y-t.getRelativeToSurfaceXY().y),e.getChildren().slice().forEach((function(n){if(e.getNextBlock()!==n){var o=e.getInputWithBlock(n),i=t.getInput(o.name);i&&(o=i.connection.connect(n.outputConnection))}else d(t).nextConnection&&d(t).nextConnection.connect(n.previousConnection)})),l&&r.connect(l),n&&e.dispose(),t}n.d(t,"j",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"i",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"h",(function(){return c})),n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return d})),n.d(t,"g",(function(){return h}))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"getParseTree",(function(){return getParseTree})),__webpack_require__.d(__webpack_exports__,"handleParseTreeToBlocks",(function(){return handleParseTreeToBlocks})),__webpack_require__.d(__webpack_exports__,"parseAndConvertToBlocks",(function(){return parseAndConvertToBlocks})),__webpack_require__.d(__webpack_exports__,"workspaceToLanguageCode",(function(){return workspaceToLanguageCode})),__webpack_require__.d(__webpack_exports__,"workspaceToXML",(function(){return workspaceToXML}));var _grammar_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5),_tokenizer_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8),_parser_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(12),_parse_tree_block_connector_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_block_interpretations_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),_block_evaluator_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(10),_block_generator_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7),_block_converters_javascript_text_exact_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(11),_block_utility_functions_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(0);Blockly.COLLAPSE_CHARS=200;var isMobile=Blockly.utils.userAgent.MOBILE||Blockly.utils.userAgent.ANDROID||Blockly.utils.userAgent.IPAD,getParseTree=function(e){console.warn("Attempting to parse",e);var t=T2C.MSG&&T2C.MSG.currentLanguage===T2C.MSG.PY?e.replace(/[\r\n]+/g,";"):e,n=shared.parser.parseBottomUpCYK(t,shared.parseTreeBlockConnector)[0];return n&&console.log("Parse Tree:",n),n},handleParseTreeToBlocks=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=shared.evaluator.evaluate(e);console.log("Evaluation: ",o,t),t=t||Object(_block_utility_functions_js__WEBPACK_IMPORTED_MODULE_8__.e)(shared.workspace);var i=Object(_block_generator_js__WEBPACK_IMPORTED_MODULE_6__.a)(o,t,n);return console.log(i),i},parseAndConvertToBlocks=function(e,t){if(console.warn(t.type,t),!this.isCollapsed()&&(e.updateAutocomplete&&e.updateAutocomplete(this.getFieldValue("EXP"),e.OPTIONS,e.shownOPTIONS,(function(e){return console.warn("Parsing Partial",e),shared.parser.parseBottomUpCYK(e,shared.parseTreeBlockConnector).length>0})),this.getFieldValue("AUTOCPLT")&&Object(_block_utility_functions_js__WEBPACK_IMPORTED_MODULE_8__.h)(this,this.getFieldValue("AUTOCPLT")+"\n","EXP"),e.editing&&(this.getFieldValue("EXP").endsWith("\r")||this.getFieldValue("EXP").endsWith("\n"))||e.editing&&"workspaceClick"===t.element)){var n=getParseTree(this.getFieldValue("EXP"));if(n){e.editing=!1;var o=handleParseTreeToBlocks(n,this,!1);shared.workspace.getAllBlocks().filter((function(e){return!e.getParent()&&("code_expression"===e.type||"code_statement"===e.type)})).forEach((function(e){return e.dispose()}));var i=shared.workspace.getAllBlocks().find((function(e){return"code_expression"===e.type||"code_statement"===e.type}));if(i)Object(_block_utility_functions_js__WEBPACK_IMPORTED_MODULE_8__.a)(shared.workspace),i=shared.workspace.getAllBlocks().find((function(e){return"code_expression"===e.type||"code_statement"===e.type})),isMobile||i.getField("EXP").showEditor_();else{console.warn("Replacing block",o);var r=Object(_block_utility_functions_js__WEBPACK_IMPORTED_MODULE_8__.b)(o),a=Object(_block_utility_functions_js__WEBPACK_IMPORTED_MODULE_8__.e)(shared.workspace,"code_statement");r.nextConnection&&Object(_block_utility_functions_js__WEBPACK_IMPORTED_MODULE_8__.i)(r,a),Object(_block_utility_functions_js__WEBPACK_IMPORTED_MODULE_8__.f)(shared.workspace),Object(_block_utility_functions_js__WEBPACK_IMPORTED_MODULE_8__.a)(shared.workspace),a=shared.workspace.getAllBlocks().find((function(e){return"code_statement"===e.type})),isMobile||a.getField("EXP").showEditor_()}}else e.editing&&"workspaceClick"===t.element&&alert("There seems to be a problem with the code you entered.  Check that your spelling is correct, that you use lowercase and capital letters as required, that every open parenthesis ( has a matching closed one ), that you use quotation marks as needed, and other potential issues with syntax.")}};function varsToLets(e){var t=e.indexOf("var")+4,n=e.indexOf(";",t),o=[],i=e;return t>3&&(o=e.substring(t,n).split(", "),i=e.substring(0,t-4)+e.substring(n+1)),o.forEach((function(e){i=i.replace("\n"+e+" = ","\nlet "+e+" = ")})),i.trim()}var workspaceToLanguageCode=function(e,t){var n=t===T2C.MSG.PY?"Python":"JavaScript";Blockly.Python.tempFinish=Blockly.Python.finish,Blockly.Python.finish=function(e){return e};var o=Blockly[n].workspaceToCode(e||Blockly.getMainWorkspace());return Blockly.Python.finish=Blockly.Python.tempFinish,"Python"===n?o:varsToLets(o)},workspaceToXML=function(e){var t=Blockly.Xml.workspaceToDom(e||Blockly.getMainWorkspace());return Blockly.Xml.domToPrettyText(t)},shared=function(){var init=function(){window.addEventListener("DOMContentLoaded",(function(e){if(!document.getElementById("blockly-div").getAttribute("hasWorkspace")){document.getElementById("blockly-div").setAttribute("hasWorkspace",!0),shared.toolbox=document.getElementById("toolbox");var t={toolbox:toolbox,collapse:!0,comments:!1,disable:!1,maxBlocks:1/0,trashcan:!0,horizontalLayout:!0,toolboxPosition:"start",css:!0,media:"https://blockly-demo.appspot.com/static/media/",rtl:!1,scrollbars:!0,sounds:!0,oneBasedIndex:!0,zoom:{controls:!0,startScale:Math.min(window.innerWidth/800,1),minScale:Math.min(window.innerWidth/800,.3)}};shared.workspace=Blockly.inject("blockly-div",t),console.warn(shared.workspace.getWidth()),Object(_block_utility_functions_js__WEBPACK_IMPORTED_MODULE_8__.e)(shared.workspace,"code_statement"),Object(_block_utility_functions_js__WEBPACK_IMPORTED_MODULE_8__.f)(shared.workspace);var n=shared.workspace.getAllBlocks().find((function(e){return"code_statement"===e.type}));isMobile||n.getField("EXP").showEditor_();var o=function(){var e=document.getElementById("language").value;T2C.MSG.currentLanguage=T2C.MSG[e.toUpperCase()],updateToolbox(T2C.MSG.currentLanguage),Blockly.Msg.VARIABLES_SET=T2C.MSG.currentLanguage===T2C.MSG.PY?"%1 = %2":"let %1 = %2;",updateTexts(),Object(_block_utility_functions_js__WEBPACK_IMPORTED_MODULE_8__.f)(shared.workspace||Blockly.getMainWorkspace()),document.getElementById("outputAppearsBelow").innerText=T2C.MSG.currentLanguage.HEADING_OUTPUT_APPEARS_BELOW,document.getElementById("bottomText")&&(document.getElementById("bottomText").innerText=T2C.MSG.currentLanguage.HEADING_BOTTOM_TEXT)};if(window.location&&"string"==typeof window.location.href){var i=window.location.href.indexOf("lang=")+5,r=window.location.href.substring(i,i+2);4!==i&&(document.getElementById("language").value=r,o())}window.addEventListener("resize",(function(){document.getElementById("top-header").style.height=Math.max(.1*window.innerHeight,50)+"px",document.getElementById("all-content").style.height=Math.min(.9*window.innerHeight,window.innerHeight-50)+"px",Blockly.svgResize(shared.workspace)})),document.getElementById("language").addEventListener("change",(function(){o();var e=shared.workspace||Blockly.getMainWorkspace();e.getAllBlocks().forEach(_block_converters_javascript_text_exact_js__WEBPACK_IMPORTED_MODULE_7__.a),Object(_block_utility_functions_js__WEBPACK_IMPORTED_MODULE_8__.f)(e)})),document.getElementById("run-code-button")&&(document.getElementById("run-code-button").addEventListener("click",(function(){document.getElementById("output-container").classList.remove("hide-container"),document.getElementById("output-container").classList.add("show-container"),document.getElementById("consoleDisplay")&&(document.getElementById("consoleDisplay").textContent=""),T2C.MSG.currentLanguage===T2C.MSG.PY&&(T2C.MSG.currentLanguage=T2C.MSG.JS),document.getElementById("textCodeBox").value=runCode(),T2C.MSG.currentLanguage=T2C.MSG[document.getElementById("language").value.toUpperCase()],document.getElementById("xmlData").value=generateXML()})),document.getElementById("save-code-button").addEventListener("click",(function(){document.getElementById("text-code-container").classList.remove("hide-container"),document.getElementById("text-code-container").classList.add("show-container"),document.getElementById("textCodeBox").value=generateCode(),document.getElementById("xmlData").value=generateXML(),document.getElementById("load-save-text-code").textContent=T2C.MSG.currentLanguage.BUTTON_SAVE_TEXT_CODE,document.getElementById("load-save-xml").textContent=T2C.MSG.currentLanguage.BUTTON_SAVE_XML})),document.getElementById("load-code-button").addEventListener("click",(function(){document.getElementById("text-code-container").classList.remove("hide-container"),document.getElementById("text-code-container").classList.add("show-container"),document.getElementById("textCodeBox").value="",document.getElementById("xmlData").value="",document.getElementById("load-save-text-code").textContent=T2C.MSG.currentLanguage.BUTTON_LOAD_TEXT_CODE,document.getElementById("load-save-xml").textContent=T2C.MSG.currentLanguage.BUTTON_LOAD_XML})),document.getElementById("load-save-text-code").addEventListener("click",(function(){if(document.getElementById("load-save-text-code").textContent===T2C.MSG.currentLanguage.BUTTON_LOAD_TEXT_CODE){var e=T2C.MSG.currentLanguage.CONFIRM_CONVERT_TEXT_TO_BLOCKS,t=getParseTree(document.getElementById("textCodeBox").value);t&&confirm(e)?(shared.workspace.clear(),handleParseTreeToBlocks(t)):t||alert("There seems to be a problem with the code you entered.  Check that your spelling is correct, that you use lowercase and capital letters as required, that every open parenthesis ( has a matching closed one ), that you use quotation marks as needed, and other potential issues with syntax.")}else{var n=document.getElementById("textCodeBox").value;navigator.clipboard.writeText(n).then((function(){alert("Code successfully copied to clipboard")}),(function(){document.getElementById("textCodeBox").select(),alert("Code unable to be copied to clipboard.  Please do this manually.")}))}})),document.getElementById("load-save-xml").addEventListener("click",(function(){if(document.getElementById("load-save-xml").textContent===T2C.MSG.currentLanguage.BUTTON_LOAD_XML)generateBlocksFromXML();else{var e=document.getElementById("xmlData").value;navigator.clipboard.writeText(e).then((function(){alert("XML successfully copied to clipboard")}),(function(){document.getElementById("xmlData").select(),alert("XML unable to be copied to clipboard.  Please do this manually.")}))}})),document.getElementById("output-container").addEventListener("click",(function(e){"table-cell"===e.target.className&&(document.getElementById("output-container").classList.remove("show-container"),document.getElementById("output-container").classList.add("hide-container"))})),document.getElementById("text-code-container").addEventListener("click",(function(e){"table-cell"===e.target.className&&(document.getElementById("text-code-container").classList.remove("show-container"),document.getElementById("text-code-container").classList.add("hide-container"))})))}}));var e=new _tokenizer_js__WEBPACK_IMPORTED_MODULE_1__.a(_grammar_js__WEBPACK_IMPORTED_MODULE_0__.b);return{lexer:e,parser:new _parser_js__WEBPACK_IMPORTED_MODULE_2__.a(e,_grammar_js__WEBPACK_IMPORTED_MODULE_0__.a,Object.keys(_block_interpretations_js__WEBPACK_IMPORTED_MODULE_4__.a).concat("statement")),parseTreeBlockConnector:new _parse_tree_block_connector_js__WEBPACK_IMPORTED_MODULE_3__.a,evaluator:new _block_evaluator_js__WEBPACK_IMPORTED_MODULE_5__.a(_block_interpretations_js__WEBPACK_IMPORTED_MODULE_4__.a)}},shared=init();function varsToLets(e){var t=e.indexOf("var")+4,n=e.indexOf(";",t),o=[],i=e;return t>3&&(o=e.substring(t,n).split(", "),i=e.substring(0,t-4)+e.substring(n+1)),o.forEach((function(e){i=i.replace("\n"+e+" = ","\nlet "+e+" = ")})),i.trim()}function generateCode(){return workspaceToLanguageCode(shared.workspace,T2C.MSG.currentLanguage)}function generateXML(){return workspaceToXML(shared.workspace)}function generateBlocksFromXML(){var e=shared.workspace||Blockly.getMainWorkspace(),t=document.getElementById("xmlData").value,n=null;try{n=Blockly.Xml.textToDom(t)}catch(e){if(!window.confirm(e))return}n&&(e.clear(),Blockly.Xml.domToWorkspace(n,e)),Blockly.svgResize(e)}function runCode(){var code=generateCode();console.realLog=console.log;try{document.getElementById("consoleDisplay").textContent="",console.log=function(){document.getElementById("consoleDisplay").appendChild(document.createTextNode(Array.prototype.join.call(arguments," ")+"\n"))},eval(code)}catch(e){-1!=e.toString().indexOf("Reference")?alert(e.toString()+"\nMake sure variables are defined before they're used.  This means the variable definition let ____ = ____ needs to appear ABOVE."):alert(e.toString())}return console.log=console.realLog,code}function updateToolbox(e){shared.workspace.updateToolbox(shared.toolbox)}function updateTexts(){document.getElementById("text-code-container").querySelectorAll("textarea").forEach((function(e){e.placeholder=T2C.MSG.currentLanguage[e.name]}))}return shared}()},function(e,t,n){t.a=function(){function e(t,n){_classCallCheck(this,e),this.lhs_=t,this.rhs_=n}return _createClass(e,[{key:"lhs",get:function(){return this.lhs_}},{key:"rhs",get:function(){return this.rhs_}}]),e}()},function(e,t,n){function o(e,t,n){return e instanceof Array&&t instanceof Array?e.reduce((function(e,o){return e.concat(t.map((function(e){return n?o.concat(e):[o,e]})))}),[]):[]}function i(e){return 0===e.length?[]:1===e.length?e[0].map((function(e){return[e]})):e.reduce((function(e,t,n){return o(e,t,n>1)}))}n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}))},function(e,t,n){var o=function(){function e(t){_classCallCheck(this,e),this.blockTemplate_=JSON.parse(t),this.args_=[],this.blockVal_=null}return _createClass(e,[{key:"evaluate_",value:function(t){var n=this;if(t instanceof e)return t;if("string"==typeof t){var o=t.split(/(%\d+)/).map((function(e){var t=e.startsWith("%")&&parseInt(e.substring(1));return t?n.evaluate_(n.args_[t-1]):e}));return o.find((function(t){return t instanceof e}))||o.join("")}if(Array.isArray(t))return t.map(this.evaluate_.bind(this));var i={};return Object.keys(t).forEach((function(e){i[e]=n.evaluate_(t[e])})),i}},{key:"hasBeenSet_",value:function(e){return!/"%(\d+)"/.test(e)}},{key:"keys",value:function(e){var t=this;return this.blockVal_[e].filter((function(e){return t.hasBeenSet_(e)}))}},{key:"args",set:function(e){this.args_=e,this.blockVal_=this.evaluate_(this.blockTemplate_)}},{key:"type",get:function(){return this.blockVal_&&this.blockVal_.type}},{key:"inputs",get:function(){return this.blockVal_&&this.blockVal_.inputs}},{key:"fields",get:function(){return this.blockVal_&&this.blockVal_.fields}},{key:"blocks",get:function(){return this.blockVal_&&this.blockVal_.blocks}}]),e}();t.a=o},function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var o=JSON.parse('{"rules":{"wholeNumberExp":{"wholeNumberSum":["wholeNumberExp","wholeNumberAddMinusOp","wholeNumberTerm"],"wholeNumberTermSingle":["wholeNumberTerm"],"__2__wholeNumberSum":["wholeNumberExp","wholeNumberAddMinusOp"]},"wholeNumberTerm":{"wholeNumberTermSingleGroupedExp":["openParenthesis","wholeNumberTerm","closeParenthesis"],"wholeNumberTermTwoGroupedExp":["openParenthesis","wholeNumberExp","wholeNumberGroupedOp","wholeNumberTerm","closeParenthesis"],"wholeNumberTermProduct":["wholeNumberTerm","wholeNumberTimesDividedByOp","wholeNumberTerm"],"wholeNumberTermAtomic":["wholeNumberAtomic"],"__2__wholeNumberTermSingleGroupedExp":["openParenthesis","wholeNumberTerm"],"__2__wholeNumberTermTwoGroupedExp":["openParenthesis","wholeNumberExp"],"__3__wholeNumberTermTwoGroupedExp":["openParenthesis","wholeNumberExp","wholeNumberGroupedOp"],"__4__wholeNumberTermTwoGroupedExp":["openParenthesis","wholeNumberExp","wholeNumberGroupedOp","wholeNumberTerm"],"__2__wholeNumberTermProduct":["wholeNumberTerm","wholeNumberTimesDividedByOp"]},"wholeNumberAtomic":{"wholeNumberLiteral":"token_","identifierGet":["identifier"],"wholeNumberStringFunc":["stringExpWholeNumber"]},"wholeNumberGroupedOp":{"wholeNumberSumTwo":["wholeNumberAddMinusOp"],"wholeNumberProductTwo":["wholeNumberTimesDividedByOp"]},"wholeNumberAddMinusOp":{"wholeNumberPlus":"+","wholeNumberMinus":"-"},"wholeNumberTimesDividedByOp":{"wholeNumberTimes":"*","wholeNumberDividedBy":"/"},"expression":{"expressionText":["stringExp"],"expressionNumber":["wholeNumberExp"]},"statement":{"statementSingle":["expression"],"statementVariable":["variableStatement"],"statementPrint":["stringDisplay"],"statementSemicolon":["statement","semicolon"],"statementBlockExp":["expression","statementSeparator","statement"],"statementBlockVariable":["variableStatement","statementSeparator","statement"],"statementBlockPrint":["stringDisplay","statementSeparator","statement"]},"statementSeparator":{"semicolonEnd":["semicolon"],"newLineEnd":["newLine"],"carriageReturnEnd":["carriageReturn"],"semicolonMultiSeparator":["semicolon","statementSeparator"],"newLineMultiSeparator":["newLine","statementSeparator"],"carriageReturnMultiSeparator":["carriageReturn","statementSeparator"]},"semicolon":"token_","newLine":"\\n","carriageReturn":"\\r","stringExp":{"identifierGet":["identifier"],"stringGetInputExp":["stringGetInput","openParenthesis","stringExp","closeParenthesis"],"js_stringGetInputExp":["stringPrompt","openParenthesis","stringExp","closeParenthesis"],"stringGroupedExp":["openParenthesis","stringExp","closeParenthesis"],"stringConcatenationFullExpression":["stringExp","plusStr","stringExp"],"stringCharAtFullExpression":["stringExp","dot","getCharacterNumber","openParenthesis","wholeNumberExp","closeParenthesis"],"py_stringCharAtFullExpression":["stringExp","openBracket","wholeNumberExp","closeBracket"],"js_stringCharAtFullExpression":["stringExp","dot","getCharacterNumberJS","openParenthesis","wholeNumberExp","closeParenthesis"],"stringAfterTextFullExpression":["stringExp","dot","getAfterText","openParenthesis","stringExp","closeParenthesis"],"stringBeforeTextFullExpression":["stringExp","dot","getBeforeText","openParenthesis","stringExp","closeParenthesis"],"stringSubstringFullExpression":["stringExp","dot","getTextFrom","openParenthesis","wholeNumberExp","closeParenthesis","dot","getTextTo","openParenthesis","wholeNumberExp","stringSubstringCloseParenthesisOptionalTail"],"py_stringSubstringFullExpression":["stringExp","openBracket","wholeNumberExp","colon","wholeNumberExp","closeBracket"],"js_stringSubstringFullExpression":["stringExp","dot","getSubstringJS","openParenthesis","wholeNumberExp","comma","wholeNumberExp","closeParenthesis"],"stringLiteral":"token_","__2__stringGetInputExp":["stringGetInput","openParenthesis"],"__3__stringGetInputExp":["stringGetInput","openParenthesis","stringExp"],"__2__js_stringGetInputExp":["stringPrompt","openParenthesis"],"__3__js_stringGetInputExp":["stringPrompt","openParenthesis","stringExp"],"__2__stringGroupedExp":["openParenthesis","stringExp"],"__2__stringConcatenationFullExpression":["stringExp","plusStr"],"__2__stringCharAtFullExpression":["stringExp","dot"],"__3__stringCharAtFullExpression":["stringExp","dot","getCharacterNumber"],"__4__stringCharAtFullExpression":["stringExp","dot","getCharacterNumber","openParenthesis"],"__5__stringCharAtFullExpression":["stringExp","dot","getCharacterNumber","openParenthesis","wholeNumberExp"],"__2__py_stringCharAtFullExpression":["stringExp","openBracket"],"__3__py_stringCharAtFullExpression":["stringExp","openBracket","wholeNumberExp"],"__2__js_stringCharAtFullExpression":["stringExp","dot"],"__3__js_stringCharAtFullExpression":["stringExp","dot","getCharacterNumberJS"],"__4__js_stringCharAtFullExpression":["stringExp","dot","getCharacterNumberJS","openParenthesis"],"__5__js_stringCharAtFullExpression":["stringExp","dot","getCharacterNumberJS","openParenthesis","wholeNumberExp"],"__2__stringAfterTextFullExpression":["stringExp","dot"],"__3__stringAfterTextFullExpression":["stringExp","dot","getAfterText"],"__4__stringAfterTextFullExpression":["stringExp","dot","getAfterText","openParenthesis"],"__5__stringAfterTextFullExpression":["stringExp","dot","getAfterText","openParenthesis","stringExp"],"__2__stringBeforeTextFullExpression":["stringExp","dot"],"__3__stringBeforeTextFullExpression":["stringExp","dot","getBeforeText"],"__4__stringBeforeTextFullExpression":["stringExp","dot","getBeforeText","openParenthesis"],"__5__stringBeforeTextFullExpression":["stringExp","dot","getBeforeText","openParenthesis","stringExp"],"__2__stringSubstringFullExpression":["stringExp","dot"],"__3__stringSubstringFullExpression":["stringExp","dot","getTextFrom"],"__4__stringSubstringFullExpression":["stringExp","dot","getTextFrom","openParenthesis"],"__5__stringSubstringFullExpression":["stringExp","dot","getTextFrom","openParenthesis","wholeNumberExp"],"__6__stringSubstringFullExpression":["stringExp","dot","getTextFrom","openParenthesis","wholeNumberExp","closeParenthesis"],"__7__stringSubstringFullExpression":["stringExp","dot","getTextFrom","openParenthesis","wholeNumberExp","closeParenthesis","dot"],"__8__stringSubstringFullExpression":["stringExp","dot","getTextFrom","openParenthesis","wholeNumberExp","closeParenthesis","dot","getTextTo"],"__9__stringSubstringFullExpression":["stringExp","dot","getTextFrom","openParenthesis","wholeNumberExp","closeParenthesis","dot","getTextTo","openParenthesis"],"__10__stringSubstringFullExpression":["stringExp","dot","getTextFrom","openParenthesis","wholeNumberExp","closeParenthesis","dot","getTextTo","openParenthesis","wholeNumberExp"],"__2__py_stringSubstringFullExpression":["stringExp","openBracket"],"__3__py_stringSubstringFullExpression":["stringExp","openBracket","wholeNumberExp"],"__4__py_stringSubstringFullExpression":["stringExp","openBracket","wholeNumberExp","colon"],"__5__py_stringSubstringFullExpression":["stringExp","openBracket","wholeNumberExp","colon","wholeNumberExp"],"__2__js_stringSubstringFullExpression":["stringExp","dot"],"__3__js_stringSubstringFullExpression":["stringExp","dot","getSubstringJS"],"__4__js_stringSubstringFullExpression":["stringExp","dot","getSubstringJS","openParenthesis"],"__5__js_stringSubstringFullExpression":["stringExp","dot","getSubstringJS","openParenthesis","wholeNumberExp"],"__6__js_stringSubstringFullExpression":["stringExp","dot","getSubstringJS","openParenthesis","wholeNumberExp","comma"],"__7__js_stringSubstringFullExpression":["stringExp","dot","getSubstringJS","openParenthesis","wholeNumberExp","comma","wholeNumberExp"]},"stringExpWholeNumber":{"stringFindFirstFullExpression":["stringExp","dot","findFirstOccurrenceOfText","openParenthesis","stringExp","stringFindFirstCloseParenthesisOptionalTail"],"js_stringFindFirstFullExpression":["stringExp","dot","jsIndexOf","openParenthesis","stringExp","closeParenthesis"],"stringExpLength":["stringExp","dot","length"],"py_stringExpLength":["len","openParenthesis","stringExp","closeParenthesis"],"__2__stringFindFirstFullExpression":["stringExp","dot"],"__3__stringFindFirstFullExpression":["stringExp","dot","findFirstOccurrenceOfText"],"__4__stringFindFirstFullExpression":["stringExp","dot","findFirstOccurrenceOfText","openParenthesis"],"__5__stringFindFirstFullExpression":["stringExp","dot","findFirstOccurrenceOfText","openParenthesis","stringExp"],"__2__js_stringFindFirstFullExpression":["stringExp","dot"],"__3__js_stringFindFirstFullExpression":["stringExp","dot","jsIndexOf"],"__4__js_stringFindFirstFullExpression":["stringExp","dot","jsIndexOf","openParenthesis"],"__5__js_stringFindFirstFullExpression":["stringExp","dot","jsIndexOf","openParenthesis","stringExp"],"__2__stringExpLength":["stringExp","dot"],"__2__py_stringExpLength":["len","openParenthesis"],"__3__py_stringExpLength":["len","openParenthesis","stringExp"]},"stringDisplay":{"js_ConsoleLogStatement":["console","dot","log","openParenthesis","expression","closeParenthesis"],"displayStatement":["display","openParenthesis","expression","closeParenthesis"],"__2__js_ConsoleLogStatement":["console","dot"],"__3__js_ConsoleLogStatement":["console","dot","log"],"__4__js_ConsoleLogStatement":["console","dot","log","openParenthesis"],"__5__js_ConsoleLogStatement":["console","dot","log","openParenthesis","expression"],"__2__displayStatement":["display","openParenthesis"],"__3__displayStatement":["display","openParenthesis","expression"]},"stringSubstringCloseParenthesisOptionalTail":{"stringSubstringCloseParenthesisNoTail":["closeParenthesis"],"stringSubstringCloseParenthesisTail":["closeParenthesis","dot","substringTail"],"__2__stringSubstringCloseParenthesisTail":["closeParenthesis","dot"]},"stringFindFirstCloseParenthesisOptionalTail":{"stringFindFirstCloseParenthesisNoTail":["closeParenthesis"],"stringFindFirstCloseParenthesisTail":["closeParenthesis","dot","findFirstTail"],"__2__stringFindFirstCloseParenthesisTail":["closeParenthesis","dot"]},"dot":"token_","console":"console","log":"log","display":"display","openParenthesis":"token_","closeParenthesis":"token_","openBracket":"token_","closeBracket":"token_","comma":"token_","stringGetInput":"getInputByAsking","stringPrompt":"prompt","length":"length","len":"len","getTextFrom":"getTextFromPositionNUMBER","getTextTo":"toPositionNUMBER","getSubstringJS":"substring","jsIndexOf":"indexOf","findFirstOccurrenceOfText":"positionNumberOfTEXT","findLastOccurrenceOfText":"lastPositionNumberOfTEXT","getAfterText":"getAfterTEXT","getBeforeText":"getBeforeTEXT","plusStr":"+","getCharacterNumber":"getCharacterNUMBER","getCharacterNumberJS":"charAt","toNumber":"toNumber","substringTail":"tak_paen","findFirstTail":"ke_sthiti_sankhya","variableStatement":{"variableAssignment":["variablesLet","identifier","equalsSign","expression"],"variableAssignmentNoLet":["identifier","equalsSign","expression"],"__2__variableAssignment":["variablesLet","identifier"],"__3__variableAssignment":["variablesLet","identifier","equalsSign"],"__2__variableAssignmentNoLet":["identifier","equalsSign"]},"variablesLet":"let","equalsSign":"=","identifier":"token_"},"terminals":["wholeNumberPlus","wholeNumberMinus","wholeNumberTimes","wholeNumberDividedBy","semicolon","newLine","carriageReturn","findFirstOccurrenceOfText","jsIndexOf","findLastOccurrenceOfText","getAfterText","getBeforeText","plusStr","getCharacterNumber","getCharacterNumberJS","toNumber","getTextFrom","getSubstringJS","getTextTo","stringGetInput","stringPrompt","console","log","display","length","substringTail","findFirstTail","variablesLet","equalsSign"]}'),i=JSON.parse('{"stringLiteral":{"pattern":"\\"([^\\"]*)\\"|\'([^\']*)\'","order":1},"identifier":{"pattern":"([_\\\\$A-Za-z|ऄ-ह|ऽ|ॐ|क़-ॡ|ॱ-ॿ][\\\\w\\\\$|ऀ-ॣ|०-९|ॱ-ॿ]*)","order":2},"positiveDecimal":{"pattern":"(\\\\d+\\\\.[1-9]\\\\d+)","order":3},"wholeNumberLiteral":{"pattern":"\\\\d+|\\\\d*\\\\.[0]+","order":6},"dot":{"pattern":"(\\\\.)","order":7},"openParenthesis":{"pattern":"(\\\\()","order":8},"closeParenthesis":{"pattern":"(\\\\))","order":9},"openBracket":{"pattern":"(\\\\[)","order":10},"closeBracket":{"pattern":"(\\\\])","order":11},"comma":{"pattern":"(\\\\,)","order":12},"semicolon":{"pattern":"(\\\\;)","order":13},"colon":{"pattern":"(:)","order":14},"negativeDecimalMOVEDFROMFOURFORNOW":{"pattern":"(-\\\\d+\\\\.[1-9]\\\\d+)","order":15},"negativeIntegerMOVEDFROMFIVEFORNOW":{"pattern":"-[1-9]\\\\d*|-[1-9]\\\\d*\\\\.[0]+","order":16}}')},function(e,t,n){n.d(t,"a",(function(){return o}));var o=JSON.parse('{"wholeNumberLiteral":{"type":"math_number","fields":{"NUM":"%1"}},"wholeNumberSum":{"type":"math_arithmetic_basic","fields":{"OP":"%2"},"inputs":{"A":"%1","B":"%3"}},"wholeNumberTermTwoGroupedExp":{"type":"math_arithmetic_basic","fields":{"OP":"%3"},"inputs":{"A":"%2","B":"%4"}},"wholeNumberTermProduct":{"type":"math_arithmetic_basic","fields":{"OP":"%2"},"inputs":{"A":"%1","B":"%3"}},"wholeNumberPlus":"ADD","wholeNumberMinus":"MINUS","wholeNumberTimes":"MULTIPLY","wholeNumberDividedBy":"DIVIDE","wholeNumberTermSingleGroupedExp":"%2","statementBlockExp":{"blocks":["%1","%3"]},"statementBlockVariable":{"blocks":["%1","%3"]},"statementBlockPrint":{"blocks":["%1","%3"]},"stringLiteral":{"type":"text","fields":{"TEXT":"%1"}},"stringGetInputExp":{"type":"text_input","inputs":{"TEXT":"%3"}},"js_stringGetInputExp":{"type":"js_text_input","inputs":{"TEXT":"%3"}},"displayStatement":{"type":"text_print","inputs":{"TEXT":"%3"}},"js_ConsoleLogStatement":{"type":"js_text_print","inputs":{"TEXT":"%5"}},"stringExpLength":{"type":"t2c_text_length","inputs":{"VALUE":"%1"}},"py_stringExpLength":{"type":"t2c_text_length","inputs":{"VALUE":"%3"}},"stringFindFirstFullExpression":{"type":"t2c_text_indexof","inputs":{"VALUE":"%1","FIND":"%5"}},"js_stringFindFirstFullExpression":{"type":"js_text_indexof","inputs":{"VALUE":"%1","FIND":"%5"}},"stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":"%5","AT2":"%10"}},"stringCharAtFullExpression":{"type":"%3","inputs":{"VALUE":"%1","AT":"%5"}},"py_stringCharAtFullExpression":{"type":"t2c_text_charat","inputs":{"VALUE":"%1","AT":"%3"}},"js_stringCharAtFullExpression":{"type":"js_text_charat","inputs":{"VALUE":"%1","AT":"%5"}},"py_stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":"%3","AT2":"%5"}},"js_stringSubstringFullExpression":{"type":"js_text_getsubstring","inputs":{"STRING":"%1","AT1":"%5","AT2":"%7"}},"stringAfterTextFullExpression":{"type":"t2c_text_after","inputs":{"TEXT":"%1","SUB":"%5"}},"stringBeforeTextFullExpression":{"type":"t2c_text_before","inputs":{"TEXT":"%1","SUB":"%5"}},"stringConcatenationFullExpression":{"type":"t2c_text_join","inputs":{"A":"%1","B":"%3"}},"stringGroupedExp":"%2","plusStr":"t2c_text_join","findFirstOccurrenceOfText":"t2c_text_indexof","getCharacterNumber":"t2c_text_charat","getCharacterNumberJS":"js_text_charat","getSubstringJS":"js_text_getsubstring","jsIndexOf":"js_text_indexof","getTextFrom":"t2c_text_getsubstring","getAfterText":"t2c_text_after","getBeforeText":"t2c_text_before","identifierGet":{"type":"variables_get","fields":{"VAR":"%1"}},"variableAssignment":{"type":"variables_set","fields":{"VAR":"%2"},"inputs":{"VALUE":"%4"}},"variableAssignmentNoLet":{"type":"variables_set","fields":{"VAR":"%1"},"inputs":{"VALUE":"%3"}},"__2__wholeNumberSum":{"type":"math_arithmetic_basic","fields":{"OP":"%2"},"inputs":{"A":"%1","B":{"type":"code_expression"}}},"__2__wholeNumberTermSingleGroupedExp":"%2","__2__wholeNumberTermTwoGroupedExp":{"type":"math_arithmetic_basic","fields":{"OP":{"type":"code_expression"}},"inputs":{"A":"%2","B":{"type":"code_expression"}}},"__3__wholeNumberTermTwoGroupedExp":{"type":"math_arithmetic_basic","fields":{"OP":"%3"},"inputs":{"A":"%2","B":{"type":"code_expression"}}},"__4__wholeNumberTermTwoGroupedExp":{"type":"math_arithmetic_basic","fields":{"OP":"%3"},"inputs":{"A":"%2","B":"%4"}},"__2__wholeNumberTermProduct":{"type":"math_arithmetic_basic","fields":{"OP":"%2"},"inputs":{"A":"%1","B":{"type":"code_expression"}}},"__2__stringGetInputExp":{"type":"text_input","inputs":{"TEXT":{"type":"code_expression"}}},"__3__stringGetInputExp":{"type":"text_input","inputs":{"TEXT":"%3"}},"__2__js_stringGetInputExp":{"type":"js_text_input","inputs":{"TEXT":{"type":"code_expression"}}},"__3__js_stringGetInputExp":{"type":"js_text_input","inputs":{"TEXT":"%3"}},"__2__stringGroupedExp":"%2","__2__stringConcatenationFullExpression":{"type":"t2c_text_join","inputs":{"A":"%1","B":{"type":"code_expression"}}},"__2__stringCharAtFullExpression":{"type":{"type":"code_expression"},"inputs":{"VALUE":"%1","AT":{"type":"code_expression"}}},"__3__stringCharAtFullExpression":{"type":"%3","inputs":{"VALUE":"%1","AT":{"type":"code_expression"}}},"__4__stringCharAtFullExpression":{"type":"%3","inputs":{"VALUE":"%1","AT":{"type":"code_expression"}}},"__5__stringCharAtFullExpression":{"type":"%3","inputs":{"VALUE":"%1","AT":"%5"}},"__2__py_stringCharAtFullExpression":{"type":"t2c_text_charat","inputs":{"VALUE":"%1","AT":{"type":"code_expression"}}},"__3__py_stringCharAtFullExpression":{"type":"t2c_text_charat","inputs":{"VALUE":"%1","AT":"%3"}},"__2__js_stringCharAtFullExpression":{"type":"js_text_charat","inputs":{"VALUE":"%1","AT":{"type":"code_expression"}}},"__3__js_stringCharAtFullExpression":{"type":"js_text_charat","inputs":{"VALUE":"%1","AT":{"type":"code_expression"}}},"__4__js_stringCharAtFullExpression":{"type":"js_text_charat","inputs":{"VALUE":"%1","AT":{"type":"code_expression"}}},"__5__js_stringCharAtFullExpression":{"type":"js_text_charat","inputs":{"VALUE":"%1","AT":"%5"}},"__2__stringAfterTextFullExpression":{"type":"t2c_text_after","inputs":{"TEXT":"%1","SUB":{"type":"code_expression"}}},"__3__stringAfterTextFullExpression":{"type":"t2c_text_after","inputs":{"TEXT":"%1","SUB":{"type":"code_expression"}}},"__4__stringAfterTextFullExpression":{"type":"t2c_text_after","inputs":{"TEXT":"%1","SUB":{"type":"code_expression"}}},"__5__stringAfterTextFullExpression":{"type":"t2c_text_after","inputs":{"TEXT":"%1","SUB":"%5"}},"__2__stringBeforeTextFullExpression":{"type":"t2c_text_before","inputs":{"TEXT":"%1","SUB":{"type":"code_expression"}}},"__3__stringBeforeTextFullExpression":{"type":"t2c_text_before","inputs":{"TEXT":"%1","SUB":{"type":"code_expression"}}},"__4__stringBeforeTextFullExpression":{"type":"t2c_text_before","inputs":{"TEXT":"%1","SUB":{"type":"code_expression"}}},"__5__stringBeforeTextFullExpression":{"type":"t2c_text_before","inputs":{"TEXT":"%1","SUB":"%5"}},"__2__stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":{"type":"code_expression"},"AT2":{"type":"code_expression"}}},"__3__stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":{"type":"code_expression"},"AT2":{"type":"code_expression"}}},"__4__stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":{"type":"code_expression"},"AT2":{"type":"code_expression"}}},"__5__stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":"%5","AT2":{"type":"code_expression"}}},"__6__stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":"%5","AT2":{"type":"code_expression"}}},"__7__stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":"%5","AT2":{"type":"code_expression"}}},"__8__stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":"%5","AT2":{"type":"code_expression"}}},"__9__stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":"%5","AT2":{"type":"code_expression"}}},"__10__stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":"%5","AT2":"%10"}},"__2__py_stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":{"type":"code_expression"},"AT2":{"type":"code_expression"}}},"__3__py_stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":"%3","AT2":{"type":"code_expression"}}},"__4__py_stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":"%3","AT2":{"type":"code_expression"}}},"__5__py_stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":"%3","AT2":"%5"}},"__2__js_stringSubstringFullExpression":{"type":"js_text_getsubstring","inputs":{"STRING":"%1","AT1":{"type":"code_expression"},"AT2":{"type":"code_expression"}}},"__3__js_stringSubstringFullExpression":{"type":"js_text_getsubstring","inputs":{"STRING":"%1","AT1":{"type":"code_expression"},"AT2":{"type":"code_expression"}}},"__4__js_stringSubstringFullExpression":{"type":"js_text_getsubstring","inputs":{"STRING":"%1","AT1":{"type":"code_expression"},"AT2":{"type":"code_expression"}}},"__5__js_stringSubstringFullExpression":{"type":"js_text_getsubstring","inputs":{"STRING":"%1","AT1":"%5","AT2":{"type":"code_expression"}}},"__6__js_stringSubstringFullExpression":{"type":"js_text_getsubstring","inputs":{"STRING":"%1","AT1":"%5","AT2":{"type":"code_expression"}}},"__7__js_stringSubstringFullExpression":{"type":"js_text_getsubstring","inputs":{"STRING":"%1","AT1":"%5","AT2":"%7"}},"__2__stringFindFirstFullExpression":{"type":"t2c_text_indexof","inputs":{"VALUE":"%1","FIND":{"type":"code_expression"}}},"__3__stringFindFirstFullExpression":{"type":"t2c_text_indexof","inputs":{"VALUE":"%1","FIND":{"type":"code_expression"}}},"__4__stringFindFirstFullExpression":{"type":"t2c_text_indexof","inputs":{"VALUE":"%1","FIND":{"type":"code_expression"}}},"__5__stringFindFirstFullExpression":{"type":"t2c_text_indexof","inputs":{"VALUE":"%1","FIND":"%5"}},"__2__js_stringFindFirstFullExpression":{"type":"js_text_indexof","inputs":{"VALUE":"%1","FIND":{"type":"code_expression"}}},"__3__js_stringFindFirstFullExpression":{"type":"js_text_indexof","inputs":{"VALUE":"%1","FIND":{"type":"code_expression"}}},"__4__js_stringFindFirstFullExpression":{"type":"js_text_indexof","inputs":{"VALUE":"%1","FIND":{"type":"code_expression"}}},"__5__js_stringFindFirstFullExpression":{"type":"js_text_indexof","inputs":{"VALUE":"%1","FIND":"%5"}},"__2__stringExpLength":{"type":"t2c_text_length","inputs":{"VALUE":"%1"}},"__2__py_stringExpLength":{"type":"t2c_text_length","inputs":{"VALUE":{"type":"code_expression"}}},"__3__py_stringExpLength":{"type":"t2c_text_length","inputs":{"VALUE":"%3"}},"__2__js_ConsoleLogStatement":{"type":"js_text_print","inputs":{"TEXT":{"type":"code_expression"}}},"__3__js_ConsoleLogStatement":{"type":"js_text_print","inputs":{"TEXT":{"type":"code_expression"}}},"__4__js_ConsoleLogStatement":{"type":"js_text_print","inputs":{"TEXT":{"type":"code_expression"}}},"__5__js_ConsoleLogStatement":{"type":"js_text_print","inputs":{"TEXT":"%5"}},"__2__displayStatement":{"type":"text_print","inputs":{"TEXT":{"type":"code_expression"}}},"__3__displayStatement":{"type":"text_print","inputs":{"TEXT":"%3"}},"__2__variableAssignment":{"type":"variables_set","fields":{"VAR":"%2"},"inputs":{"VALUE":{"type":"code_expression"}}},"__3__variableAssignment":{"type":"variables_set","fields":{"VAR":"%2"},"inputs":{"VALUE":{"type":"code_expression"}}},"__2__variableAssignmentNoLet":{"type":"variables_set","fields":{"VAR":"%1"},"inputs":{"VALUE":{"type":"code_expression"}}}}')},function(e,t,n){n(4);var o=n(0);t.a=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=t.workspace,r=function e(t,n){var i;if(t&&t.type)return i=Object(o.e)(n,t.type),t.inputs&&Object.keys(t.inputs).forEach((function(r){Object(o.j)(i,r,e(t.inputs[r],n))})),t&&t.fields&&Object.keys(t.fields).forEach((function(e){Object(o.h)(i,t.fields[e],e)})),i;if(t&&Array.isArray(t.blocks)){for(var r=t.blocks.map((function(t){return e(t,n)})),a=0;a<r.length-1;a++)r[a].getNextBlock()||r[a+1].getPreviousBlock()||Object(o.i)(r[a],r[a+1]);return r[0]}}(e,i);return Object(o.g)(t,r,!0),n&&Object(o.f)(i),r}},function(e,t,n){t.a=function(){function e(t){_classCallCheck(this,e),this.tokens_=t,this.tokensRegExp_=Object.keys(t).map((function(e){return{key:e,value:RegExp(t[e].pattern),order:t[e].order}})),this.tokensRegExp_.sort((function(e,t){return e.order-t.order}))}return _createClass(e,[{key:"isToken",value:function(e){return!1}},{key:"isTokenType",value:function(e){return-1!==Object.keys(this.tokens_).indexOf(e)}},{key:"tokenize",value:function(e){var t=this;return function e(n){if(""===n.trim())return[];for(var o=void 0,i=0;i<t.tokensRegExp_.length&&!(o=t.tokensRegExp_[i].value.exec(n));)i++;if(o){var r=o instanceof Array?o.slice(1).find((function(e){return null!=e})):null,a=null!=r?r:n.substring(o.index,o.index+o[0].length);return e(n.substring(0,o.index)).concat([{tokenType:t.tokensRegExp_[i].key,value:a}]).concat(e(n.substring(o.index+o[0].length)))}return n.trim().split("").filter((function(e){return-1===e.search(/\s/)})).map((function(e){return Object({tokenType:"none",value:e})}))}(e)}}]),e}()},function(e,t,n){var o=n(2),i=n(3);t.a=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"convertToBlockParseTrees",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.rhsides.map((function(r){return"string"==typeof r?[new o.a(e.lhs,r)]:Object(i.a)(r.map((function(e){return t.convertToBlockParseTrees(e,n)}))).map((function(t){return new o.a(e.lhs,t)}))})).reduce((function(e,t){return e.concat(t)}),[]).slice(0,n)}}]),e}()},function(e,t,n){var o=n(2),i=n(4);t.a=function(){function e(t){_classCallCheck(this,e),this.interpretations_=t}return _createClass(e,[{key:"evaluate",value:function(e){if(null===e||e instanceof o.a){if(e){var t="string"==typeof e.rhs?[e.rhs.replace(/\"/g,"'")]:e.rhs.map(this.evaluate.bind(this)),n=this.interpretations_[e.lhs];if("string"==typeof n)return n;if(n){var r=new i.a(JSON.stringify(n));return r.args=t,r}return t[0]}return""}throw console.assert(null!==e&&!(e instanceof o.a),{msg:"Non-null is invalid root type",expectedType:o.a,actual:e}),new Error("Invalid root type")}}]),e}()},function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var o=n(0);function i(e){var t=e.workspace;"js_text_print"===e.type||"js_text_input"===e.type?Object(o.g)(e,Object(o.e)(t,e.type.substring(3)),!0):"js_text_indexof"===e.type||"js_text_charat"===e.type||"js_text_getsubstring"===e.type?Object(o.g)(e,Object(o.e)(t,e.type.replace("js","t2c")),!0):"text_length"===e.type&&Object(o.g)(e,Object(o.e)(t,"t2c_"+e.type),!0)}function r(e){var t=e.workspace;if("text_print"===e.type)Object(o.g)(e,Object(o.e)(t,"js_text_print"),!0);else if("text_input"===e.type)Object(o.g)(e,Object(o.e)(t,"js_text_input"),!0);else if("t2c_text_indexof"===e.type)Object(o.g)(e,Object(o.e)(t,"js_text_indexof"),!0);else if("t2c_text_charat"===e.type)Object(o.g)(e,Object(o.e)(t,"js_text_charat"),!0);else if("t2c_text_length"===e.type)Object(o.g)(e,Object(o.e)(t,"text_length"),!0);else if("t2c_text_getsubstring"===e.type)Object(o.g)(e,Object(o.e)(t,"js_text_getsubstring"),!0);else if("t2c_text_before"===e.type){var n=e.getInputTargetBlock("SUB"),i=e.getInputTargetBlock("TEXT"),r=null,a=Object(o.e)(t,"js_text_getsubstring"),l=Object(o.e)(t,"math_number"),s=Object(o.e)(t,"js_text_indexof");if(Object(o.h)(l,0,"NUM"),i)if("text"===i.type)r=Object(o.e)(t,i.type),Object(o.h)(r,i.getFieldValue("TEXT"),"TEXT"),s.getInput("VALUE").connection.connect(r.outputConnection),a.getInput("STRING").connection.connect(i.outputConnection);else if("variables_get"===i.type)r=Object(o.e)(t,i.type),Object(o.h)(r,i.getFieldValue("VAR"),"VAR"),s.getInput("VALUE").connection.connect(r.outputConnection),a.getInput("STRING").connection.connect(i.outputConnection);else{var u=createNewTempVariable(t),c=Object(o.e)(t,"variables_set");Object(o.h)(c,u,"VAR"),Object(o.j)(c,"VALUE",i);var g=Object(o.e)(t,"variables_get");Object(o.h)(g,u,"VAR");var d=copyBlock(g);if(Object(o.j)(s,"VALUE",d),Object(o.j)(a,"STRING",g),y=Object(o.c)(e)){var h=y.previousConnection.targetBlock();h&&c.previousConnection.connect(h.nextConnection),y.previousConnection.connect(c.nextConnection)}}n&&Object(o.j)(s,"FIND",n),Object(o.j)(a,"AT1",l),Object(o.j)(a,"AT2",s),e.outputConnection.targetConnection?e.outputConnection.targetConnection.connect(a.outputConnection):Object(o.d)(e,a),e.dispose()}else if("t2c_text_after"===e.type){e.getParent(),a=Object(o.e)(t,"js_text_getsubstring"),i=e.getInputTargetBlock("TEXT"),n=e.getInputTargetBlock("SUB"),s=Object(o.e)(t,"js_text_indexof");var f=Object(o.e)(t,"text_length"),p=Object(o.e)(t,"text_length"),m=Object(o.e)(t,"math_arithmetic_basic");if(Object(o.h)(m,"ADD","OP"),i){if("text"!==i.type&&"variables_get"!==i.type){var y,T=Object(o.e)(t,"variables_set");if(u=createNewTempVariable(t),Object(o.h)(T,u,"VAR"),Object(o.j)(T,"VALUE",i),y=Object(o.c)(e)){var _=y.previousConnection.targetBlock();_&&T.previousConnection.connect(_.nextConnection),y.previousConnection.connect(T.nextConnection)}i=Object(o.e)(t,"variables_get"),Object(o.h)(i,u,"VAR"),Object(o.j)(a,"STRING",i)}else Object(o.j)(a,"STRING",i);Object(o.j)(s,"VALUE",copyBlock(i)),Object(o.j)(f,"VALUE",copyBlock(i))}if(n){if("text"!==n.type&&"variables_get"!==n.type){var b=Object(o.e)(t,"variables_set"),k=createNewTempVariable(t);Object(o.h)(b,k,"VAR"),Object(o.j)(b,"VALUE",n);var x=Object(o.c)(e);if(x){var B=x.previousConnection.targetBlock();B&&b.previousConnection.connect(B.nextConnection),x.previousConnection.connect(b.nextConnection)}n=Object(o.e)(t,"variables_get"),Object(o.h)(n,k,"VAR")}if("variables_get"===n.type)Object(o.j)(m,"B",p),Object(o.j)(p,"VALUE",copyBlock(n));else{var E=Object(o.e)(t,"math_number");Object(o.h)(E,n.getFieldValue("TEXT").length,"NUM"),Object(o.j)(m,"B",E),p.dispose()}Object(o.j)(s,"FIND",n)}else Object(o.j)(m,"B",p);Object(o.j)(m,"A",s),Object(o.j)(a,"AT1",m),Object(o.j)(a,"AT2",f),e.outputConnection.targetConnection?e.outputConnection.targetConnection.connect(a.outputConnection):Object(o.d)(e,a),e.dispose()}}},function(e,t,n){var o=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];_classCallCheck(this,e),this.lhs_=t,this.rhsides_=n}return _createClass(e,[{key:"merge",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;console.assert(this.lhs_===e.lhs_,{msg:"This lhs of "+this.lhs_+" does not match node's lhs of "+e.lhs_}),this.rhsides_.length<n&&(t=this.rhsides_).push.apply(t,_toConsumableArray(e.rhsides_))}},{key:"lhs",get:function(){return this.lhs_}},{key:"rhsides",get:function(){return this.rhsides_}}],[{key:"concatToEach",value:function(t,n,o){return new e(t,n.rhsides_.map((function(e){return e.concat(o)})))}}]),e}(),i=function(){function e(t,n){_classCallCheck(this,e),this.root_=new o(t,[Array.isArray(n)?n.map((function(e){return e.root_})):n])}return _createClass(e,[{key:"rhsConcat",value:function(t,n){var i=new e(t,[]);return i.root_=o.concatToEach(t,this.root_,n.root_),i}},{key:"parseTrees",value:function(e){return e.convertToBlockParseTrees(this.root_)}},{key:"rootLHS",get:function(){return this.root_.lhs}}],[{key:"mergeForests",value:function(e){var t=e.slice();t.sort((function(e,t){return e.root_.lhs===t.root_.lhs?0:e.root_.lhs<t.root_.lhs?-1:1}));for(var n=[],o=0;o<t.length;o++)0===o||n[n.length-1].root_.lhs!==t[o].root_.lhs?n.push(t[o]):n[n.length-1].root_.merge(t[o].root_);return n}}]),e}(),r=n(3);t.a=function(){function e(t,n,o){_classCallCheck(this,e),this.lexer_=t,this.createRuleSetFromGrammar_(n),o=o||[],console.warn("NEW RULE SET:",this.ruleSets_),this.terminals_=n.terminals,this.maxDepth_=0}return _createClass(e,[{key:"addRule_",value:function(e,t,n){if((n=n||this.ruleSets_)[e]){var o=Array.from(n[e]).filter((function(e){return Array.isArray(e)})).map((function(e){return JSON.stringify(e)}));Array.isArray(t)&&-1!==o.indexOf(JSON.stringify(t))||n[e].add(t)}else n[e]=new Set([t])}},{key:"flattenNonessentialUnitRules_",value:function(e){var t=this,n=Object.keys(this.ruleSets_),o=n.filter((function(t){return-1===e.indexOf(t)}));console.warn("Required symbols",e),console.warn("Nonessential",o),o.forEach((function(e,i){console.warn("Current: ",e,i,"out of",o.length,"processed");var a=Array.from(t.ruleSets_[e]).filter((function(e){return Array.isArray(e)&&1===e.length})),l=a.map((function(e){return"string"==typeof e?e:e[0]}));n.forEach((function(n){var o=[],i=[];Array.from(t.ruleSets_[n]).filter((function(e){return Array.isArray(e)})).forEach((function(t){var n=[],a=!1;t.forEach((function(t,o){t!==e?0===o?n.push([t]):n.forEach((function(e){return e.push(t)})):(a=!0,n=0===o?l.map((function(e){return[e]})):Object(r.b)(n,l).map((function(e){return e[0].concat(e[1])})))})),a&&i.push(t),o.push.apply(o,_toConsumableArray(n))})),o.forEach((function(e){return t.addRule_(n,e)})),a.length===t.ruleSets_[e].size&&i.forEach((function(e){if(!t.ruleSets_[n].delete(e))throw new Error(e)}))})),a.forEach((function(n){if(!t.ruleSets_[e].delete(n))throw new Error("No delete")}))}))}},{key:"getTranslations_",value:function(e){return Object.keys(T2C.MSG).map((function(t){return T2C.MSG[t][Object.keys(T2C.MSG[t]).find((function(t){return t==="TERMINAL_"+e.toUpperCase()}))]})).filter((function(e){return void 0!==e}))}},{key:"createRuleSetFromGrammar_",value:function(e){var t=this;this.ruleSets_={},Object.keys(e.rules).forEach((function(n){var o=[n],i=e.rules[n];"string"==typeof i||i instanceof Array?("string"==typeof i&&o.push(i),t.addRule_(n,i)):Object.keys(i).forEach((function(e){t.addRule_(n,[e]),t.addRule_(e,i[e]),o.push(e),"string"==typeof i[e]&&o.push(i[e])})),o.forEach((function(e){return t.getTranslations_(e).forEach((function(e){return t.addRule_(n,e)}))}))}))}},{key:"maxPathLengthToTerminalOrSplit_",value:function(e){var t,n=this,o=(e?[e]:Object.keys(this.ruleSets_)).map((function(e){return n.ruleSets_[e]?Array.from(n.ruleSets_[e]).filter((function(e){return Array.isArray(e)&&1===e.length&&n.ruleSets_[e[0]]})).map((function(t){return[e].concat(n.maxPathLengthToTerminalOrSplit_(t[0]))})):[e]})),i=e?o[0]:(t=[]).concat.apply(t,_toConsumableArray(o));return 0===i.length?[e]:i.reduce((function(e,t){return e.length>t.length?e:t}))}},{key:"getOppositeRules_",value:function(){var e=this,t={};return Object.keys(this.ruleSets_).forEach((function(n){Array.from(e.ruleSets_[n]).forEach((function(o){if(Array.isArray(o))if(1===o.length)e.addRule_(o[0],n,t);else{var i=n;o.slice(0,o.length-1).forEach((function(n,r){var a=o.length-r-1==1?o[0]:JSON.stringify(o.slice(0,o.length-r-1));e.addRule_(JSON.stringify([a,o[o.length-r-1]]),i,t),i=a}))}else e.addRule_(o,n,t)}))})),t}},{key:"getUnitRules_",value:function(e,t,n){for(var o=[],r=e,a=function(e){var n=[];r.forEach((function(e){t[e.rootLHS]&&Array.from(t[e.rootLHS]).filter((function(t){return t!==e.rootLHS})).forEach((function(t){return n.push(new i(t,[e]))}))})),o.push.apply(o,n),r=n},l=0;l<n&&r.length>0;l++)a();return o}},{key:"parseBottomUpCYK",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"statement";if(""===e)return[];Object.values(this.ruleSets_).reduce((function(e,t){return e+t.size}),0);var o=this.lexer_.tokenize(e),a=this.maxPathLengthToTerminalOrSplit_("statement"),l=this.getOppositeRules_();console.warn("TOKEN ARRAY:",o,a.length);for(var s=[o.map((function(e){return Array.from(l[e.value]||[]).concat(e.tokenType).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(t){return new i(t,e.value)}))}))],u=0;u<o.length;u++){var c;(c=s[0][u]).push.apply(c,_toConsumableArray(this.getUnitRules_(s[0][u],l,a.length))),s[0][u]=i.mergeForests(s[0][u])}for(var g=1;g<o.length;g++){for(var d=[],h=0;h<o.length-g;h++){for(var f,p=[],m=0;m<g;m++){var y=Object(r.b)(s[m][h],s[g-1-m][h+m+1]);p.push.apply(p,_toConsumableArray(y))}d.push(i.mergeForests(p.map((function(e){return{lhsides:l[JSON.stringify([e[0].rootLHS,e[1].rootLHS])],rhs:e}})).filter((function(e){return void 0!==e.lhsides})).map((function(e){return Array.from(e.lhsides).map((function(t){return e.rhs[0].rootLHS.startsWith("[")?e.rhs[0].rhsConcat(t,e.rhs[1]):new i(t,e.rhs)}))})).reduce((function(e,t){return e.concat(t)}),[]))),(f=d[h]).push.apply(f,_toConsumableArray(this.getUnitRules_(d[h],l,a.length))),d[h]=i.mergeForests(d[h])}s.push(d)}console.warn("LEVELS",s);var T=s[s.length-1][0].find((function(e){return e.rootLHS===n})),_=T?T.parseTrees(t):[];return console.warn("RESULT",_),_}},{key:"matchLanguageToken_",value:function(e,t){return Object.keys(T2C.MSG).map((function(e){return e.toUpperCase()})).some((function(n){return T2C.MSG[n]&&T2C.MSG[n]["TERMINAL_"+e.toUpperCase()]===t.value}))}},{key:"flattenOneLevel_",value:function(e){return e.reduce((function(e,t){return e.concat(t)}),[])}},{key:"joinEachItemToFront_",value:function(e,t){return this.flattenOneLevel_(t.map((function(t){return e.map((function(e){return[e].concat(t)}))})))}},{key:"getRHSOfTokenMatch_",value:function(e,t){var n=this;return-1!==this.lexer_.isTokenType(e)&&t.tokenType===e||-1!==this.terminals_.indexOf(e)&&Array.from(this.ruleSets_[e]).some((function(e){return e===t.value||n.matchLanguageToken_(e,t)}))?t.value:null}},{key:"isTerminal_",value:function(e){return-1!==this.terminals_.indexOf(e)||this.lexer_.isTokenType(e)}},{key:"parseTopDown",value:function(e){var t=this;console.log(this.ruleSets_);var n=Object.values(this.ruleSets_).reduce((function(e,t){return e+t.size}),0),o=this.lexer_.tokenize(e),i=new Memoizer,r=this.maxPathLengthToTerminalOrSplit_("statement");console.log("ARRAY:",r,r.length,n);console.log("Token Array:",o);var a=i.compute((function e(n,a,l,s){if(0===s||n instanceof Array&&0===n.length||n instanceof Array&&n.length>l-a+1)return[];if("string"==typeof n&&t.isTerminal_(n)){if(a!==l)return[];var u=t.getRHSOfTokenMatch_(n,o[a]);return u?[{lhs:n,rhs:[u]}]:[]}if("string"==typeof n)return t.flattenOneLevel_(Array.from(t.ruleSets_[n]).map((function(t){var o=i.compute(e,[t,a,l,s-1],0);return o.some((function(e){return e.length!==t.length}))?(console.log("throwing out",n,JSON.stringify(o),t),console.log("problem",t,o,o.find((function(e){return e.length!==t.length}))),null):o.map((function(e){return{lhs:n,rhs:e}}))})).filter((function(e){return e})));if(n instanceof Array&&1===n.length){var c=i.compute(e,[n[0],a,l,s]);return c.length>0?c.map((function(e){return[e]})):[]}for(var g=[],d=a;d<l;d++){var h=i.compute(e,[n[0],a,d,r.length]);if(h.length>0){var f=i.compute(e,[n.slice(1),d+1,l,r.length]);f.length>0&&g.push.apply(g,_toConsumableArray(t.joinEachItemToFront_(h,f)))}}return g}),["statement",0,o.length-1,r.length]);return i.clear(),a}}]),e}()},,,,,,,,,function(e,t,n){n.r(t);var o=n(1),i=n(0),r=function(){function e(t,n){_classCallCheck(this,e),this.taskCondition_=t,this.directions_=n}return _createClass(e,[{key:"areDirectionsCompleted",value:function(){return this.directions_.isComplete()}},{key:"startDirections",value:function(){this.directions_.start()}},{key:"finish",value:function(){this.directions_.finish instanceof Function&&this.directions_.finish()}},{key:"showDirectionStep",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.directions_.animate(e)}},{key:"isTaskCompleted",value:function(){return this.taskCondition_()}}]),e}(),a=function(){function e(t,n){_classCallCheck(this,e),this.obj_=t,this.options_=n}return _createClass(e,[{key:"start",value:function(){this.numOfMoves_=0,this.totalSteps_=this.value_(this.options_.totalSteps),this.startPosition_=this.value_(this.options_.startPosition),this.endPosition_=this.value_(this.options_.endPosition)||{x:this.startPosition_.x+this.value_(this.options_.velocity).x*this.totalSteps_,y:this.startPosition_.y+this.value_(this.options_.velocity).y*this.totalSteps_},this.velocity_={x:(this.endPosition_.x-this.startPosition_.x)/this.totalSteps_,y:(this.endPosition_.y-this.startPosition_.y)/this.totalSteps_},this.obj_.style.left=this.startPosition_.x+"px",this.obj_.style.top=this.startPosition_.y+"px"}},{key:"isComplete",value:function(){return this.numOfMoves_>=this.totalSteps_}},{key:"finish",value:function(){this.options_.finish instanceof Function&&this.options_.finish()}},{key:"animate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=Math.min(e,this.totalSteps_-this.numOfMoves_);this.obj_.style.left=parseFloat(this.obj_.style.left)+this.velocity_.x*t+"px",this.obj_.style.top=parseFloat(this.obj_.style.top)+this.velocity_.y*t+"px",this.numOfMoves_+=e}},{key:"value_",value:function(e){return e instanceof Function?e():e}}]),e}(),l=function(){function e(t,n){_classCallCheck(this,e),this.obj_=t,this.options_=n}return _createClass(e,[{key:"start",value:function(){this.numOfSteps_=0,this.totalSteps_=this.value_(this.options_.totalSteps),this.startPosition_=this.value_(this.options_.startPosition),this.toggleSteps_=this.value_(this.options_.toggleSteps),this.obj_.style.left=this.startPosition_.x+"px",this.obj_.style.top=this.startPosition_.y+"px"}},{key:"isComplete",value:function(){return this.numOfSteps_>=this.totalSteps_}},{key:"animate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=Math.min(e,this.totalSteps_-this.numOfSteps_);this.obj_.style.display=this.numOfSteps_%(2*this.toggleSteps_)<this.toggleSteps_?"none":"block",this.numOfSteps_+=t}},{key:"finish",value:function(){this.obj_.style.display="block",this.options_.finish instanceof Function&&this.options_.finish()}},{key:"value_",value:function(e){return e instanceof Function?e():e}}]),e}(),s=function(){function e(t,n){_classCallCheck(this,e),this.options_=n,this.started_=!1,this.message_=t,this.currentMessage_="",this.alertDisplay_=document.getElementById("alert-display"),this.alertDisplay_||(this.alertDisplay_=document.createElement("div"),this.alertDisplay_.id="alert-display",this.alertDisplay_.style.fontSize="small",this.alertDisplay_.style.fontWeight="bold",this.alertDisplay_.style.borderColor="#000",this.alertDisplay_.style.backgroundColor="rgba(200, 200, 200, 0.5)",this.alertDisplay_.style.color="#f00",this.alertDisplay_.style.position="absolute",this.alertDisplay_.style.zIndex="1050",this.alertDisplay_.style.width="98%",this.alertDisplay_.style.minHeight="50px",this.alertDisplay_.style.left="0",this.alertDisplay_.style.bottom="0",this.alertDisplay_.style.textAlign="left",this.alertDisplay_.style.padding="1%")}return _createClass(e,[{key:"start",value:function(){document.body.appendChild(this.alertDisplay_),this.started_=!0}},{key:"isComplete",value:function(){return!1}},{key:"finish",value:function(){document.body.removeChild(this.alertDisplay_),this.options_.finish instanceof Function&&this.options_.finish()}},{key:"animate",value:function(){var e=this.value_(this.message_),t=this.currentMessage_.replace(/\s/g,""),n=this.alertDisplay_.innerText.replace(/\s/g,"");n===e.replace(/\s/g,"")||n!==t&&""!==n||(this.currentMessage_=e,this.options_.queue?this.alertDisplay_.innerText+=e:this.alertDisplay_.innerText=e)}},{key:"value_",value:function(e){return e instanceof Function?e():e}}]),e}(),u=function(){function e(t){_classCallCheck(this,e),this.animations_=t}return _createClass(e,[{key:"start",value:function(){this.animations_.forEach((function(e){return e.start()}))}},{key:"isComplete",value:function(){return this.animations_.every((function(e){return e.isComplete()}))}},{key:"finish",value:function(){this.animations_.filter((function(e){return e.finish instanceof Function})).forEach((function(e){return e.finish()}))}},{key:"animate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.animations_.filter((function(e){return!e.isComplete()})).forEach((function(t){return t.animate(e)}))}}]),e}(),c=function(){function e(){_classCallCheck(this,e),this.tasks_=[]}return _createClass(e,[{key:"addTask",value:function(e){this.tasks_.push(e)}},{key:"runTasks",value:function(){var e=this;this.tasks_.length;var t=0,n=0;this.tasks_[0].startDirections();requestAnimationFrame((function o(i){i-n>=5&&(e.tasks_[t].areDirectionsCompleted()||e.tasks_[t].isTaskCompleted()?e.tasks_[t].isTaskCompleted()&&(e.tasks_[t].finish(),++t<e.tasks_.length&&e.tasks_[t].startDirections(),n=i):e.tasks_[t].showDirectionStep(1),n+=5),t<e.tasks_.length&&requestAnimationFrame(o),console.log("Running Task",t)}))}}]),e}();function g(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=document.getElementById("alert-display");n||((n=document.createElement("div")).id="alert-display",n.style.fontSize="small",n.style.fontWeight="bold",n.style.borderColor="#000",n.style.backgroundColor="rgba(200, 200, 200, 0.5)",n.style.color="#f00",n.style.position="absolute",n.style.zIndex="1050",n.style.width="98%",n.style.minHeight="50px",n.style.left="0",n.style.bottom="0",n.style.textAlign="left",n.style.padding="1%",document.body.appendChild(n)),t?n.innerText=e:n.innerText+=e}function d(e){return Array.from(document.querySelectorAll("rect")).filter((function(e){return e.getAttribute("fill-opacity")}))[e]}function h(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=t.getBoundingRectangle(),a=e.getMetrics(),l=e.getScale(),s=o,u=i,c=n.blockOffsetScaleX||0,g=n.blockOffsetScaleY||0;return{x:(r.left-a.viewLeft+c*t.width)*l+s,y:(r.top-a.viewTop+a.flyoutHeight+g*t.height)*l+u}}function f(e){e.style.verticalAlign="middle",e.style.color="#000"}function p(){document.getElementById("output-container").classList.remove("show-container"),document.getElementById("output-container").classList.add("hide-container"),document.getElementById("text-code-container").classList.remove("show-container"),document.getElementById("text-code-container").classList.add("hide-container")}function m(e,t){var n=0;function o(){t.style.color=n%50<25?"#a00":"#000",++n<200&&requestAnimationFrame(o)}e.addTask(new r((function(){return n>=200}),{start:function(){t.style.verticalAlign="top",requestAnimationFrame(o)},isComplete:function(){return!0},animate:function(){return!0}}))}function y(e,t){var n=Object.values(T2C.MSG).map((function(e){return e["TERMINAL_"+t.toUpperCase()]})).filter((function(e){return"string"==typeof e})).find((function(t){return t.startsWith(e)||e.startsWith(t)}));if(n)return{terminal:n,remaining:e.JSSubstring(n.length).trim()}}function T(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=document.getElementById("alert-display");n||((n=document.createElement("div")).id="alert-display",n.style.fontSize="small",n.style.fontWeight="bold",n.style.borderColor="#000",n.style.backgroundColor="rgba(200, 200, 200, 0.5)",n.style.color="#f00",n.style.position="absolute",n.style.zIndex="1050",n.style.width="98%",n.style.minHeight="50px",n.style.left="0",n.style.bottom="0",n.style.textAlign="left",n.style.padding="1%",document.body.appendChild(n)),t?n.innerText=e:n.innerText+=e}function _(e){e.style.verticalAlign="middle",e.style.color="#000"}function b(){document.getElementById("output-container").classList.remove("show-container"),document.getElementById("output-container").classList.add("hide-container"),document.getElementById("text-code-container").classList.remove("show-container"),document.getElementById("text-code-container").classList.add("hide-container")}function k(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=document.createElement("block");return o.setAttribute("type",t),n?document.getElementById("toolbox").prepend(o):document.getElementById("toolbox").append(o),e.updateToolbox(document.getElementById("toolbox")),o}function x(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=t&&t.getBoundingRectangle()||{left:0,top:0};t=t||{width:0,height:0};var a=e.getMetrics(),l=e.getScale(),s=o,u=i,c=n.blockOffsetScaleX||0,g=n.blockOffsetScaleY||0;return{x:(r.left-a.viewLeft+c*t.width)*l+s,y:(r.top-a.viewTop+a.flyoutHeight+g*t.height)*l+u}}Blockly.Python.type_in_display_string_literal=Blockly.JavaScript.type_in_display_string_literal=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_display_string_literal={validate:function(e){var t=Object.values(T2C.MSG).map((function(e){return e.TERMINAL_DISPLAY})).filter((function(e){return"string"==typeof e})).find((function(t){return t.startsWith(e)||e.startsWith(t)})),n=t&&t.length<=e.length&&e.substring(t.length).trim(),o=n&&n.substring(1).trim();return t?n&&n.length&&!n.startsWith("(")?(g("You're missing an opening parenthesis after "+t),t):!o||o.startsWith('"')||o.startsWith("'")?o&&-1!==o.indexOf('"',1)&&!o.substring(o.indexOf('"',1)+1).trim().startsWith(")")?(g('Make sure to include a closing parenthesis after the string surrounded by " and ".'),t+"("+o.substring(0,o.indexOf('"',1)+1)):(g(""),e):(g('Make sure the text you want to display is between " and " so the computer just displays it without trying to figure out what you mean!'),t+"("):(g("Check the spelling, case, and punctuation of what you're entering; it should identically match with "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY),null)},init:function(){var e=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(t){if(e.getFieldValue("EXP").endsWith("\r")||e.getFieldValue("EXP").endsWith("\n")||e.getFieldValue("EXP").length>0&&"workspaceClick"===t.element){if(!e.validate(e.getFieldValue("EXP"))||!e.getFieldValue("EXP").endsWith(")")&&!e.getFieldValue("EXP").endsWith(";"))return;var n=Object(o.getParseTree)(e.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,e):alert("Try checking what you entered again for mistakes.")}}}},Blockly.Python.type_in_welcome_message=Blockly.JavaScript.type_in_welcome_message=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_welcome_message={validate:function(e){var t=e.trim(),n=t.length?t.substring(1).search(/[^\\]['|"]/)+2:-1,o=n>1?t.substring(0,n):t,i=n>1?t.substring(n+1):t;return t.length?t.startsWith('"')||t.startsWith("'")?n>1&&!"+firstName+".startsWith(i.trim().replace(/\s+\+|\+\s+/g,"+"))&&!i.trim().replace(/\s+\+|\+\s+/g,"+").startsWith("+firstName+")?(g("Be sure that the variable name firstName appears outside of quotation marks since you want its value, not literally firstName and that you include + before and after it to join the welcome at the beginning and the punctuation mark at the end."),o):(g(""),e):(g('Since you will be starting your message with text to be displayed as is such as Welcome, be sure you let the computer know this by surrounding what appears first with " and "'),null):void g("")},init:function(){var e=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!0),this.setPreviousStatement(!1),this.setNextStatement(!1),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(t){if(e.getFieldValue("EXP").endsWith("\r")||e.getFieldValue("EXP").endsWith("\n")||e.getFieldValue("EXP").length>0&&"workspaceClick"===t.element){if(!e.validate(e.getFieldValue("EXP")))return;if(e.getFieldValue("EXP").trim().endsWith('"')||e.getFieldValue("EXP").trim().endsWith("'")){var n=Object(o.getParseTree)(e.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,e):alert("Try checking what you entered again for mistakes.")}}}}},String.prototype.JSSubstring=function(e,t){return e>=this.length||e===t?"":this.substring(e,t)},Blockly.Python.type_in_get_last_char_number=Blockly.JavaScript.type_in_get_last_char_number=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_get_last_char_number={validate:function(e){var t=void 0,n=void 0,o=y(e.trim(),"display");return o?o.remaining.length&&!o.remaining.startsWith("(")?(T("You're missing an opening parenthesis after "+o.terminal),o.terminal):(o.remaining=o.remaining.JSSubstring(1).trim(),o.remaining.length&&!o.remaining.startsWith("s")?(o.remaining.startsWith('"')?T("Don't use \" here as you want the computer to evaluate what you typed (e.g., the word the user entered instead of the letter s)"):T("Be sure to include the variable s that you want to the get the value's last character from"),o.terminal+"("):(o.remaining=o.remaining.JSSubstring(1).trim(),o.remaining.length&&!o.remaining.startsWith(".")?(T("Be sure to include the . after the variable"),o.terminal+"(s"):o.remaining.length?(t=o.terminal+"(s.",(n=y(o.remaining.JSSubstring(1).trim(),"GETCHARACTERNUMBER"))?n.remaining.length&&!n.remaining.startsWith("(")?(T("You're missing an opening parenthesis after "+n.terminal),t+n.terminal):(n.remaining=n.remaining.JSSubstring(1).trim(),n.remaining.length&&!n.remaining.startsWith("4")?(n.remaining.startsWith('"')?T("Don't use \" here as you want the computer to interpret this as a number and not text."):n.remaining.startsWith("5")?T("Remember that character positions start at the number 0.  If you count the letters of a 5-letter word such as `pizza` starting from 0, you won't get up to position 5."):n.remaining.startsWith("6")?T("Determine the position of the last character a in the 5-letter word `pizza`.  If you count starting from 0, you won't get up to position 6."):0===parseInt(n.remaining)?T("You want the position of the last character, not the first."):parseInt(n.remaining)?T("Determine the position of the last character a in the 5-letter word `pizza`.  The number you're entering is incorrect."):T("Include a number for the position you want after "+n.terminal+"("),t+n.terminal+"("):(n.remaining=n.remaining.JSSubstring(1).trim(),n.remaining.length&&!n.remaining.startsWith(")")?(T("You're missing a closing parenthesis for "+n.terminal),t+n.terminal+"(4"):(n.remaining=n.remaining.JSSubstring(1).trim(),n.remaining.length&&!n.remaining.startsWith(")")?(T("You're missing a closing parenthesis for "+o.terminal),t+n.terminal+"(4)"):(T(""),e)))):(T("Check the spelling, case, and punctuation of what you're entering; it should identically match with "+T2C.MSG.currentLanguage.TERMINAL_GETCHARACTERNUMBER),t)):(T(""),e))):(T("Check the spelling, case, and punctuation of what you're entering; it should identically match with "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY),null)},init:function(){var e=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(t){if(e.getFieldValue("EXP").endsWith("\r")||e.getFieldValue("EXP").endsWith("\n")||e.getFieldValue("EXP").length>0&&"workspaceClick"===t.element){if(!e.validate(e.getFieldValue("EXP"))||!e.getFieldValue("EXP").endsWith(")")&&!e.getFieldValue("EXP").endsWith(";"))return;var n=Object(o.getParseTree)(e.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,e):alert("Try checking what you entered again for mistakes.")}}}};var B=void 0,E=!1,A=!1,I=!1,v=!1;function w(e){e.style.verticalAlign="middle",e.style.color="#000"}function N(){document.getElementById("output-container").classList.remove("show-container"),document.getElementById("output-container").classList.add("hide-container"),document.getElementById("text-code-container").classList.remove("show-container"),document.getElementById("text-code-container").classList.add("hide-container")}function S(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=document.createElement("block");return o.setAttribute("type",t),n?document.getElementById("toolbox").prepend(o):document.getElementById("toolbox").append(o),e.updateToolbox(document.getElementById("toolbox")),o}function O(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=t&&t.getBoundingRectangle()||{left:0,top:0};t=t||{width:0,height:0};var a=e.getMetrics(),l=e.getScale(),s=o,u=i,c=n.blockOffsetScaleX||0,g=n.blockOffsetScaleY||0;return{x:(r.left-a.viewLeft+c*t.width)*l+s,y:(r.top-a.viewTop+a.flyoutHeight+g*t.height)*l+u}}var L=void 0,M=!1,F=!1,R=!1,C=!1;function V(e,t){var n=Object.values(T2C.MSG).map((function(e){return e["TERMINAL_"+t.toUpperCase()]})).filter((function(e){return"string"==typeof e})).find((function(t){return t.startsWith(e)||e.startsWith(t)}));if(n)return{terminal:n,remaining:e.JSSubstring(n.length).trim()}}function P(e,t){e("Check the spelling, case, and punctuation of what you're entering; it should identically match with "+T2C.MSG.currentLanguage["TERMINAL_"+t.toUpperCase()]+".")}function U(e,t,n){for(var o=void 0,i=[],r=e,a=!1,l=-1;l<t.length-1&&r&&!a;){if("string"==typeof t[++l])r.length<t[l].length&&t[l].startsWith(r)?(o=r,r=""):r.startsWith(t[l])?(o=t[l],r=r.substring(t[l].length).trim()):a=!0;else if("terminal"===t[l].type){var s=V(r.trim(),t[l].token);s?(o=s.terminal,r=s.remaining):a=!0}else a=!0;a||i.push(o)}return{match:i,error:a,errorMsg:a?n[l](i,r):q("")||""}}function X(e){e.style.verticalAlign="middle",e.style.color="#000"}function G(){document.getElementById("output-container").classList.remove("show-container"),document.getElementById("output-container").classList.add("hide-container"),document.getElementById("text-code-container").classList.remove("show-container"),document.getElementById("text-code-container").classList.add("hide-container")}function j(e){Array.from(document.getElementById("toolbox").children).forEach((function(e){return e.remove()})),e.options.maxInstances={},e.updateToolbox(document.getElementById("toolbox"))}function D(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=W(t);return n?document.getElementById("toolbox").prepend(o):document.getElementById("toolbox").append(o),e.updateToolbox(document.getElementById("toolbox")),o}function W(e){var t=document.createElement("block");return t.setAttribute("type",e),t}function Y(e,t,n){var o=document.createElement("field");o.setAttribute("name",t),o.appendChild(document.createTextNode(n)),e.appendChild(o)}function H(e,t,n){var o=document.createElement("value");o.setAttribute("name",t),o.appendChild(n),e.appendChild(o)}function J(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=t&&t.getBoundingRectangle()||{left:0,top:0};t=t||{width:0,height:0};var a=e.getMetrics(),l=e.getScale(),s=o,u=i,c=n.blockOffsetScaleX||0,g=n.blockOffsetScaleY||0;return{x:(r.left-a.viewLeft+c*t.width)*l+s,y:(r.top-a.viewTop+a.flyoutHeight+g*t.height)*l+u}}function q(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=document.getElementById("alert-display");n||((n=document.createElement("div")).id="alert-display",n.style.fontSize="small",n.style.fontWeight="bold",n.style.borderColor="#000",n.style.backgroundColor="rgba(200, 200, 200, 0.5)",n.style.color="#f00",n.style.position="absolute",n.style.zIndex="1050",n.style.width="98%",n.style.minHeight="50px",n.style.left="0",n.style.bottom="0",n.style.textAlign="left",n.style.padding="1%",document.body.appendChild(n)),t?n.innerText=e:n.innerText+=e}function z(e,t){var n=Object.values(T2C.MSG).map((function(e){return e["TERMINAL_"+t.toUpperCase()]})).filter((function(e){return"string"==typeof e})).find((function(t){return t.startsWith(e)||e.startsWith(t)}));if(n)return{terminal:n,remaining:e.JSSubstring(n.length).trim()}}function K(e,t){e("Check the spelling, case, and punctuation of what you're entering; it should identically match with "+T2C.MSG.currentLanguage["TERMINAL_"+t.toUpperCase()]+".")}function $(e,t,n){for(var o=void 0,i=[],r=e,a=!1,l=-1;l<t.length-1&&r&&!a;){if("string"==typeof t[++l])r.length<t[l].length&&t[l].startsWith(r)?(o=r,r=""):r.startsWith(t[l])?(o=t[l],r=r.substring(t[l].length).trim()):a=!0;else if("terminal"===t[l].type){var s=z(r.trim(),t[l].token);s?(o=s.terminal,r=s.remaining):a=!0}else a=!0;a||i.push(o)}return{match:i,error:a,errorMsg:a?n[l](i,r):ae("")||""}}function Z(e){e.style.verticalAlign="middle",e.style.color="#000"}function Q(){document.getElementById("output-container").classList.remove("show-container"),document.getElementById("output-container").classList.add("hide-container"),document.getElementById("text-code-container").classList.remove("show-container"),document.getElementById("text-code-container").classList.add("hide-container")}function ee(e){Array.from(document.getElementById("toolbox").children).forEach((function(e){return e.remove()})),e.options.maxInstances={},e.updateToolbox(document.getElementById("toolbox"))}function te(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=ne(t);return n?document.getElementById("toolbox").prepend(o):document.getElementById("toolbox").append(o),e.updateToolbox(document.getElementById("toolbox")),o}function ne(e){var t=document.createElement("block");return t.setAttribute("type",e),t}function oe(e,t,n){var o=document.createElement("field");o.setAttribute("name",t),o.appendChild(document.createTextNode(n)),e.appendChild(o)}function ie(e,t,n){var o=document.createElement("value");o.setAttribute("name",t),o.appendChild(n),e.appendChild(o)}function re(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=t&&t.getBoundingRectangle()||{left:0,top:0};t=t||{width:0,height:0};var a=e.getMetrics(),l=e.getScale(),s=o,u=i,c=n.blockOffsetScaleX||0,g=n.blockOffsetScaleY||0;return{x:(r.left-a.viewLeft+c*t.width)*l+s,y:(r.top-a.viewTop+a.flyoutHeight+g*t.height)*l+u}}function ae(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=document.getElementById("alert-display");n||((n=document.createElement("div")).id="alert-display",n.style.fontSize="small",n.style.fontWeight="bold",n.style.borderColor="#000",n.style.backgroundColor="rgba(200, 200, 200, 0.5)",n.style.color="#f00",n.style.position="absolute",n.style.zIndex="1050",n.style.width="98%",n.style.minHeight="50px",n.style.left="0",n.style.bottom="0",n.style.textAlign="left",n.style.padding="1%",document.body.appendChild(n)),t?n.innerText=e:n.innerText+=e}String.prototype.JSSubstring=function(e,t){return e>=this.length||e===t?"":this.substring(e,t)},Blockly.Python.type_in_get_input=Blockly.JavaScript.type_in_get_input=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_get_input={validate:function(e){var t,n=void 0,o=void 0,i=void 0,r=V(e.trim(),"let");if(!r)return q("Check the spelling, case, and punctuation of what you're entering; it should identically match with "+T2C.MSG.currentLanguage.TERMINAL_LET+"."),null;if(r.remaining.length&&!r.remaining.startsWith("s"))return q("Be sure to name the variable you're declaring s.  This will store the string with an even number of characters the user enters."),r.terminal;if(r.remaining=r.remaining.JSSubstring(1).trim(),r.remaining.length&&!r.remaining.startsWith("="))return q("Remember to include an = after the variable s you're declaring to set it to the string the user enters."),r.terminal+"s";if(r.remaining=r.remaining.JSSubstring(1).trim(),!r.remaining.length)return q(""),e;if(t=r.terminal+"s = ",!(n=V(r.remaining.trim(),"GETINPUTBYASKING")))return q("Check the spelling, case, and punctuation of what you're entering; it should identically match with "+T2C.MSG.currentLanguage.TERMINAL_GETINPUTBYASKING+"."),t;if(n.remaining.length&&!n.remaining.startsWith("("))return q("You're missing an opening parenthesis after "+n.terminal),t+n.terminal;if(n.remaining=n.remaining.JSSubstring(1).trim(),n.remaining.length&&!n.remaining.startsWith('"')&&!n.remaining.startsWith("'"))return q('The message to supply to the user should be surrounded by " and " because you want it to be displayed as is.'),t+n.terminal+"(";if(n.remaining.length&&(o=n.remaining.match(/^"[^"]*"|^'[^']*'/))){if(-1===(i=o[0]).toLowerCase().indexOf(" even ")&&-1===i.indexOf(" "))return q("Make sure the message contains the word even to tell the user you want him/her to enter an even number of characters (> 0).  And be sure it has spaces since you can and should include them in messages read by humans!"),t+n.terminal+"("+i.substring(0,i.length-1);if(-1===i.toLowerCase().indexOf(" even "))return q("Make sure the message contains the word even (surrounded by spaces) to tell the user you want him/her to enter an even number of characters (> 0)."),t+n.terminal+"("+i.substring(0,i.length-1)}return n.remaining.length&&i&&(n.remaining=n.remaining.JSSubstring(i.length).trim()),n.remaining.length&&i&&!n.remaining.startsWith(")")?(q("You're missing a closing parenthesis for "+n.terminal),t+n.terminal+"("+i):(n.remaining.length&&i&&(n.remaining=n.remaining.JSSubstring(1).trim()),q(""),e)},init:function(){var e=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(t){if(e.getFieldValue("EXP").endsWith("\r")||e.getFieldValue("EXP").endsWith("\n")||e.getFieldValue("EXP").length>0&&"workspaceClick"===t.element){if(!e.validate(e.getFieldValue("EXP"))||!e.getFieldValue("EXP").endsWith(")")&&!e.getFieldValue("EXP").endsWith(";"))return;var n=Object(o.getParseTree)(e.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,e):q("Try checking what you entered again for mistakes.  You probably just have extra unnecessary code after a ).")}}}},Blockly.Python.type_in_set_to_char_number_0=Blockly.JavaScript.type_in_set_to_char_number_0=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_set_to_char_number_0={validate:function(e){var t=void 0,n=void 0,o=V(e.trim(),"let");return o?!o.remaining.length||o.remaining.startsWith("firstChar")||"firstChar".startsWith(o.remaining)?(o.remaining=o.remaining.JSSubstring("firstChar".length).trim(),o.remaining.length&&!o.remaining.startsWith("=")?(q("Remember to include an = after the variable firstChar you're declaring to set it to the string's first character."),o.terminal+"firstChar"):(o.remaining=o.remaining.JSSubstring(1).trim(),o.remaining.length?(t=o.terminal+"firstChar = ",o.remaining.length&&!o.remaining.startsWith("s")?(o.remaining.startsWith('"')?q("Don't use \" here as you want the computer to evaluate what you typed (e.g., the word the user entered instead of the letter s)"):o.remaining.startsWith("f")?q("This is the string you want to get the initial character from so you'll want to use s, which stores what the user entered."):q("Be sure to include the variable s that you want to the get the value's first character from."),t):(o.remaining=o.remaining.JSSubstring(1).trim(),o.remaining.length&&!o.remaining.startsWith(".")?(q("Be sure to include the . after the variable"),t+"s"):o.remaining.length?(t+="s.",(n=V(o.remaining.JSSubstring(1).trim(),"GETCHARACTERNUMBER"))?n.remaining.length&&!n.remaining.startsWith("(")?(q("You're missing an opening parenthesis after "+n.terminal),t+n.terminal):(n.remaining=n.remaining.JSSubstring(1).trim(),n.remaining.length&&!n.remaining.startsWith("0")?(n.remaining.startsWith('"')?q("Don't use \" here as you want the computer to interpret this as a number and not text."):n.remaining.startsWith("1")?q("Remember that character positions start at the number 0."):parseInt(n.remaining)?q("The number you're entering is incorrect for getting the initial character."):q("Include a number for the position you want after "+n.terminal+"("),t+n.terminal+"("):(n.remaining=n.remaining.JSSubstring(1).trim(),n.remaining.length&&!n.remaining.startsWith(")")?(q("You're missing a closing parenthesis for "+n.terminal),t+n.terminal+"(0"):(q(""),e))):(q("Check the spelling, case, and punctuation of what you're entering; it should identically match with "+T2C.MSG.currentLanguage.TERMINAL_GETCHARACTERNUMBER),t)):(q(""),e))):(q(""),e))):(q("Be sure to name the variable you're declaring firstChar to representing the fact that it's storing the entered string's first character."),o.terminal):(q("Check the spelling, case, and punctuation of what you're entering; it should identically match with "+T2C.MSG.currentLanguage.TERMINAL_LET+"."),null)},init:function(){var e=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(t){if(e.getFieldValue("EXP").endsWith("\r")||e.getFieldValue("EXP").endsWith("\n")||e.getFieldValue("EXP").length>0&&"workspaceClick"===t.element){if(!e.validate(e.getFieldValue("EXP"))||!e.getFieldValue("EXP").endsWith(")")&&!e.getFieldValue("EXP").endsWith(";"))return;var n=Object(o.getParseTree)(e.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,e):q("Try checking what you entered again for mistakes.")}}}},Blockly.Python.type_in_set_to_last_char=Blockly.JavaScript.type_in_set_to_last_char=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_set_to_last_char={validate:function(e){var t=U(e,[{token:"let",type:"terminal"},"lastChar","=","s",".",{token:"GETCHARACTERNUMBER",type:"terminal"},"(","s",".",{token:"LENGTH",type:"terminal"},"-","1",")"],[P.bind(null,q,"LET"),function(){return q("Be sure to name the variable you're declaring lastChar to representing the fact that it's storing the entered string's last character.")},function(){return q("Remember to include an = after the variable lastChar you're declaring to set it to the string's last character.")},function(e,t){t.startsWith('"')?q("Don't use \" here as you want the computer to evaluate what you typed (e.g., the word the user entered instead of the letter s)"):t.startsWith("l")?q("This is the string you want to get the last character from so you'll want to use s, which stores what the user entered."):q("Be sure to include the variable s that you want to the get the value's last character from.")},function(){return q("Be sure to include the . after the variable")},P.bind(null,q,"GETCHARACTERNUMBER"),function(e){return"You're missing an open parenthesis after "+e[5]+"."},function(e,t){t.startsWith("-")?q("Let's get the length of the string first when calculating the position of the last character even though it doesn't need to appear before the operation."):isNaN(parseInt(t))?q("To get the length of a string, you'll need to first specify the string you want the length of.  In this case, you'll need to use the length of the entered string (stored in s) to get the position of its last character."):q("Remember that since the string can be of any length, its last character will not always be at position "+parseInt(t)+".")},function(e,t){t.startsWith("(")?q("An expression representing a number should go after the open parenthesis for "+e[5]+'.  It wouldn\'t make sense to get the character at position number "pizza" (or whatever string the user enters), right?'):q("Be sure to include the . after the variable s if you want to get its length.")},P.bind(null,q,"LENGTH"),function(e,t){t.startsWith("(")?q("The length of a 5-character string such as pizza is 5, but since you start counting from 0, this was not the position of the last character.  Consider using some math operation to calculate the correct position."):t.startsWith("+")?q("Consider adding a number such as 1 to 5, which is the length of pizza.  This gives you 6, but you wouldn't use 6 for the number of the position for the last character, right?"):q("Type the appropriate option (+ = ADD, - = SUBTRACT, * = MULTIPLY, / = DIVIDE) that you want to perform on the string's length to calculate the character's last position.  Your current answer won't work in general.")},function(e,t){var n=parseInt(t);isNaN(n)?q("Remember that the length is a number.  What would it mean to subtract a string from a number?"):q(0===n?"The length of a 5-character string such as pizza is 5, but since you start counting from 0, this was not the position of the last character.  Also subtracting 0 doesn't change the quantity (e.g., 5 - 0 = 5) so it wouldn't be necessary.":"What number do you want to subtract from the length of the string to get the position of its last character?  pizza had a length of 5, and its last character was at what position?  food has a length of 4, and its last character is at what position?")},function(e,t){return q("You're missing a closing parenthesis for "+e[5])}]);return t.error?t.match.join(""):e},init:function(){var e=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(t){if(e.getFieldValue("EXP").endsWith("\r")||e.getFieldValue("EXP").endsWith("\n")||e.getFieldValue("EXP").length>0&&"workspaceClick"===t.element){if(!e.validate(e.getFieldValue("EXP"))||!e.getFieldValue("EXP").endsWith(")")&&!e.getFieldValue("EXP").endsWith(";"))return;var n=Object(o.getParseTree)(e.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,e):q("Try checking what you entered again for mistakes.")}}}},Blockly.Python.type_in_set_to_position_of_second_middle_char=Blockly.JavaScript.type_in_set_to_position_of_second_middle_char=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_set_to_position_of_second_middle_char={validate:function(e){var t=U(e,[{token:"let",type:"terminal"},"positionOfSecondMiddleChar","=","s",".",{token:"LENGTH",type:"terminal"},"/","2"],[P.bind(null,q,"LET"),function(){return q("Be sure to name the variable you're declaring positionOfSecondMiddleChar to represent the fact that it's storing the position number of the string's second middle character.")},function(){return q("Remember to include an = after the variable positionOfSecondMiddleChar you're declaring to set it to the position of the string's second middle character.")},function(e,t){isNaN(parseInt(t))?t.startsWith('"')?q("Don't use \" here as you want the computer to evaluate what you typed (e.g., the word the user entered instead of the letter s)"):t.startsWith("l")||t.startsWith("p")?q("This is the string you want to get the length of so you'll want to use s, which stores what the user entered."):q("Be sure to include the variable s that you want to the get the length of."):q("Let's get the length of the string first when calculating the position of the second middle character even though it doesn't need to appear before the operation.")},function(){return q("Be sure to include the . after the variable")},P.bind(null,q,"LENGTH"),function(e,t){t.startsWith("-")?q("If you subtract a *specific number* for the length, this won't work in general.  For example, the length of SCRABBLE is 8 and the position of its second middle character is 4.  So subtracting 4 from the length works for that example, but if your string were FOOD, the middle character is at 2, but subtracting 4 from the length of 4 gives you 0."):t.startsWith("+")?q("Remember that the last character is at the length of the string - 1.  If you add zero or a positive number to the length, you'll get the position of a character that does not exist!  For example, if you add 1 to the length of pizza, you'll get 5 + 1 or 6, but the position of the last character is 4 so you'll go out of bounds!"):t.startsWith("*")?q("Multiplication could work, but not by a positive whole number since multiplying the length of the string by 1, 2, 3, or 4 will always be greater than the position of the last character of the string, which is its length - 1.  For example, multiplying the length of pizza by 4, gives you 5 * 4 = 20 and there's no 20th character!  What operation could you use instead so you don't refer to a position that's out of bounds?"):q("Type the appropriate option (+ = ADD, - = SUBTRACT, * = MULTIPLY, / = DIVIDE) that you want to perform on the string's length to calculate the position of its second middle character.")},function(e,t){var n=parseInt(t);t.startsWith('"')||t.startsWith("'")?q("Remember that the length is a number.  What would it mean to divide a string from a number?"):isNaN(n)?q("Remember that the length is a number.  You wouldn't divide it by the string the user enters (e.g., what would 8/SCRABBLE mean?) and you can't divide it by positionOfSecondMiddleChar because you're defining that variable.  And if you divide any positive number by itself, that'd be 1 anyway which won't be the position of the second middle character in general.  You can divide the length by a specific number to get the position of the second middle character.  What should that be?"):q("If you divide the length of SCRABBLE by "+n+", you'll get "+8/n+", which is not the position of its second middle character (4).  Try a different number.  Also verify that it works for strings of other even lengths such as CODE.")}]);return t.error?t.match.join(""):e},init:function(){var e=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(t){if(e.getFieldValue("EXP").endsWith("\r")||e.getFieldValue("EXP").endsWith("\n")||e.getFieldValue("EXP").length>0&&"workspaceClick"===t.element){if(!e.validate(e.getFieldValue("EXP"))||!e.getFieldValue("EXP").endsWith(")")&&!e.getFieldValue("EXP").endsWith(";"))return;var n=Object(o.getParseTree)(e.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,e):q("Try checking what you entered again for mistakes.")}}}},Blockly.Python.type_in_set_to_position_of_first_middle_char=Blockly.JavaScript.type_in_set_to_position_of_first_middle_char=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_set_to_position_of_first_middle_char={validate:function(e){var t=U(e,[{token:"let",type:"terminal"},"positionOfFirstMiddleChar","=","positionOfSecondMiddleChar","-","1"],[P.bind(null,q,"LET"),function(){return q("Be sure to name the variable you're declaring positionOfFirstMiddleChar to represent the fact that it's storing the position number of the string's first middle character.")},function(){return q("Remember to include an = after the variable positionOfFirstMiddleChar you're declaring to set it to the position of the string's first middle character.")},function(e,t){t.startsWith("-")?q("Let's get the length of the string first when calculating the position of the first middle character even though it doesn't need to appear before the operation."):t.startsWith('"')?q("Don't use \" here as you want the computer to evaluate the variable."):t.startsWith("l")?q("While you might use a math operation on the *position* of the last character, which is a number, to get the position of the first middle character, you would not use the character itself.  E.g., you might do a math operation on 4, which is the position of the a in pizza, but not the a itself.  However, try using a math operation on the *position* of the second middle character instead."):t.startsWith("s")?q("Instead of using the length of the string s this time to calculate the position of the first middle character, try using the position of the second middle character instead."):q("You'll want to use the position of the second middle character to get the position of the first middle character.  You already stored that in what variable?")},function(e,t){t.startsWith("/")?q("Dividing the position of the second middle character by a number won't get the previous position where the first middle character resides.  For example, for SCRABBLE, the second middle character is at position 4.  Dividing this by 2 gets you 2, the position of the R, by 3 gets you 4/3, which is not even a position, etc.  What would you do to the 4 to get to the position of the first middle character at 3?"):t.startsWith("+")?q("Adding a positive number won't be what you want as that moves you forward.  For example, the position of the second middle character of SCRABBLE is 4.  Adding 1, 2, or 3 would give you 5, 6, or 7, the positions of the second B, the L, and the E, respectively, not the position of the first middle character (A)."):t.startsWith("*")?q("Multiplying the position of the second middle character by a whole number won't get the previous position where the first middle character resides in general.  For example, for SCRABBLE, the second middle character is at position 4.  For example, multiplying by 0 always gives you 0 (position of initial character), by 1 gives you 4 (unchanged: position of second middle character), by 2 gives you 8 (number that's out of bounds beyond the position of the last character at 7).  What would you do to the 4 to get to the position of the first middle character at 3?"):q("Type the appropriate option (+ = ADD, - = SUBTRACT, * = MULTIPLY, / = DIVIDE) that you want to perform on positionOfSecondMiddleChar to calculate the position of the entered string's first middle character.")},function(e,t){var n=parseInt(t);t.startsWith('"')||t.startsWith("'")?q("Remember that positionOfSecondMiddleChar is a number and that quotes are for specific strings such as 'pizza'.  Why would you subtract a specific string from a number and what would it mean?"):isNaN(n)?q("Regardless of whether the string is at, code, pizzas, scrabble, or any other string with an even number of characters (not 0), you can always subtract the same number from the position of the second middle character to get the position of the first middle character.  The positions of the second middle characters and first characters are as follows (what number do you subtract from the first number to get the second?): \nat       : 1 | 0\ncode     : 2 | 1\npizzas   : 3 | 2\nscrabble : 4 | 3"):q("If you subtract "+n+"from the position of the second middle character of SCRABBLE, you'll get 4"-n+", which is not the position of its first middle character (3).  Try a different number.  Also verify that it works for strings of other even lengths such as CODE.")}]);return t.error?t.match.join(""):e},init:function(){var e=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(t){if(e.getFieldValue("EXP").endsWith("\r")||e.getFieldValue("EXP").endsWith("\n")||e.getFieldValue("EXP").length>0&&"workspaceClick"===t.element){if(!e.validate(e.getFieldValue("EXP"))||!e.getFieldValue("EXP").endsWith(")")&&!e.getFieldValue("EXP").endsWith(";"))return;var n=Object(o.getParseTree)(e.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,e):q("Try checking what you entered again for mistakes.")}}}},Blockly.Python.type_in_get_first_middle_char=Blockly.JavaScript.type_in_get_first_middle_char=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_get_first_middle_char={validate:function(e){var t=U(e,[{token:"let",type:"terminal"},"firstMiddleChar","=","s",".",{token:"GETCHARACTERNUMBER",type:"terminal"},"(","positionOfFirstMiddleChar",")"],[P.bind(null,q,"LET"),function(){return q("Be sure to name the variable you're declaring firstMiddleChar to represent the fact that it's storing the string's first middle character.")},function(){return q("Remember to include an = after the variable firstMiddleChar you're declaring to set it to the string's first middle character.")},function(e,t){t.startsWith('"')?q("Don't use \" here as you want the computer to evaluate what you typed (e.g., the word the user entered instead of the letter s)"):t.startsWith("l")||t.startsWith("p")||t.startsWith("f")?q("To get the a character at a given position in a string, you'll first need to specify the string you want to get the first middle character from so you'll want to use s, which stores what the user entered."):q("Be sure to include the variable s that you want to the get the value's first middle character from.")},function(){return q("Be sure to include the . after the variable")},P.bind(null,q,"GETCHARACTERNUMBER"),function(e){return"You're missing an open parenthesis after "+e[5]+"."},function(e,t){t.startsWith('"')||t.startsWith("'")?q("Remember that quotes are for specific strings such as 'pizza', but you want something representing a number after the open parenthesis for "+e[5]+'.  It wouldn\'t make sense to get the character at position *number* "pizza" of some string, right?'):isNaN(t)?q("You already have a variable storing the position number of the character that you want, don't you?  If a variable stores the result of a valid math operation, it should be a number so you can use it here.  For example, if s stores the 8-character user input SCRABBLE, s.length - 1 evaluates to 8 - 1 or 7.  So if a variable positionOfLastChar is set to s.length-1, it'll store 7.  You can then use s.length-1 in "+T2C.MSG.currentLanguage.TERMINAL_GETCHARACTERNUMBER+" and it'd get the 7th character.  Now you don't have such a variable here, but you do have a variable that stores the position number of the first middle character, which is what you want, right?"):q("You can't use a specific number here since the position of the first middle character will depend on the length of the string entered.")},function(e,t){return q("You're missing a closing parenthesis for "+e[5]+".")}]);return t.error?t.match.join(""):e},init:function(){var e=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(t){if(e.getFieldValue("EXP").endsWith("\r")||e.getFieldValue("EXP").endsWith("\n")||e.getFieldValue("EXP").length>0&&"workspaceClick"===t.element){if(!e.validate(e.getFieldValue("EXP"))||!e.getFieldValue("EXP").endsWith(")")&&!e.getFieldValue("EXP").endsWith(";"))return;var n=Object(o.getParseTree)(e.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,e):q("Try checking what you entered again for mistakes.")}}}},Blockly.Python.type_in_get_second_middle_char=Blockly.JavaScript.type_in_get_second_middle_char=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_get_second_middle_char={validate:function(e){var t=U(e,[{token:"let",type:"terminal"},"secondMiddleChar","=","s",".",{token:"GETCHARACTERNUMBER",type:"terminal"},"(","positionOfSecondMiddleChar",")"],[P.bind(null,q,"LET"),function(){return q("Be sure to name the variable you're declaring secondMiddleChar to represent the fact that it's storing the string's second middle character.")},function(){return q("Remember to include an = after the variable secondMiddleChar you're declaring to set it to the string's second middle character.")},function(e,t){t.startsWith('"')?q("Don't use \" here as you want the computer to evaluate what you typed (e.g., the word the user entered instead of the letter s)"):t.startsWith("l")||t.startsWith("p")||t.startsWith("f")?q("To get the a character at a given position in a string, you'll first need to specify the string you want to get the second middle character from so you'll want to use s, which stores what the user entered."):q("Be sure to include the variable s that you want to the get the value's second middle character from.")},function(){return q("Be sure to include the . after the variable")},P.bind(null,q,"GETCHARACTERNUMBER"),function(e){return"You're missing an open parenthesis after "+e[5]+"."},function(e,t){t.startsWith('"')||t.startsWith("'")?q("Remember that quotes are for specific strings such as 'pizza', but you want something representing a number after the open parenthesis for "+e[5]+'.  It wouldn\'t make sense to get the character at position *number* "pizza" of some string, right?'):isNaN(t)?q("You already have a variable storing the position number of the character that you want, don't you?  If a variable stores the result of a valid math operation, it should be a number so you can use it here.  For example, if s stores the 8-character user input SCRABBLE, s.length - 1 evaluates to 8 - 1 or 7.  So if a variable positionOfLastChar is set to s.length-1, it'll store 7.  You can then use s.length-1 in "+T2C.MSG.currentLanguage.TERMINAL_GETCHARACTERNUMBER+" and it'd get the 7th character.  Now you don't have such a variable here, but you do have a variable that stores the position number of the second middle character, which is what you want, right?"):q("You can't use a specific number here since the position of the second middle character will depend on the length of the string entered.")},function(e,t){return q("You're missing a closing parenthesis for "+e[5]+".")}]);return t.error?t.match.join(""):e},init:function(){var e=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(t){if(e.getFieldValue("EXP").endsWith("\r")||e.getFieldValue("EXP").endsWith("\n")||e.getFieldValue("EXP").length>0&&"workspaceClick"===t.element){if(!e.validate(e.getFieldValue("EXP"))||!e.getFieldValue("EXP").endsWith(")")&&!e.getFieldValue("EXP").endsWith(";"))return;var n=Object(o.getParseTree)(e.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,e):q("Try checking what you entered again for mistakes.")}}}},Blockly.Python.type_in_combine_first_last_middle2_chars=Blockly.JavaScript.type_in_combine_first_last_middle2_chars=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_combine_first_last_middle2_chars={validate:function(e){var t=U(e,[{token:"display",type:"terminal"},"(","s","+",'"',": ",'"',"+","firstChar","+","lastChar","+","firstMiddleChar","+","secondMiddleChar",")"],[P.bind(null,q,"DISPLAY"),function(e,t){return q("You're missing an open parenthesis after "+e[0]+".")},function(){return q("First you want to display the string the user entered, which is stored in the variable s.")},function(){return q("Recall from Mission 0 that you can join strings using + .")},function(){return q("After the string the user entered, you want to literally display the separator text.  Do you remember what you need to use so the string is displayed exactly as is.")},function(){return q("You want a colon followed by a space.  Be sure to display both and nothing else.")},function(){return q("Remember that you'll need (to close the) quotation marks before joining it with the first character that comes next.  This is because you'll want the computer to display the first character, which is stored in the variable firstChar.  You don't want to literally display firstChar so it needs to be outside of quotation marks.")},function(){return q("You need to include +'s between all strings you want to join together.")},function(){return q("The first character should be displayed next.  Recall that it's stored in firstChar.")},function(){return q("You need to include +'s between all strings you want to join together.")},function(){return q("The last character should be displayed next.  Recall that it's stored in lastChar.")},function(){return q("You need to include +'s between all strings you want to join together.")},function(){return q("The first middle character should be displayed next.  What variable stores it?")},function(){return q("You need to include +'s between all strings you want to join together.")},function(){return q("The second middle character should be displayed next.  What variable stores it?")},function(e,t){return q("You're missing a closing parenthesis for "+e[0]+".")}]);return t.error?t.match.join(""):e},init:function(){var e=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(t){if(e.getFieldValue("EXP").endsWith("\r")||e.getFieldValue("EXP").endsWith("\n")||e.getFieldValue("EXP").length>0&&"workspaceClick"===t.element){if(!e.validate(e.getFieldValue("EXP"))||!e.getFieldValue("EXP").endsWith(")")&&!e.getFieldValue("EXP").endsWith(";"))return;var n=Object(o.getParseTree)(e.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,e):q("Try checking what you entered again for mistakes.")}}}},String.prototype.JSSubstring=function(e,t){return e>=this.length||e===t?"":this.substring(e,t)},Blockly.Python.type_in_all_but_first_specific_str=Blockly.JavaScript.type_in_all_but_first_specific_str=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_all_but_first_specific_str={validate:function(e){var t=$(e,[{token:"display",type:"terminal"},"(","welcomeMsg",".",{token:"GETTEXTFROMPOSITIONNUMBER",type:"terminal"},"(","1",")",".",{token:"TOPOSITIONNUMBER",type:"terminal"},"(","15",")",")"],[K.bind(null,ae,"DISPLAY"),function(e,t){return ae("You're missing an open parenthesis after "+e[0]+".")},function(){return ae("Be sure to include the variable welcomeMsg that you want to extract text from.")},function(){return ae("Be sure to include the . after the variable welcomeMsg you want to extract text from.")},K.bind(null,ae,"GETTEXTFROMPOSITIONNUMBER"),function(e,t){return ae("You're missing an open parenthesis after "+e[4]+".")},function(){return ae("What position number should you start extracting from if you want to remove the initial character?  Change this to the correct number.")},function(e,t){return ae("You're missing a closing parenthesis for "+e[4]+" after the starting position number.")},function(){return ae("Be sure to include the . after the closing parenthesis after the starting position number before the next part.")},K.bind(null,ae,"TOPOSITIONNUMBER"),function(e,t){return ae("You're missing an open parenthesis after "+e[9]+".")},function(){return ae("What position number should you stop extracting from (stops one place before) if you want to get the rest of the string?  Just use a *specific* number here.  We'll generalize this so it works for other strings next.  Change this to the correct number.")},function(e,t){return ae("You're missing a closing parenthesis for "+e[9]+" after the ending position number.")},function(e,t){return ae("You're missing a closing parenthesis for "+e[0]+".")}]);return t.error?t.match.join(""):e},init:function(){var e=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(t){if(e.getFieldValue("EXP").endsWith("\r")||e.getFieldValue("EXP").endsWith("\n")||e.getFieldValue("EXP").length>0&&"workspaceClick"===t.element){if(!e.validate(e.getFieldValue("EXP"))||!e.getFieldValue("EXP").endsWith(")")&&!e.getFieldValue("EXP").endsWith(";"))return;var n=Object(o.getParseTree)(e.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,e):ae("Try checking what you entered again for mistakes.")}}}},Blockly.Python.type_in_all_but_first_general_str=Blockly.JavaScript.type_in_all_but_first_general_str=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_all_but_first_general_str={validate:function(e){var t=$(e,[{token:"display",type:"terminal"},"(","response",".",{token:"GETTEXTFROMPOSITIONNUMBER",type:"terminal"},"(","1",")",".",{token:"TOPOSITIONNUMBER",type:"terminal"},"(","response",".",{token:"LENGTH",type:"terminal"},")",")"],[K.bind(null,ae,"DISPLAY"),function(e,t){return ae("You're missing an open parenthesis after "+e[0]+".")},function(){return ae("Be sure to include the variable response that you want to extract text from.")},function(){return ae("Be sure to include the . after the variable response you want to extract text from.")},K.bind(null,ae,"GETTEXTFROMPOSITIONNUMBER"),function(e,t){return ae("You're missing an open parenthesis after "+e[4]+".")},function(){return ae("What position number should you start extracting from if you want to remove the initial character?  Change this to the correct number.")},function(e,t){return ae("You're missing a closing parenthesis for "+e[4]+" after the starting position number.")},function(){return ae("Be sure to include the . after the closing parenthesis after the starting position number before the next part.")},K.bind(null,ae,"TOPOSITIONNUMBER"),function(e,t){return ae("You're missing an open parenthesis after "+e[9]+".")},function(e,t){var n=parseInt(t);isNaN(n)?ae("Remember the expression you used when you wanted to get the position of the last character for "+T2C.MSG.currentLanguage.TERMINAL_GETCHARACTERNUMBER+"?  This is a little different because the ending position will be 1 past the position of the last character since we stop 1 place before.\nFor some examples of the numbers we'd want to use for some strings: ok: 2, theek: 5, bahut acchaa: 12"):ae("Remember that since you no longer know how short or long the entered string will be, the stopping position will not always be at position "+n+".  Instead, this position will depend on something about this string so your answer should refer to it.")},function(){return ae("Be sure to include the . after the variable response you want to use.")},function(e,t){return ae("What property of response do you want to get to determine the ending position here?")},function(e,t){-1!==t.replace(/\s/g,"").indexOf("-1")?ae("Remember that "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" ends one position before the numerical expression given.  So for example, for a response of theek, response.length - 1 would be 5 - 1 or 4, which means you'd extract the text ending with the second e at position 3 instead of the k at position 4."):-1!==t.replace(/\s/g,"").indexOf("+1")?ae("For a response of theek, response.length + 1 would be 5 + 1 or 6, but there is no 5th character since positions start at 0."):ae("What you're doing to the "+T2C.MSG.currentLanguage.TERMINAL_LENGTH+" seems incorrect.  Be sure to have examples in mind before deciding what to type.  For example, for theek, the length is 5 and you want to go up to position 5 (since you'd stop extracting at character 4).  If you're done, be sure to include a closing parenthesis for "+e[9]+" after the ending position.")},function(e,t){return ae("You're missing a closing parenthesis for "+e[0]+".")}]);return t.error?t.match.join(""):e},init:function(){var e=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(t){if(e.getFieldValue("EXP").endsWith("\r")||e.getFieldValue("EXP").endsWith("\n")||e.getFieldValue("EXP").length>0&&"workspaceClick"===t.element){if(!e.validate(e.getFieldValue("EXP"))||!e.getFieldValue("EXP").endsWith(")")&&!e.getFieldValue("EXP").endsWith(";"))return;var n=Object(o.getParseTree)(e.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,e):ae("Try checking what you entered again for mistakes.")}}}};var le=function(){function e(t){_classCallCheck(this,e),this.workspace_=t||Blocky.getMainWorkspace(),this.toolboxBlocks_=[],this.toolBoxDOM_=document.getElementById("toolbox")}return _createClass(e,[{key:"createBlockWithType_",value:function(e){var t=document.createElement("block");return t.setAttribute("type",e),t}},{key:"clearToolbox",value:function(){Array.from(this.toolBoxDOM_.children).forEach((function(e){return e.remove()})),this.workspace_.options.maxInstances={},this.workspace_.updateToolbox(document.getElementById("toolbox")),this.toolboxBlocks_=[]}},{key:"createToolboxBlock",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.createBlockWithType_(e);return t?(document.getElementById("toolbox").prepend(n),this.toolboxBlocks_.unshift(n)):(document.getElementById("toolbox").append(n),this.toolboxBlocks_.push(n)),this.workspace_.updateToolbox(document.getElementById("toolbox")),n}},{key:"setToolboxBlockFieldValue",value:function(e,t,n){var o=document.createElement("field");o.setAttribute("name",t),o.appendChild(document.createTextNode(n)),e.appendChild(o)}},{key:"setToolboxBlockInputValue",value:function(e,t,n){var o=document.createElement("value");o.setAttribute("name",t),o.appendChild(n),e.appendChild(o)}},{key:"removeToolboxBlocks",value:function(e){var t=this;this.toolboxBlocks_.forEach((function(t){return console.log(t,e,e(t))}));var n=this.toolboxBlocks_.map(e),o=this.toolboxBlocks_.filter(e);return n.forEach((function(e,n){e&&t.toolboxBlocks_[n].remove()})),this.toolboxBlocks_=this.toolboxBlocks_.filter((function(e,t){return!n[t]})),this.workspace_.updateToolbox(document.getElementById("toolbox")),console.log("Removing blocks",o),o}}]),e}();function se(e){e.style.verticalAlign="middle",e.style.color="#000"}function ue(){document.getElementById("output-container").classList.remove("show-container"),document.getElementById("output-container").classList.add("hide-container"),document.getElementById("text-code-container").classList.remove("show-container"),document.getElementById("text-code-container").classList.add("hide-container")}function ce(e,t){var n=Object.values(T2C.MSG).map((function(e){return e["TERMINAL_"+t.toUpperCase()]})).filter((function(e){return"string"==typeof e})).find((function(t){return t.startsWith(e)||e.startsWith(t)}));if(n)return{terminal:n,remaining:e.JSSubstring(n.length).trim()}}function ge(e,t){e("Check the spelling, case, and punctuation of what you're entering; it should identically match with "+T2C.MSG.currentLanguage["TERMINAL_"+t.toUpperCase()]+".")}function de(e,t,n){for(var o=void 0,i=[],r=e,a=!1,l=-1;l<t.length-1&&r&&!a;){if("string"==typeof t[++l])r.length<t[l].length&&t[l].startsWith(r)?(o=r,r=""):r.startsWith(t[l])?(o=t[l],r=r.substring(t[l].length).trim()):a=!0;else if("terminal"===t[l].type){var s=ce(r.trim(),t[l].token);s?(o=s.terminal,r=s.remaining):a=!0}else if("regexp"===t[l].type){var u=r.trim().match(t[l].token);u?(o=u[0],r=r.substring(u[0].length)):a=!0}else a=!0;a||i.push(o)}return{match:i,error:a,errorMsg:a?n[l](i,r):fe("")||""}}function he(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=t&&t.getBoundingRectangle()||{left:0,top:0};t=t||{width:0,height:0};var a=e.getMetrics(),l=e.getScale(),s=o,u=i,c=n.blockOffsetScaleX||0,g=n.blockOffsetScaleY||0;return{x:(r.left-a.viewLeft+c*t.width)*l+s,y:(r.top-a.viewTop+a.flyoutHeight+g*t.height)*l+u}}function fe(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=document.getElementById("alert-display");n||((n=document.createElement("div")).id="alert-display",n.style.fontSize="small",n.style.fontWeight="bold",n.style.borderColor="#000",n.style.backgroundColor="rgba(200, 200, 200, 0.5)",n.style.color="#f00",n.style.position="absolute",n.style.zIndex="1050",n.style.width="98%",n.style.minHeight="50px",n.style.left="0",n.style.bottom="0",n.style.textAlign="left",n.style.padding="1%",document.body.appendChild(n)),t?n.innerText=e:n.innerText+=e}function pe(e){e.style.verticalAlign="middle",e.style.color="#000"}function me(){document.getElementById("output-container").classList.remove("show-container"),document.getElementById("output-container").classList.add("hide-container"),document.getElementById("text-code-container").classList.remove("show-container"),document.getElementById("text-code-container").classList.add("hide-container")}function ye(e,t){var n=Object.values(T2C.MSG).map((function(e){return e["TERMINAL_"+t.toUpperCase()]})).filter((function(e){return"string"==typeof e})).find((function(t){return t.startsWith(e)||e.startsWith(t)}));if(n)return{terminal:n,remaining:e.JSSubstring(n.length).trim()}}function Te(e,t){e("Check the spelling, case, and punctuation of what you're entering; it should identically match with "+T2C.MSG.currentLanguage["TERMINAL_"+t.toUpperCase()]+".")}function _e(e,t,n){for(var o=void 0,i=[],r=e,a=!1,l=-1;l<t.length-1&&r&&!a;){if("string"==typeof t[++l])r.length<t[l].length&&t[l].startsWith(r)?(o=r,r=""):r.startsWith(t[l])?(o=t[l],r=r.substring(t[l].length).trim()):a=!0;else if("terminal"===t[l].type){var s=ye(r.trim(),t[l].token);s?(o=s.terminal,r=s.remaining):a=!0}else if("regexp"===t[l].type){var u=r.trim().match(t[l].token);u?(o=u[0],r=r.substring(u[0].length).trim()):a=!0}else a=!0;a||i.push(o)}return{match:i,error:a,errorMsg:a?n[l](i,r):ke("")||""}}function be(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=t&&t.getBoundingRectangle()||{left:0,top:0};t=t||{width:0,height:0};var a=e.getMetrics(),l=e.getScale(),s=o,u=i,c=n.blockOffsetScaleX||0,g=n.blockOffsetScaleY||0;return{x:(r.left-a.viewLeft+c*t.width)*l+s,y:(r.top-a.viewTop+a.flyoutHeight+g*t.height)*l+u}}function ke(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=document.getElementById("alert-display");n||((n=document.createElement("div")).id="alert-display",n.style.fontSize="small",n.style.fontWeight="bold",n.style.borderColor="#000",n.style.backgroundColor="rgba(200, 200, 200, 0.5)",n.style.color="#f00",n.style.position="absolute",n.style.zIndex="1050",n.style.width="98%",n.style.minHeight="50px",n.style.left="0",n.style.bottom="0",n.style.textAlign="left",n.style.padding="1%",document.body.appendChild(n)),t?n.innerText=e:n.innerText+=e}function xe(e){e.style.verticalAlign="middle",e.style.color="#000"}function Be(){document.getElementById("output-container").classList.remove("show-container"),document.getElementById("output-container").classList.add("hide-container"),document.getElementById("text-code-container").classList.remove("show-container"),document.getElementById("text-code-container").classList.add("hide-container")}function Ee(e,t){var n=Object.values(T2C.MSG).map((function(e){return e["TERMINAL_"+t.toUpperCase()]})).filter((function(e){return"string"==typeof e})).find((function(t){return t.startsWith(e)||e.startsWith(t)}));if(n)return{terminal:n,remaining:e.JSSubstring(n.length).trim()}}function Ae(e,t){e("Check the spelling, case, and punctuation of what you're entering; it should identically match with "+T2C.MSG.currentLanguage["TERMINAL_"+t.toUpperCase()]+".")}function Ie(e,t,n){for(var o=void 0,i=[],r=e,a=!1,l=-1;l<t.length-1&&r&&!a;){if("string"==typeof t[++l])r.length<t[l].length&&t[l].startsWith(r)?(o=r,r=""):r.startsWith(t[l])?(o=t[l],r=r.substring(t[l].length).trim()):a=!0;else if("terminal"===t[l].type){var s=Ee(r.trim(),t[l].token);s?(o=s.terminal,r=s.remaining):a=!0}else if("regexp"===t[l].type){var u=r.trim().match(t[l].token);u?(o=u[0],r=r.substring(u[0].length).trim()):a=!0}else a=!0;a||i.push(o)}return{match:i,error:a,errorMsg:a?n[l](i,r):we("")||""}}function ve(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=t&&t.getBoundingRectangle()||{left:0,top:0};t=t||{width:0,height:0};var a=e.getMetrics(),l=e.getScale(),s=o,u=i,c=n.blockOffsetScaleX||0,g=n.blockOffsetScaleY||0;return{x:(r.left-a.viewLeft+c*t.width)*l+s,y:(r.top-a.viewTop+a.flyoutHeight+g*t.height)*l+u}}function we(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=document.getElementById("alert-display");n||((n=document.createElement("div")).id="alert-display",n.style.fontSize="small",n.style.fontWeight="bold",n.style.borderColor="#000",n.style.backgroundColor="rgba(200, 200, 200, 0.5)",n.style.color="#f00",n.style.position="absolute",n.style.zIndex="1050",n.style.width="98%",n.style.minHeight="50px",n.style.left="0",n.style.bottom="0",n.style.textAlign="left",n.style.padding="1%",document.body.appendChild(n)),t?n.innerText=e:n.innerText+=e}String.prototype.JSSubstring=function(e,t){return e>=this.length||e===t?"":this.substring(e,t)},Blockly.Python.type_in_get_email_input=Blockly.JavaScript.type_in_get_email_input=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_get_email_input={validate:function(e){var t=de(e,[{token:"let",type:"terminal"},"email","=",{token:"GETINPUTBYASKING",type:"terminal"},"(",{token:/^"[^"]*$|^'[^']*$|^"[^"]*e[-]?mail[^"]*"|^'[^']*e[-]?[^']*mail'/i,type:"regexp"},")"],[ge.bind(null,fe,"LET"),function(){return fe("Be sure to name the variable you're declaring email to represent the fact that it's storing the entered e-mail address.")},function(){return fe("Remember to include an = after the variable email you're declaring to set it to the entered e-mail address.")},ge.bind(null,fe,"GETINPUTBYASKING"),function(e){return fe("You're missing an open parenthesis after "+e[3]+".")},function(){return fe('The message to supply to the user should be surrounded by " and " because you want it to be displayed as is.  Be sure it also includes e-mail in it so the user knows to enter an e-mail.')},function(e,t){return fe("You're missing a closing parenthesis for "+e[3]+".")}]);return t.error?t.match.join(""):e},init:function(){var e=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(t){if(e.getFieldValue("EXP").endsWith("\r")||e.getFieldValue("EXP").endsWith("\n")||e.getFieldValue("EXP").length>0&&"workspaceClick"===t.element){if(!e.validate(e.getFieldValue("EXP"))||!e.getFieldValue("EXP").endsWith(")")&&!e.getFieldValue("EXP").endsWith(";"))return;var n=Object(o.getParseTree)(e.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,e):fe("Try checking what you entered again for mistakes.")}}}},Blockly.Python.type_in_between_at_and_period=Blockly.JavaScript.type_in_between_at_and_period=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_between_at_and_period={validate:function(e){var t="coolcoder@google.com",n=de(e,[{token:"display",type:"terminal"},"(","email",".",{token:"GETTEXTFROMPOSITIONNUMBER",type:"terminal"},"(","email",".",{token:"FINDFIRSTOCCURRENCEOFTEXT",type:"terminal"},"(",'"',"@",'"',")","+","1",")",".",{token:"TOPOSITIONNUMBER",type:"terminal"},"(","email",".",{token:"FINDFIRSTOCCURRENCEOFTEXT",type:"terminal"},"(",'"',".",'"',")",")",")"],[ge.bind(null,fe,"DISPLAY"),function(e,t){return fe("You're missing an open parenthesis after "+e[0]+".")},function(){return fe("Be sure to include the variable email that you want to extract text from.")},function(){return fe("Be sure to include the . after the variable email you want to extract text from.")},ge.bind(null,fe,"GETTEXTFROMPOSITIONNUMBER"),function(e,t){return fe("You're missing an open parenthesis after "+e[4]+".")},function(e,t){t.startsWith("(")?fe("Although you *can* have multiple opening parentheses as shown above, it's not necessary in this instance.  When you first start programming, it may be good to include them to make sure operations are performed in the required order, but it can also make your code more difficult to read and correctly match the open parentheses with closing ones.  Before continuing, remove the extra opening parenthesis here since you don't need it."):fe("The starting position will be as before, *the position* of the @ sign in email + 1.  To get the position of the needle @ in the haystack email, we'll first need to specify the variable email to search.")},function(){return fe("Be sure to include the . after the variable email you want to search.")},ge.bind(null,fe,"FINDFIRSTOCCURRENCEOFTEXT"),function(e,t){return fe("You're missing an open parenthesis after "+e[8]+".")},function(e,t){t.startsWith("@")?fe("Since you're looking for the literal @ sign and don't want the computer to evaluate it in any way, you need to surround it with quotation marks."):fe("Since the needle you're going to use here is a literal string and not an expression, you need to surround it with quotation marks.  You're currently missing quotation marks.")},function(e,t){return fe("What string do you want to get the position of to help you determine where you should start? "+(-1===t.indexOf('"')?t:t.substring(0,t.indexOf('"')))+" is not correct.")},function(e,t){return fe("You're missing closing quotation marks for "+e[e.length-1]+".")},function(e,t){t.startsWith("+")?fe("Be careful where you place the +; you certainly don't want to add a number to the string @!  Instead you want to add a number to the *position* of the @ in email so it should go outside of the "+e[8]+"."):fe("You're missing a closing parenthesis for "+e[8]+".")},function(e,t){t.startsWith(")")||t.startsWith(".")?fe("You do not want to start extracting text at the @ exactly since you want to get the text *after* it.  As with before, you'll want to start at the position after so you'll need to do what arithmetic operation to the position number you get?"):t.replace(/\s/g,"").startsWith("--1")?fe("Add 1 instead of subtracting -1 as this makes your code clearer."):fe("As in the previous part, what operation and number should you use on the position of the @ you get from "+T2C.MSG.currentLanguage.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT+" to start at the position number after the position of the @?")},function(e,t){var n=parseInt(t);!isNaN(n)||t.startsWith("-")?fe("What number do you want to add to the position number of the first occurrence of the @ to get to the position you want to start at?  Change this to the correct number."):fe(T2C.MSG.currentLanguage.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT+" gives you back a number.  What specific *number* do you want to add to the position number of the first occurrence of the @ to get to the position you want to start at?  Change this to the correct number.")},function(e,t){return fe("You're missing a closing parenthesis for "+e[4]+" after the starting position number.")},function(){return fe("Be sure to include the . after the closing parenthesis after the starting position number before the next part.")},ge.bind(null,fe,"TOPOSITIONNUMBER"),function(e,t){return fe("You're missing an open parenthesis after "+e[e.length-1]+".")},function(e,n){var o=parseInt(n);isNaN(o)?ce(n,"FINDFIRSTOCCURRENCEOFTEXT")?fe("You'll need to refer to the variable name before using "+T2C.MSG.currentLanguage.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT+" so the computer knows which string to search through (haystack) to find the given needle."):fe("The correct place to stop extracting text will depend on the e-mail address.  For an email of "+t+", you'd use "+t.indexOf(".")+" (stopping before it), but for jdoe@foo.com, you'd want to use "+"jdoe@foo.com".indexOf(".")+".  Since it depends on some property of the entered e-mail address, start by entering the appropriate variable name here."):fe("The correct place to stop extracting text cannot be a specific number if you want it to work in general regardless of the e-mail address.  For an email of "+t+", you'd use "+t.indexOf(".")+" (stopping before it), but for jdoe@foo.com, you'd want to use "+"jdoe@foo.com".indexOf(".")+".  Since it depends on some property of the entered e-mail address, start by entering the appropriate variable name here instead of a specific number.")},function(){return fe("Be sure to include the . after the variable email you want to use to refer to one of its properties.")},function(e,t){ce(t,"LENGTH")?fe("If you stop immediately before the position given by the length of the variable email, you'll get the substring of all text after the @ but you only want to get the text in between the @ and ."):ce(t,"GETCHARACTERNUMBER")?fe(T2C.MSG.currentLanguage.TERMINAL_GETCHARACTERNUMBER+" gives you a *character* at a specific position; it won't give you a number, which you need for the position to stop before for "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+"."):ce(t,"GETTEXTFROMPOSITIONNUMBER")?fe(T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" gives you part of the text; you're already using that, but you want a number, which you need for the position to stop before."):fe("What property of email do you want to get to determine the ending position here?  Make sure you're spelling and capitalization (e.g., M versus m) are correct.")},function(e,t){return fe("You're missing an open parenthesis after "+e[e.length-1]+".")},function(e,t){t.startsWith(".")?fe("Since you're looking for the literal . and don't want the computer to evaluate it in any way, you need to surround it with quotation marks."):fe("Since the needle you're going to use here is a literal string and not an expression, you need to surround it with quotation marks.  You're currently missing quotation marks.")},function(e,t){return fe("What string do you want to get the position of to help you determine where you should end?"+(-1===t.indexOf('"')?t:t.substring(0,t.indexOf('"')))+" is not correct.")},function(e,t){return fe("You're missing closing quotation marks for "+e[e.length-1]+".")},function(e,t){t.startsWith("+")||t.startsWith("-")?fe("Be careful where you place the math operation; you certainly don't want to addto/subtract a number from a period!  Any math you may want to do to the *position* of the period in email (which may not be necessary) should go outside of the parentheses for the character to find in "+e[18]+"."):fe("You're missing a closing parenthesis for "+e[22]+".")},function(e,n){-1!==n.replace(/\s/g,"").indexOf("-1")?fe("Remember that "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" ends one position before the numerical expression given.  So for example, for an e-mail of "+t+", you'd want to use "+t.indexOf(".")+" so the last character you'd extract would be at position "+(t.indexOf(".")-1)+", mainly the "+t[t.indexOf(".")-1]+" before the period.  If you subtracted 1, you'd instead stop extracting text at position "+(t.indexOf(".")-2)+" so you'd instead incorrectly get the "+t[t.indexOf(".")-2]+" as the last character."):-1!==n.replace(/\s/g,"").indexOf("+1")?fe("Although "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" ends one position before the numerical expression given, you want to stop before the period anyway.  Adding 1 means you'll instead stop at the period.  For example, for an e-mail of "+t+" the period would be located at position "+t.indexOf(".")+" so by adding 1, you'd get "+(t.indexOf(".")+1)+", which means the last character you'd extract would be at position "+t.indexOf(".")+", mainly the period itself."):fe("What you're doing to the ending position of "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" seems incorrect or unnecessary.  Be sure to have examples in mind before deciding what to type.  If you're done, be sure to include a closing parenthesis for "+e[18]+" after the ending position.")},function(e,t){return fe("You're missing a closing parenthesis for "+e[0]+".")}]);return n.error?n.match.join(""):e},init:function(){var e=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(t){if(e.getFieldValue("EXP").endsWith("\r")||e.getFieldValue("EXP").endsWith("\n")||e.getFieldValue("EXP").length>0&&"workspaceClick"===t.element){if(!e.validate(e.getFieldValue("EXP"))||!e.getFieldValue("EXP").endsWith(")")&&!e.getFieldValue("EXP").endsWith(";"))return;var n=Object(o.getParseTree)(e.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,e):fe("Try checking what you entered again for mistakes.")}}}},String.prototype.JSSubstring=function(e,t){return e>=this.length||e===t?"":this.substring(e,t)},Blockly.Python.type_in_display_first_last_name=Blockly.JavaScript.type_in_display_first_last_name=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_display_first_last_name={validate:function(e){var t=_e(e,[{token:"display",type:"terminal"},"(","firstName","+",{token:/^" "|^' '/,type:"regexp"},"+","lastName",")"],[Te.bind(null,ke,"DISPLAY"),function(e,t){return ke("You're missing an open parenthesis after "+e[0]+".")},function(e,t){t.startsWith('"')||t.startsWith("'")?ke("If you're using variable names to be evaluated instead of displayed as is (e.g., displaying the text Jane instead of the text firstName), you don't want to use quotation marks."):ke('Remember the variable names are firstName and lastName.  If firstName = "Jane" and lastName = "Doe" and you want to display "Jane Doe", what should be displayed first?')},function(){return ke("How do you join strings together?")},function(e,t){"lastName".toLowerCase().startsWith(t.toLowerCase())||t.toLowerCase().startsWith("lastName".toLowerCase())?ke('Remember that you\'ll want a space between the first and last name; joining the two strings together without one would result in "JaneDoe" instead of say "Jane Doe".'):ke("Remember that you want to *literally* display a space between the first and last name.  What do you need to surround text with (including spaces) when you want to display something without evaluating it?")},function(){return ke("How do you join strings together?")},function(e,t){t.startsWith('"')||t.startsWith("'")?ke("If you're using variable names to be evaluated instead of displayed as is (e.g., displaying the text Doe instead of the text lastName), you don't want to use quotation marks."):ke('Remember the variable names are firstName and lastName.  If firstName = "Jane" and lastName = "Doe" and you want to display "Jane Doe", what should be displayed last?')},function(e,t){return ke("You're missing a closing parenthesis for "+e[0]+".")}]);return t.error?t.match.join(""):e},init:function(){var e=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(t){if(e.getFieldValue("EXP").endsWith("\r")||e.getFieldValue("EXP").endsWith("\n")||e.getFieldValue("EXP").length>0&&"workspaceClick"===t.element){if(!e.validate(e.getFieldValue("EXP"))||!e.getFieldValue("EXP").endsWith(")")&&!e.getFieldValue("EXP").endsWith(";"))return;var n=Object(o.getParseTree)(e.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,e):ke("Try checking what you entered again for mistakes.")}}}},Blockly.Python.type_in_set_last_name=Blockly.JavaScript.type_in_set_last_name=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_set_last_name={validate:function(e){"Doe, Jane".substring(0,"Doe, Jane".indexOf(",")),"Doe, Jane".substring("Doe, Jane".indexOf(",")+2),"Doe, Jane".substring(0,"Doe, Jane".indexOf(",")),"Doe, Jane".substring("Doe, Jane".indexOf(",")+2);var t=_e(e,[{token:"let",type:"terminal"},"lastName","=","enteredName",".",{token:"GETTEXTFROMPOSITIONNUMBER",type:"terminal"},"(","0",")",".",{token:"TOPOSITIONNUMBER",type:"terminal"},"(","commaPosition",")"],[Te.bind(null,ke,"LET"),function(){return ke("Be sure to name the variable you're declaring lastName to represent the fact that it should store the last name if the user entered the input in the correct form.  Since you use lastName in the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" statement, you need to use lastName here.")},function(){return ke("Remember to include an = after the variable lastName you're declaring to set it to the value that follows.")},function(){return ke("Be sure to include the variable enteredName that you want to extract text from.")},function(){return ke("Be sure to include the . after the variable enteredName you want to extract text from.")},Te.bind(null,ke,"GETTEXTFROMPOSITIONNUMBER"),function(e,t){return ke("You're missing an open parenthesis after "+e[5]+".")},function(e,t){t.startsWith("(")?ke("Although you *can* have multiple opening parentheses, it's not necessary in this instance.  When you first start programming, it may be good to include them to make sure operations are performed in the required order, but it can also make your code more difficult to read and correctly match the open parentheses with closing ones.  Before continuing, remove the extra opening parenthesis here since you don't need it."):1===parseInt(t)?ke("Remember that positions start at 0."):parseInt(t)?ke("The last name starts at the beginning of the string.  What number should you use if you want to start extracting text there?"):ke("The last name starts at the beginning of the string so regardless of the string the user enters, the numerical position will always be the same.  Use a specific number, accordingly.")},function(e,t){return ke("You're missing a closing parenthesis for "+e[5]+" after the starting position number.")},function(){return ke("Be sure to include the . after the closing parenthesis after the starting position number before the next part.")},Te.bind(null,ke,"TOPOSITIONNUMBER"),function(e,t){return ke("You're missing an open parenthesis after "+e[e.length-1]+".")},function(e,t){var n=parseInt(t);isNaN(n)?ye(t,"FINDFIRSTOCCURRENCEOFTEXT")?ke("You'd need to refer to the variable name before using "+T2C.MSG.currentLanguage.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT+" so the computer knows which string to search through (haystack) to find the given needle, but remember that you're already assuming you have a variable that stores the position of the comma, which might help..."):ke("For an entered name of Doe, Jane, you'd use "+"Doe, Jane".indexOf(",")+" (stopping before it), but for Torvalds, Linus, you'd want to use "+"Torvalds, Linus".indexOf(",")+".  Since it depends on the position of the comma, start by entering the appropriate variable name here."):ke("The correct place to stop extracting text cannot be a specific number if you want it to work in general regardless of the entered name.  For an entered name of Doe, Jane, you'd use "+"Doe, Jane".indexOf(",")+" (stopping before it), but for Torvalds, Linus, you'd want to use "+"Torvalds, Linus".indexOf(",")+".  Since it depends on the position of the comma, start by entering the appropriate variable name here instead of a specific number.")},function(e,t){-1!==t.replace(/\s/g,"").indexOf("-1")?ke("Remember that "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" ends one position before the numerical expression given.  So for example, for an entered name of Doe, Jane, you'd want to use "+"Doe, Jane".indexOf(",")+" so the last character you'd extract would be at position "+("Doe, Jane".indexOf(",")-1)+", mainly the "+"Doe, Jane"["Doe, Jane".indexOf(",")-1]+" before the comma.  If you subtracted 1, you'd instead stop extracting text at position "+("Doe, Jane".indexOf(",")-2)+" so you'd instead incorrectly get the "+"Doe, Jane"["Doe, Jane".indexOf(",")-2]+" as the last character."):-1!==t.replace(/\s/g,"").indexOf("+1")?ke("Although "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" ends one position before the numerical expression given, you want to stop before the comma anyway.  Adding 1 means you'll instead stop at the comma.  For example, for an entered name of Doe, Jane the comma would be located at position "+"Doe, Jane".indexOf(",")+" so by adding 1, you'd get "+("Doe, Jane".indexOf(",")+1)+", which means the last character you'd extract would be at position "+"Doe, Jane".indexOf(",")+", mainly the comma itself."):ke("What you're doing to the ending position of "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" seems incorrect or unnecessary.  Be sure to have examples in mind before deciding what to type.  If you're done, be sure to include a closing parenthesis for "+e[10]+" after the ending position.")}]);return t.error?t.match.join(""):e},init:function(){var e=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(t){if(e.getFieldValue("EXP").endsWith("\r")||e.getFieldValue("EXP").endsWith("\n")||e.getFieldValue("EXP").length>0&&"workspaceClick"===t.element){if(!e.validate(e.getFieldValue("EXP"))||!e.getFieldValue("EXP").endsWith(")")&&!e.getFieldValue("EXP").endsWith(";"))return;var n=Object(o.getParseTree)(e.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,e):ke("Try checking what you entered again for mistakes.")}}}},Blockly.Python.type_in_set_first_name=Blockly.JavaScript.type_in_set_first_name=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_set_first_name={validate:function(e){var t="Torvalds, Linus",n=("Doe, Jane".substring(0,"Doe, Jane".indexOf(",")),"Doe, Jane".substring("Doe, Jane".indexOf(",")+2)),o=(t.substring(0,t.indexOf(",")),t.substring(t.indexOf(",")+2)),i=_e(e,[{token:"let",type:"terminal"},"firstName","=","enteredName",".",{token:"GETTEXTFROMPOSITIONNUMBER",type:"terminal"},"(","commaPosition","+","2",")",".",{token:"TOPOSITIONNUMBER",type:"terminal"},"(","enteredName",".",{token:"LENGTH",type:"terminal"},")"],[Te.bind(null,ke,"LET"),function(){return ke("Be sure to name the variable you're declaring firstName to represent the fact that it should store the first name if the user entered the input in the correct form.  Since you use firstName in the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" statement, you need to use firstName here.")},function(){return ke("Remember to include an = after the variable firstName you're declaring to set it to first name.")},function(){return ke("Be sure to include the variable enteredName that you want to extract text from.")},function(){return ke("Be sure to include the . after the variable enteredName you want to extract text from.")},Te.bind(null,ke,"GETTEXTFROMPOSITIONNUMBER"),function(e,t){return ke("You're missing an open parenthesis after "+e[5]+".")},function(e,n){var o=parseInt(n);isNaN(o)?ye(n,"FINDFIRSTOCCURRENCEOFTEXT")?ke("You'd need to refer to the variable name before using "+T2C.MSG.currentLanguage.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT+" so the computer knows which string to search through (haystack) to find the given needle, but remember that you're already assuming you have a variable that stores the position of the comma, which might help..."):ke("For an entered name of Doe, Jane, you'd use "+("Doe, Jane".indexOf(",")+2)+", but for "+t+", you'd want to use "+(t.indexOf(",")+2)+".  Since it depends on the position of the comma, start by entering the appropriate variable name here."):ke("The correct place to start extracting text cannot be a specific number if you want it to work in general regardless of the entered name.  For an entered name of Doe, Jane, you'd use "+("Doe, Jane".indexOf(",")+2)+", but for "+t+", you'd want to use "+(t.indexOf(",")+2)+".  Since it depends on the position of the comma, start by entering the appropriate variable name here instead of a specific number.")},function(e,i){i.startsWith(")")||i.startsWith(".")?ke("You do not want to start extracting text at the comma exactly since you want to get the text *after* the space that follows it.  What arithmetic operation do you want to perform on the position number you get and with what number to start at the character after the space after the comma?  For Doe, Jane, the comma position will be at "+"Doe, Jane".indexOf(",")+" but you'll want to start at position "+("Doe, Jane".indexOf(",")+2)+", with "+n[0]+" whereas for "+t+", the comma position will be at "+t.indexOf(",")+" but you'll want to start at position "+(t.indexOf(",")+2)+", with "+o[0]+"."):i.replace(/\s/g,"").startsWith("--2")?ke("Add 2 instead of subtracting -2 as this makes your code clearer."):ke("What arithmetic operation do you want to perform on the position number you get and with what number to start at the character after the space after the comma?  For Doe, Jane, the comma position will be at "+"Doe, Jane".indexOf(",")+" but you'll want to start at position "+("Doe, Jane".indexOf(",")+2)+", with "+n[0]+" whereas for "+t+", the comma position will be at "+t.indexOf(",")+" but you'll want to start at position "+(t.indexOf(",")+2)+", with "+o[0]+".")},function(e,i){var r=parseInt(i);!isNaN(r)||i.startsWith("-")?ke(1===r?"Remember that there's a space after the comma and you don't want to start with the space.  What number do you want to add to the position number of the first occurrence of the , to get to the position you want to start at?  For Doe, Jane, the comma position will be at "+"Doe, Jane".indexOf(",")+" but you'll want to start at position "+("Doe, Jane".indexOf(",")+2)+", with "+n[0]+" whereas for "+t+", the comma position will be at "+t.indexOf(",")+" but you'll want to start at position "+(t.indexOf(",")+2)+", with "+o[0]+".  Change this to the correct number, accordingly.":"What number do you want to add to the position number of the first occurrence of the , to get to the position you want to start at?  For Doe, Jane, the comma position will be at "+"Doe, Jane".indexOf(",")+" but you'll want to start at position "+("Doe, Jane".indexOf(",")+2)+", with "+n[0]+" whereas for "+t+", the comma position will be at "+t.indexOf(",")+" but you'll want to start at position "+(t.indexOf(",")+2)+", with "+o[0]+".  Change this to the correct number, accordingly."):ke("If the name is entered correctly as e.g., Doe, Jane or "+t+", then the number of places the last name will be beyond the position of the comma will always be the same so you can enter a *specific* number.   For Doe, Jane, the comma position will be at "+"Doe, Jane".indexOf(",")+" but you'll want to start at position "+("Doe, Jane".indexOf(",")+2)+", with "+n[0]+" whereas for "+t+", the comma position will be at "+t.indexOf(",")+" but you'll want to start at position "+(t.indexOf(",")+2)+", with "+o[0]+".  Change your answer to the specific number you can add in both cases, accordingly.")},function(e,t){return ke("You're missing a closing parenthesis for "+e[5]+" after the starting position number.")},function(){return ke("Be sure to include the . after the closing parenthesis after the starting position number before the next part.")},Te.bind(null,ke,"TOPOSITIONNUMBER"),function(e,t){return ke("You're missing an open parenthesis after "+e[e.length-1]+".")},function(e,n){var o=parseInt(n);isNaN(o)?n.startsWith("commaPosition")||"commaPosition".startsWith(n)?ke("You don't want to stop extracting text at commaPosition, do you?"):ke("If entered correctly, the end of the first name will be at the end of the entered string.  For Doe, Jane, you'd use "+"Doe, Jane".length+" while for "+t+", you'd use "+t.length+", the position number after the last character.  Since this position number will depend on something about the entered name, your answer should refer to it."):ke("The stopping position will not always be at position "+o+".  Instead, this position will depend on something about the entered name so your answer should refer to it.")},function(){return ke("Be sure to include the . after the variable enteredName you want to use.")},function(e,n){return ke("If entered correctly, the end of the first name will be at the end of the entered string.  For Doe, Jane, you'd use "+"Doe, Jane".length+" while for "+t+", you'd use "+t.length+", the position number after the last character.  Do you remember how you can get these positions from the entered name?")},function(e,t){-1!==t.replace(/\s/g,"").indexOf("-1")?ke("Remember that "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" ends one position before the numerical expression given.  So for example, for an enteredName of Doe, Jane, sampleInput.length - 1 would be "+("Doe, Jane".length-1)+", which means you'd extract the text ending with the "+"Doe, Jane".charAt("Doe, Jane".length-2)+" instead of the last character of "+"Doe, Jane".charAt("Doe, Jane".length-1)+"."):-1!==t.replace(/\s/g,"").indexOf("+1")?ke("For an enteredName of Doe, Jane, enteredName.length + 1 would be "+("Doe, Jane".length+1)+", but there is no character at this position since positions start at 0."):ke("What you're doing to the "+T2C.MSG.currentLanguage.TERMINAL_LENGTH+" seems incorrect.  Be sure to have examples in mind before deciding what to type.  For example, for Doe, Jane, the length is "+"Doe, Jane".length+" and you want to go up to position "+"Doe, Jane".length+" (since you'd stop extracting at character "+("Doe, Jane".length-1)+").  If you're done, be sure to include a closing parenthesis for "+e[12]+" after the ending position.")}]);return i.error?i.match.join(""):e},init:function(){var e=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(t){if(e.getFieldValue("EXP").endsWith("\r")||e.getFieldValue("EXP").endsWith("\n")||e.getFieldValue("EXP").length>0&&"workspaceClick"===t.element){if(!e.validate(e.getFieldValue("EXP"))||!e.getFieldValue("EXP").endsWith(")")&&!e.getFieldValue("EXP").endsWith(";"))return;var n=Object(o.getParseTree)(e.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,e):ke("Try checking what you entered again for mistakes.")}}}},Blockly.Python.type_in_set_comma_pos=Blockly.JavaScript.type_in_set_comma_pos=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_set_comma_pos={validate:function(e){var t=_e(e,[{token:"let",type:"terminal"},"commaPosition","=","enteredName",".",{token:"FINDFIRSTOCCURRENCEOFTEXT",type:"terminal"},"(",{token:/",[ ]?"|',[ ]?'/,type:"regexp"},")"],[Te.bind(null,ke,"LET"),function(){return ke("Be sure to name the variable you're declaring commaPosition to represent the fact that it should store the position of the comma.  Since you use commaPosition in the assignment of firstName and lastName, you need to use commaPosition here as well.")},function(){return ke("Remember to include an = after the variable commaPosition you're declaring to set it to a value.")},function(){return ke("Be sure to include the variable enteredName that you want to get the position of the comma from.")},function(){return ke("Be sure to include the . after the variable enteredName you want to get the comma from.")},Te.bind(null,ke,"FINDFIRSTOCCURRENCEOFTEXT"),function(e,t){return ke("You're missing an open parenthesis after "+e[5]+".")},function(e,t){t.startsWith(",")?ke("Since you're looking for the literal , and don't want the computer to evaluate it in any way, you need to surround it with quotation marks."):t.startsWith("'")||t.startsWith('"')?","!==t[1]?ke("What string literal are you getting the position for?"):ke("You're only looking for the comma, correct?  If so, remember to close the quotation marks."):ke("Since the needle you're going to use here is a literal string and not an expression, you need to surround it with quotation marks.  You're currently missing quotation marks.")},function(e,t){return ke("You're missing a closing parenthesis for "+e[5]+".")}]);return t.error?t.match.join(""):e},init:function(){var e=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(t){if(e.getFieldValue("EXP").endsWith("\r")||e.getFieldValue("EXP").endsWith("\n")||e.getFieldValue("EXP").length>0&&"workspaceClick"===t.element){if(!e.validate(e.getFieldValue("EXP"))||!e.getFieldValue("EXP").endsWith(")")&&!e.getFieldValue("EXP").endsWith(";"))return;var n=Object(o.getParseTree)(e.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,e):ke("Try checking what you entered again for mistakes.")}}}},Blockly.Python.type_in_get_last_first_name_input=Blockly.JavaScript.type_in_get_last_first_name_input=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_get_last_first_name_input={validate:function(e){var t=_e(e,[{token:"let",type:"terminal"},"enteredName","=",{token:"GETINPUTBYASKING",type:"terminal"},"(",{token:/^"[^"]*$|^'[^']*$|^"[^"]*name[^"]*"|^'[^']*name[^']*'/i,type:"regexp"},")"],[Te.bind(null,ke,"LET"),function(){return ke("Be sure to name the variable you're declaring enteredName to represent the fact that it's storing the entered name.")},function(){return ke("Remember to include an = after the variable enteredName you're declaring to set it to the entered name.")},Te.bind(null,ke,"GETINPUTBYASKING"),function(e){return ke("You're missing an open parenthesis after "+e[3]+".")},function(){return ke('The message to supply to the user should be surrounded by " and " because you want it to be displayed as is.  Be sure it also includes name in it so the user knows to enter a name.  You\'ll also want to indicate the form: last name, first name, perhaps with an example (e.g., Doe, Jane).')},function(e,t){return ke("You're missing a closing parenthesis for "+e[3]+".")}]);return t.error?t.match.join(""):e},init:function(){var e=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(t){if(e.getFieldValue("EXP").endsWith("\r")||e.getFieldValue("EXP").endsWith("\n")||e.getFieldValue("EXP").length>0&&"workspaceClick"===t.element){if(!e.validate(e.getFieldValue("EXP"))||!e.getFieldValue("EXP").endsWith(")")&&!e.getFieldValue("EXP").endsWith(";"))return;var n=Object(o.getParseTree)(e.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,e):ke("Try checking what you entered again for mistakes.")}}}},String.prototype.JSSubstring=function(e,t){return e>=this.length||e===t?"":this.substring(e,t)},Blockly.Python.type_in_get_input_with_s=Blockly.JavaScript.type_in_get_input_with_s=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_get_input_with_s={validate:function(e){var t=Ie(e,[{token:"let",type:"terminal"},"enteredTextWithS","=",T2C.MSG.JS.TERMINAL_GETINPUTBYASKING,"(",{token:/^"[^"]*$|^'[^']*$|^"[^"]*with an s[^"]*"|^'[^']*with an s[^']*'/i,type:"regexp"},")"],[Ae.bind(null,we,"LET"),function(){return we("Be sure to name the variable you're declaring enteredTextWithS.")},function(){return we("Remember to include an = after the variable enteredTextWithS to set it to a value.")},Ae.bind(null,we,"GETINPUTBYASKING"),function(e){return we("You're missing an open parenthesis after "+e[3]+".")},function(){return we("The message to supply to the user should be surrounded by \" and \" because you want it to be displayed as is.  Be sure it also includes the text 'with an s' in it so the user knows that the string he/she enters must contain an s.")},function(e,t){return we("You're missing a closing parenthesis for "+e[3]+".")}]);return t.error?t.match.join(""):e},init:function(){var e=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(t){if(e.getFieldValue("EXP").endsWith("\r")||e.getFieldValue("EXP").endsWith("\n")||e.getFieldValue("EXP").length>0&&"workspaceClick"===t.element){if(!e.validate(e.getFieldValue("EXP"))||!e.getFieldValue("EXP").endsWith(")")&&!e.getFieldValue("EXP").endsWith(";"))return;var n=Object(o.getParseTree)(e.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,e):we("Try checking what you entered again for mistakes.")}}}},Blockly.Python.type_in_set_s_pos=Blockly.JavaScript.type_in_set_s_pos=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_set_s_pos={validate:function(e){var t=Ie(e,[{token:"let",type:"terminal"},"sPosition","=","enteredTextWithS",".",T2C.MSG.JS.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT,"(",{token:/"s"|'s'/,type:"regexp"},")"],[Ae.bind(null,we,"LET"),function(){return we("Be sure to name the variable you're declaring _Position to represent the fact that it should store the position of the first _ (where _ is replaced with the character you're looking for).")},function(){return we("Remember to include an = after the variable sPosition you're declaring to set it to a value.")},function(){return we("Be sure to include the variable enteredTextWithS that you want to get the position of the s from.")},function(){return we("Be sure to include the . after the variable enteredTextWithS you want to get the position of the first s from.")},Ae.bind(null,we,"FINDFIRSTOCCURRENCEOFTEXT"),function(e,t){return we("You're missing an open parenthesis after "+e[5]+".")},function(e,t){t.startsWith("s")?we("Since you're looking for the literal s and don't want the computer to evaluate it in any way, you need to surround it with quotation marks."):t.startsWith("'")||t.startsWith('"')?"s"!==t[1]?we("What string literal are you getting the position for?"):we("You're only looking for the first s, correct?  If so, remember to close the quotation marks."):we("Since the needle you're going to use here is a literal string and not an expression, you need to surround it with quotation marks.  You're currently missing quotation marks.")},function(e,t){return we("You're missing a closing parenthesis for "+e[5]+".")}]);return t.error?t.match.join(""):e},init:function(){var e=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(t){if(e.getFieldValue("EXP").endsWith("\r")||e.getFieldValue("EXP").endsWith("\n")||e.getFieldValue("EXP").length>0&&"workspaceClick"===t.element){if(!e.validate(e.getFieldValue("EXP"))||!e.getFieldValue("EXP").endsWith(")")&&!e.getFieldValue("EXP").endsWith(";"))return;var n=Object(o.getParseTree)(e.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,e):we("Try checking what you entered again for mistakes.")}}}},Blockly.Python.type_in_set_before_s=Blockly.JavaScript.type_in_set_before_s=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_set_before_s={validate:function(e){var t="Mississippi",n=(t.substring(0,t.indexOf("s")),t.substring(t.indexOf("s")+1),t.substring(0,t.indexOf("s")),t.substring(t.indexOf("s")+1),Ie(e,[{token:"let",type:"terminal"},"beforeS","=","enteredTextWithS",".",T2C.MSG.JS.TERMINAL_GETTEXTFROMPOSITIONNUMBER,"(","0",",","sPosition",")"],[Ae.bind(null,we,"LET"),function(){return we("Be sure to name the variable you're declaring beforeS to represent the fact that it should store the text before the first occurrence of the s in the entered text.")},function(){return we("Remember to include an = after the variable beforeS you're declaring to set it to the value that follows.")},function(){return we("Be sure to include the variable enteredTextWithS that you want to extract text from.")},function(){return we("Be sure to include the . after the variable enteredTextWithS you want to extract text from.")},Ae.bind(null,we,"GETTEXTFROMPOSITIONNUMBER"),function(e,t){return we("You're missing an open parenthesis after "+e[5]+".")},function(e,t){t.startsWith("(")?we("Although you *can* have multiple opening parentheses, it's not necessary in this instance.  When you first start programming, it may be good to include them to make sure operations are performed in the required order, but it can also make your code more difficult to read and correctly match the open parentheses with closing ones.  Before continuing, remove the extra opening parenthesis here since you don't need it."):1===parseInt(t)?we("Remember that positions start at 0."):parseInt(t)?we("The text occurring before the first s starts at the beginning of the string.  What number should you use if you want to start extracting text there?"):we("The text occurring before the first s starts at the beginning of the string so regardless of the string the user enters, the numerical position will always be the same.  Use a specific number, accordingly.")},function(e){return we("You're missing a comma after the starting position.  In "+T2C.MSG.currentLanguage.LANGUAGE_NAME+", you put the starting and ending positions in the same parentheses when using "+e[5]+".  The comma is used to separate the two positions with the starting position first and the ending position second in order for the computer to know which is which.")},function(e,n){var o=parseInt(n);isNaN(o)?Ee(n,"FINDFIRSTOCCURRENCEOFTEXT")?we("You'd need to refer to the variable name before using "+T2C.MSG.currentLanguage.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT+" so the computer knows which string to search through (haystack) to find the given needle, but remember that you're already assuming you have a variable that stores the position of the first s, which might help..."):we("For an entered string of "+t+", you'd use "+t.indexOf("s")+" (stopping before it), but for sorry, you'd want to use "+"sorry".indexOf("s")+".  Since it depends on the position of the first s, start by entering the appropriate variable name here."):we("The correct place to stop extracting text cannot be a specific number if you want it to work in general regardless of the entered string with an s.  For an entered string of "+t+", you'd use "+t.indexOf("s")+" (stopping before it), but for sorry, you'd want to use "+"sorry".indexOf("s")+".  Since it depends on the position of the first s, start by entering the appropriate variable name here instead of a specific number.")},function(e,n){-1!==n.replace(/\s/g,"").indexOf("-1")?we("Remember that "+e[5]+" ends one position before the numerical expression given.  So for example, for an entered text of "+t+", you'd want to use "+t.indexOf("s")+" so the last character you'd extract would be at position "+(t.indexOf("s")-1)+", mainly the "+t[t.indexOf("s")-1]+" before the first s.  If you subtracted 1, you'd instead stop extracting text at position "+(t.indexOf("s")-2)+" so you'd instead incorrectly get the "+t[t.indexOf("s")-2]+" as the last character."):-1!==n.replace(/\s/g,"").indexOf("+1")?we("Although "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" ends one position before the numerical expression given, you want to stop before the first s anyway.  Adding 1 means you'll instead stop at the s.  For example, for an entered string of "+t+" the first s would be located at position "+t.indexOf("s")+" so by adding 1, you'd get "+(t.indexOf("s")+1)+", which means the last character you'd extract would be at position "+t.indexOf("s")+", mainly the s itself."):we("What you're doing to the ending position of "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" seems incorrect or unnecessary.  Be sure to have examples in mind before deciding what to type.  If you're done, be sure to include a closing parenthesis for "+e[5]+" after the ending position.")}]));return n.error?n.match.join(""):e},init:function(){var e=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(t){if(e.getFieldValue("EXP").endsWith("\r")||e.getFieldValue("EXP").endsWith("\n")||e.getFieldValue("EXP").length>0&&"workspaceClick"===t.element){if(!e.validate(e.getFieldValue("EXP"))||!e.getFieldValue("EXP").endsWith(")")&&!e.getFieldValue("EXP").endsWith(";"))return;var n=Object(o.getParseTree)(e.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,e):we("Try checking what you entered again for mistakes.")}}}},Blockly.Python.type_in_set_after_s=Blockly.JavaScript.type_in_set_after_s=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_set_after_s={validate:function(e){var t="Mississippi",n=(t.substring(0,t.indexOf("s")),t.substring(t.indexOf("s")+1)),o=("sorry".substring(0,t.indexOf("s")),"sorry".substring(t.indexOf("s")+1)),i=Ie(e,[{token:"let",type:"terminal"},"afterS","=","enteredTextWithS",".",T2C.MSG.JS.TERMINAL_GETTEXTFROMPOSITIONNUMBER,"(","sPosition","+","1",",","enteredTextWithS",".",{token:"LENGTH",type:"terminal"},")"],[Ae.bind(null,we,"LET"),function(){return we("Be sure to name the variable you're declaring afterS to represent the fact that it should store the text after the s from the user input.")},function(){return we("Remember to include an = after the variable afterS you're declaring to set it to the value that follows.")},function(){return we("Be sure to include the variable enteredTextWithS that you want to extract text from.")},function(){return we("Be sure to include the . after the variable enteredTextWithS you want to extract text from.")},Ae.bind(null,we,"GETTEXTFROMPOSITIONNUMBER"),function(e,t){return we("You're missing an open parenthesis after "+e[5]+".")},function(e,n){var o=parseInt(n);isNaN(o)?Ee(n,"FINDFIRSTOCCURRENCEOFTEXT")?we("You'd need to refer to the variable name before using "+T2C.MSG.currentLanguage.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT+" so the computer knows which string to search through (haystack) to find the given needle, but remember that you already have a variable that stores the position of the first s, which might help..."):we("For an entered string of "+t+", you'd use "+(t.indexOf("s")+1)+", but for sorry, you'd want to use "+("sorry".indexOf("s")+1)+".  Since it depends on the position of the first s, start by entering the appropriate variable name here."):we("The correct place to start extracting text cannot be a specific number if you want it to work in general regardless of the entered string containing an s.  For an entered string of "+t+", you'd use "+(t.indexOf("s")+1)+", but for sorry, you'd want to use "+("sorry".indexOf("s")+1)+".  Since it depends on the position of the s, start by entering the appropriate variable name here instead of a specific number.")},function(e,i){i.startsWith(")")||i.startsWith(",")?we("You do not want to start extracting text at the first occurrence of the s exactly since you want to get the text that immediately follows it.  What arithmetic operation do you want to perform on the position number you get and with what number to start at the character after the s?  For "+t+", the position of the first s will be at "+t.indexOf("s")+" but you'll want to start at position "+(t.indexOf("s")+1)+", with the second "+n[0]+" whereas for sorry, the position of the first s will be at "+"sorry".indexOf("s")+" but you'll want to start at position "+("sorry".indexOf("s")+1)+", with "+o[0]+"."):i.replace(/\s/g,"").startsWith("--1")?we("Add 1 instead of subtracting -1 as this makes your code clearer."):we("What arithmetic operation do you want to perform on the position number you get and with what number to start at the character after the s?  For "+t+", the position of the first s will be at "+t.indexOf("s")+" but you'll want to start at position "+(t.indexOf("s")+1)+", with the second "+n[0]+" whereas for sorry, the position of the first s will be at "+"sorry".indexOf("s")+" but you'll want to start at position "+("sorry".indexOf("s")+1)+", with "+o[0]+".")},function(e,i){var r=parseInt(i);!isNaN(r)||i.startsWith("-")?we("What number do you want to add to the position number of the first occurrence of the s to get to the position you want to start at?  For "+t+", the position of the first s will be at "+t.indexOf("s")+" but you'll want to start at position "+(t.indexOf("s")+1)+", with "+n[0]+" whereas for sorry, the position of the first s will be at "+"sorry".indexOf("s")+" but you'll want to start at position "+("sorry".indexOf("s")+1)+", with "+o[1]+".  Change this to the correct number, accordingly."):we("If the user enters a string with an s such as e.g., "+t+" or sorry, then the number of places the last name will be beyond the position of the first s will always be the same so you can enter a *specific* number.   For "+t+", the position of the first s will be at "+t.indexOf("s")+" but you'll want to start at position "+(t.indexOf("s")+1)+", with "+n[0]+" whereas for sorry, the position of the first s will be at "+"sorry".indexOf("s")+" but you'll want to start at position "+("sorry".indexOf("s")+1)+", with "+o[0]+".  Change your answer to the specific number you can add in both cases, accordingly.")},function(e){return we("You're missing a comma after the starting position.  In "+T2C.MSG.currentLanguage.LANGUAGE_NAME+", you put the starting and ending positions in the same parentheses when using "+e[5]+".  The comma is used to separate the two positions with the starting position first and the ending position second in order for the computer to know which is which.")},function(e,n){var o=parseInt(n);isNaN(o)?n.startsWith("sPosition")||"sPosition".startsWith(n)?we("You don't want to stop extracting text at sPosition, do you?"):we("If we want all of the characters after the first s, we won't stop extracting text until we get to the end of the string.  So for "+t+", you'd use "+t.length+" while for sorry, you'd use "+"sorry".length+", the position number after the last character.  Since this position number will depend on something about the entered string, your answer should refer to it."):we("The stopping position will not always be at position "+o+".  Instead, this position will depend on something about the entered string so your answer should refer to it.")},function(){return we("Be sure to include the . after the variable enteredTextWithS you want to use.")},function(e,n){return we("If we want all of the characters after the first s, we won't stop extracting text until we get to the end of the string.  For "+t+", you'd use "+t.length+" while for sorry, you'd use "+"sorry".length+", the position number after the last character.  Do you remember how you can get these positions from the entered string?")},function(e,n){-1!==n.replace(/\s/g,"").indexOf("-1")?we("Remember that "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" ends one position before the numerical expression given.  So for example, for an enteredTextWithS of "+t+", sampleInput.length - 1 would be "+(t.length-1)+", which means you'd extract the text ending with the "+t.charAt(t.length-2)+" instead of the last character of "+t.charAt(t.length-1)+"."):-1!==n.replace(/\s/g,"").indexOf("+1")?we("For an enteredTextWithS of "+t+", enteredTextWithS.length + 1 would be "+(t.length+1)+", but there is no character at this position since positions start at 0."):we("What you're doing to the "+T2C.MSG.currentLanguage.TERMINAL_LENGTH+" seems incorrect.  Be sure to have examples in mind before deciding what to type.  For example, for "+t+", the length is "+t.length+" and you want to go up to position "+t.length+" (since you'd stop extracting at character "+(t.length-1)+").  If you're done, be sure to include a closing parenthesis for "+e[5]+" after the ending position.")}]);return i.error?i.match.join(""):e},init:function(){var e=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(t){if(e.getFieldValue("EXP").endsWith("\r")||e.getFieldValue("EXP").endsWith("\n")||e.getFieldValue("EXP").length>0&&"workspaceClick"===t.element){if(!e.validate(e.getFieldValue("EXP"))||!e.getFieldValue("EXP").endsWith(")")&&!e.getFieldValue("EXP").endsWith(";"))return;var n=Object(o.getParseTree)(e.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,e):we("Try checking what you entered again for mistakes.")}}}},Blockly.Python.type_in_display_s_replaced_with_dollar=Blockly.JavaScript.type_in_display_s_replaced_with_dollar=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_display_s_replaced_with_dollar={validate:function(e){var t="Mississippi".substring(0,"Mississippi".indexOf("s")),n="Mississippi".substring("Mississippi".indexOf("s")+1),o=("sorry".substring(0,"Mississippi".indexOf("s")),"sorry".substring("Mississippi".indexOf("s")+1),t+"$"+n),i=Ie(e,[T2C.MSG.JS.TERMINAL_DISPLAY,"(","beforeS","+",{token:/^"\$"|^'\$'/,type:"regexp"},"+","afterS",")"],[Ae.bind(null,we,"DISPLAY"),function(e,t){return we("You're missing an open parenthesis after "+e[0]+".")},function(e,i){i.startsWith('"')||i.startsWith("'")?we("If you're using variable names to be evaluated instead of displayed as is (e.g., displaying the text Mi instead of the text beforeS), you don't want to use quotation marks."):we('Remember the variable names are beforeS and afterS.  If beforeS = "'+t+'" and afterS = "'+n+'" and you want to display "'+o+'", what should be displayed first?')},function(){return we("How do you join strings together?")},function(e,i){"afterS".toLowerCase().startsWith(i.toLowerCase())||i.toLowerCase().startsWith("lastName".toLowerCase())?we("Remember that you'll want a $ between what comes before and after the first s; joining the two strings together without one would result in \""+t+n+'" instead of say "'+o+'".'):we("Remember that you want to *literally* display a $ between what comes before and after the first s.  What do you need to surround text with when you want to display something without evaluating it?")},function(){return we("How do you join strings together?")},function(e,i){i.startsWith('"')||i.startsWith("'")?we("If you're using variable names to be evaluated instead of displayed as is (e.g., displaying the text "+n+" instead of the text afterS), you don't want to use quotation marks."):we('Remember the variable names are beforeS and afterS.  If beforeS = "'+t+'" and afterS = "'+n+'" and you want to display "'+o+'", what should be displayed last?')},function(e,t){return we("You're missing a closing parenthesis for "+e[0]+".")}]);return i.error?i.match.join(""):e},init:function(){var e=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(t){if(e.getFieldValue("EXP").endsWith("\r")||e.getFieldValue("EXP").endsWith("\n")||e.getFieldValue("EXP").length>0&&"workspaceClick"===t.element){if(!e.validate(e.getFieldValue("EXP"))||!e.getFieldValue("EXP").endsWith(")")&&!e.getFieldValue("EXP").endsWith(";"))return;var n=Object(o.getParseTree)(e.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,e):we("Try checking what you entered again for mistakes.")}}}};var Ne=[function(e,t){var n=e||new c,g=t||Blockly.getMainWorkspace();g.clear(),g.options.maxInstances={text_print:1,text:1,type_in_display_string_literal:1},g.setScale(1),Object(i.f)(g);var y=Array.from(document.querySelectorAll("rect")).filter((function(e){return e.getAttribute("fill-opacity")})),T=y[0],_=y[1];console.warn("TEXT",_);var b=document.createElement("div");function k(e){e.addTask(new r((function(){return document.getElementById("output-container").classList.contains("show-container")}),new u([new s((function(){return T2C.MSG.currentLanguage.BUTTON_RUN_CODE}),{startPosition:{x:document.getElementById("run-code-button").offsetLeft+document.getElementById("run-code-button").offsetWidth,y:document.getElementById("run-code-button").offsetTop+document.getElementById("run-code-button").offsetHeight}}),new l(b,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("run-code-button").offsetLeft+document.getElementById("run-code-button").offsetWidth/2,y:document.getElementById("run-code-button").offsetTop+document.getElementById("run-code-button").offsetHeight/2}})])))}b.innerText="👆",b.id="ptr",b.style.fontSize="x-large",b.style.position="absolute",b.style.zIndex="1001",document.getElementById("blockly-div").appendChild(b);var x=void 0,B=void 0,E="",A=!1,I=!1;return n.addTask(new r((function(){return g.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&Blockly.selected!==e}))}),new u([new s((function(){return"Drag the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block somewhere in the workspace."}),{startPosition:function(){return{x:0,y:document.getElementById("top-header").offsetHeight}}}),new a(b,{totalSteps:50,startPosition:{x:T.x.baseVal.value+T.width.baseVal.value/2,y:document.getElementById("top-header").offsetHeight+T.y.baseVal.value+T.height.baseVal.value/2},velocity:{x:0,y:2}})]))),n.addTask(new r((function(){return g.getAllBlocks().find((function(e){return"text"===e.type&&e.getParent()&&"text_print"===e.getParent().type}))}),new u([new s((function(){return"Drag the text block in the space in the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block."}),{startPosition:function(){return{x:0,y:document.getElementById("top-header").offsetHeight}}}),new a(b,{totalSteps:50,startPosition:{x:_.x.baseVal.value+_.width.baseVal.value/2,y:document.getElementById("top-header").offsetHeight+_.y.baseVal.value+T.height.baseVal.value/2},endPosition:function(){var e=g.getAllBlocks().find((function(e){return"text_print"===e.type||"js_text_print"===e.type}));return h(g,e,{blockOffsetScaleX:.5,blockOffsetScaleY:.5},b.offsetWidth/4,document.getElementById("top-header").offsetHeight-b.offsetHeight/4)}})]))),n.addTask(new r((function(){return g.getAllBlocks().find((function(e){return"text"===e.type&&e.getFieldValue("TEXT")}))}),new u([new s((function(){return"Click on the area between the quotation marks in the text block and "+T2C.MSG.currentLanguage.TYPE_SOMETHING}),{startPosition:function(){var e=g.getAllBlocks().find((function(e){return"text"===e.type}));return h(g,e,{blockOffsetScaleX:.5,blockOffsetScaleY:1},b.offsetWidth,document.getElementById("top-header").offsetHeight+b.offsetHeight)}}),new l(b,{totalSteps:100,toggleSteps:25,startPosition:function(){var e=g.getAllBlocks().find((function(e){return"text"===e.type}));return h(g,e,{blockOffsetScaleX:.5,blockOffsetScaleY:1},-b.offsetWidth/4,document.getElementById("top-header").offsetHeight)}})]))),k(n),m(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔ Congratulations! You just created and ran your first program!"),f(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),p();var e=document.createElement("block");e.setAttribute("type","type_in_display_string_literal"),document.getElementById("toolbox").prepend(e),g.options.maxInstances.type_in_display_string_literal=1,g.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new r((function(){return g.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&e.getNextBlock()&&"type_in_display_string_literal"===e.getNextBlock().type&&!g.isDragging()}))}),new u([new s((function(){return"Drag in the type-in-code block so its top groove connects to the point of the bottom of the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block."}),{startPosition:function(){return{x:0,y:document.getElementById("top-header").offsetHeight}}}),new a(b,{totalSteps:150,startPosition:function(){var e=d(0);return console.warn(e),{x:e.x.baseVal.value+e.width.baseVal.value/2,y:document.getElementById("top-header").offsetHeight+T.y.baseVal.value+T.height.baseVal.value/2}},endPosition:function(){var e=g.getAllBlocks().find((function(e){return"text_print"===e.type||"js_text_print"===e.type}));return h(g,e,{blockOffsetScaleX:0,blockOffsetScaleY:1},b.offsetWidth/4,document.getElementById("top-header").offsetHeight)}})]))),n.addTask(new r((function(){return g.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&e.getNextBlock()&&("text_print"===e.getNextBlock().type||"js_text_print"===e.getNextBlock().type)&&e.getNextBlock().getInputTargetBlock("TEXT")&&"text"===e.getNextBlock().getInputTargetBlock("TEXT").type}))}),new u([new s((function(){return"Type in code matching above block but with different text to display.  I.e., Type\n"+T2C.MSG.currentLanguage.TEXT_PRINT_TITLE.replace("%1",'"your new message"')+"\nreplacing your new message with whatever you want to display.  Be exact with parentheses, quotation marks, etc.  Tap off the block when you're done."}),{startPosition:function(){var e=g.getAllBlocks().find((function(e){return"type_in_display_string_literal"===e.type}));return h(g,e,{blockOffsetScaleX:.5,blockOffsetScaleY:1},b.offsetWidth,document.getElementById("top-header").offsetHeight+b.offsetHeight)}}),new l(b,{totalSteps:200,toggleSteps:50,startPosition:function(){var e=g.getAllBlocks().find((function(e){return"type_in_display_string_literal"===e.type}));return h(g,e,{blockOffsetScaleX:0,blockOffsetScaleY:1},0,document.getElementById("top-header").offsetHeight)}})]))),n.addTask(new r((function(){return document.getElementById("output-container").classList.contains("show-container")}),new u([{start:function(){g.options.maxInstances.type_in_display_string_literal=0,g.updateToolbox(document.getElementById("toolbox"))},isComplete:function(){return!0},animate:function(){return!0}},new s((function(){return T2C.MSG.currentLanguage.BUTTON_RUN_CODE}),{startPosition:{x:document.getElementById("run-code-button").offsetLeft+document.getElementById("run-code-button").offsetWidth,y:document.getElementById("run-code-button").offsetTop+document.getElementById("run-code-button").offsetHeight}}),new l(b,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("run-code-button").offsetLeft+document.getElementById("run-code-button").offsetWidth/2,y:document.getElementById("run-code-button").offsetTop+document.getElementById("run-code-button").offsetHeight/2}})]))),m(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔ Awesome! You just typed code for and ran your first program!"),f(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),p(),["variables_get","variables_set"].forEach((function(e){var t=document.createElement("block");t.setAttribute("type",e),document.getElementById("toolbox").prepend(t),g.options.maxInstances[e]=1})),g.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new r((function(){return g.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getNextBlock()&&("text_print"===e.getNextBlock().type||"js_text_print"===e.getNextBlock().type)}))}),new u([new s((function(){return"Drag in the "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable declaration block directly above the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block so its bottom point connects to the groove of the top of the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block."}),{startPosition:function(){return{x:0,y:document.getElementById("top-header").offsetHeight}}}),new a(b,{totalSteps:150,startPosition:function(){var e=d(0);return{x:e.x.baseVal.value+e.width.baseVal.value/2,y:document.getElementById("top-header").offsetHeight+e.y.baseVal.value+e.height.baseVal.value/2}},endPosition:function(){var e=g.getAllBlocks().find((function(e){return"text_print"===e.type||"js_text_print"===e.type}));return h(g,e,{blockOffsetScaleX:0,blockOffsetScaleY:0},b.offsetWidth/4,document.getElementById("top-header").offsetHeight)}})]))),n.addTask(new r((function(){return g.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getInputTargetBlock("VALUE")&&"text"===e.getInputTargetBlock("VALUE").type}))}),new u([new s((function(){return"Drag the text from inside the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block to the inside of the "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable declaration block directly above it so the variable stores the text."}),{startPosition:function(){return{x:0,y:document.getElementById("top-header").offsetHeight}}}),new a(b,{totalSteps:150,startPosition:function(){var e=g.getAllBlocks().find((function(e){return"text"===e.type}));return e.getBoundingRectangle(),h(g,e,{blockOffsetScaleX:.5,blockOffsetScaleY:.5},0,document.getElementById("top-header").offsetHeight)},endPosition:function(){var e=g.getAllBlocks().find((function(e){return"variables_set"===e.type}));return e.getBoundingRectangle(),h(g,e,{blockOffsetScaleX:.75,blockOffsetScaleY:.5},0,document.getElementById("top-header").offsetHeight)}})]))),n.addTask(new r((function(){return g.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&e.getInputTargetBlock("TEXT")&&"variables_get"===e.getInputTargetBlock("TEXT").type}))}),new u([new s((function(){var e=g.getAllBlocks().find((function(e){return"variables_set"===e.type})),t=g.getAllBlocks().find((function(t){return"text"===t.type&&t.getParent()===e})),n=e?e.getField("VAR").getText():"item",o=t?t.getFieldValue("TEXT"):"";return"Drag the variable get block from the toolbox to the inside of the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block.  This will cause the variable the text is set to ("+o+") to display.  (The computer knows to display its value instead of the literal text "+n+" because it is not surrounded by quotation marks."}),{startPosition:function(){return{x:0,y:document.getElementById("top-header").offsetHeight}}}),new a(b,{totalSteps:150,startPosition:function(){var e=d(1);return{x:e.x.baseVal.value+e.width.baseVal.value/2,y:document.getElementById("top-header").offsetHeight+e.y.baseVal.value+e.height.baseVal.value/2}},endPosition:function(){var e=g.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&!e.getInputTargetBlock("TEXT")}));return h(g,e,{blockOffsetScaleX:.5,blockOffsetScaleY:.5},b.offsetWidth/4,document.getElementById("top-header").offsetHeight)}})]))),k(n),m(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("👍 Great!  Notice how the output is the same as before, but in this program, we store one of the lines of text to display in a variable first.  Variables are useful for storing stuff we'll want to use later."),f(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),p();var e=document.createElement("block");e.setAttribute("type","text_input"),document.getElementById("toolbox").prepend(e),g.options.maxInstances.text_input=1,g.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new r((function(){return g.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getInputTargetBlock("VALUE")&&("text_input"===e.getInputTargetBlock("VALUE").type||"js_text_input"===e.getInputTargetBlock("VALUE").type)}))}),new u([new s((function(){var e=g.getAllBlocks().find((function(e){return"variables_set"===e.type})),t=g.getAllBlocks().find((function(e){return"text_input"===e.type||"js_text_input"===e.type})),n=g.getAllBlocks().find((function(n){return"text"===n.type&&(n.getParent()===e||n.getParent()===t)})),o=e?e.getField("VAR").getText():"item",i=n?n.getFieldValue("TEXT"):"";return"Drag the "+T2C.MSG.currentLanguage.TERMINAL_GETINPUTBYASKING+" block inside the "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block and move the text block that currently resides there inside the new "+T2C.MSG.currentLanguage.TERMINAL_GETINPUTBYASKING+" block.  This will ask the user for text with the message "+i+" and store whatever the user types in the variable "+o+"."}),{startPosition:function(){return{x:0,y:document.getElementById("top-header").offsetHeight}}}),new a(b,{totalSteps:150,startPosition:function(){var e=d(0);return{x:e.x.baseVal.value+e.width.baseVal.value/2,y:document.getElementById("top-header").offsetHeight+e.y.baseVal.value+e.height.baseVal.value/2}},endPosition:function(){var e=g.getAllBlocks().find((function(e){return"variables_set"===e.type}));return h(g,e,{blockOffsetScaleX:.75,blockOffsetScaleY:.5},0,document.getElementById("top-header").offsetHeight)}})]))),n.addTask(new r((function(){return g.getAllBlocks().find((function(e){return"variables_set"===e.type&&"firstName"===e.getField("VAR").getText()}))}),new u([new s((function(){return"You will be asking the user for his/her first name, and this variable will store it.  Rename the variable:\nfirstName\nThis variable is in camel case, which is a convention in Python and JavaScript.  This means that the first letter of each word after the first is capitalized."}),{startPosition:function(){var e=g.getAllBlocks().find((function(e){return"variables_set"===e.type}));return h(g,e,{blockOffsetScaleX:0,blockOffsetScaleY:1},b.offsetWidth,document.getElementById("top-header").offsetHeight)}}),new l(b,{totalSteps:100,toggleSteps:25,startPosition:function(){var e=g.getAllBlocks().find((function(e){return"variables_set"===e.type}));return h(g,e,{blockOffsetScaleX:0,blockOffsetScaleY:.5},b.offsetWidth,document.getElementById("top-header").offsetHeight)}})]))),n.addTask(new r((function(){return g.getAllBlocks().find((function(e){return"text"===e.type&&e.getParent()&&("text_input"===e.getParent().type||"js_text_input"===e.getParent().type)&&(e.getFieldValue("TEXT").toLowerCase().includes("name ")||e.getFieldValue("TEXT").toLowerCase().includes(" name"))}))}),new u([new s((function(){return"This text is the message the user will receive asking for his/her name.  Write a message asking the user for his/her name.  Unlike the variable name which cannot have spaces in most programming languages, the message will be seen by the user and should have spaces.  The variable will store the name your user enters."}),{startPosition:function(){var e=g.getAllBlocks().find((function(e){return"text"===e.type&&e.getParent()&&("text_input"===e.getParent().type||"js_text_input"===e.getParent().type)}));return h(g,e,{blockOffsetScaleX:.5,blockOffsetScaleY:1},b.offsetWidth,document.getElementById("top-header").offsetHeight)}}),new l(b,{totalSteps:100,toggleSteps:25,startPosition:function(){var e=g.getAllBlocks().find((function(e){return"text"===e.type&&e.getParent()&&("text_input"===e.getParent().type||"js_text_input"===e.getParent().type)}));return e.getBoundingRectangle(),h(g,e,{blockOffsetScaleX:.5,blockOffsetScaleY:.5},-b.offsetWidth/4,document.getElementById("top-header").offsetHeight)}})]))),k(n),m(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("👍 Cool!  Notice how the output includes what you typed in for your first name.  If you run it again and type in something different, you'll see this different name."),f(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),p();var e=document.createElement("block");e.setAttribute("type","t2c_text_join"),document.getElementById("toolbox").prepend(e),g.options.maxInstances.t2c_text_join=1,g.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new r((function(){return g.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&e.getInputTargetBlock("TEXT")&&"t2c_text_join"===e.getInputTargetBlock("TEXT").type}))}),new u([new s((function(){var e=g.getAllBlocks().find((function(e){return"variables_get"===e.type})),t=g.getAllBlocks().find((function(e){return"text_print"===e.type||"js_text_print"===e.type})),n=g.getAllBlocks().find((function(e){return"text"===e.type&&e.getParent()===t})),o=e?e.getField("VAR").getText():"item",i=n?n.getFieldValue("TEXT"):"";return"Drag the + block inside the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block, replacing the variable "+o+" get block currently inside it.  The + is used to join text expressions together (also called string concatenation).  We will join the text "+i+" currently appearing below with the value of the variable "+o+", which is whatever the user types in and use the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block to display the result on a single line."}),{startPosition:function(){return{x:0,y:document.getElementById("top-header").offsetHeight}}}),new a(b,{totalSteps:150,startPosition:function(){var e=d(0);return{x:e.x.baseVal.value+e.width.baseVal.value/2,y:document.getElementById("top-header").offsetHeight+e.y.baseVal.value+e.height.baseVal.value/2}},endPosition:function(){var e=g.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&e.getInputTargetBlock("TEXT")&&"variables_get"===e.getInputTargetBlock("TEXT").type}));return h(g,e,{blockOffsetScaleX:.5,blockOffsetScaleY:.5},0,document.getElementById("top-header").offsetHeight)}})]))),n.addTask(new r((function(){return g.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&e.getInputTargetBlock("TEXT")&&"t2c_text_join"===e.getInputTargetBlock("TEXT").type&&e.getInputTargetBlock("TEXT").getInputTargetBlock("A")&&"text"===e.getInputTargetBlock("TEXT").getInputTargetBlock("A").type}))}),new u([new s((function(){var e=g.getAllBlocks().find((function(e){return"variables_get"===e.type})),t=g.getAllBlocks().find((function(e){return"text"===e.type&&e.getParent()&&("text_print"===e.getParent().type||"js_text_print"===e.getParent().type)}));return e&&e.getField("VAR").getText(),"Drag the text "+(t?t.getFieldValue("TEXT"):"")+" appearing in the bottom "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block in the left space of the + block."}),{startPosition:function(){return{x:0,y:document.getElementById("top-header").offsetHeight}}}),new a(b,{totalSteps:150,startPosition:function(){var e=g.getAllBlocks().find((function(e){return"text"===e.type&&e.getParent()&&("text_print"===e.getParent().type||"text_print"===e.getParent().type)}));return h(g,e,{blockOffsetScaleX:.5,blockOffsetScaleY:.5},0,document.getElementById("top-header").offsetHeight)},endPosition:function(){var e=g.getAllBlocks().find((function(e){return"t2c_text_join"===e.type}));return h(g,e,{blockOffsetScaleX:.25,blockOffsetScaleY:.5},0,document.getElementById("top-header").offsetHeight)}})]))),n.addTask(new r((function(){return g.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&e.getInputTargetBlock("TEXT")&&"t2c_text_join"===e.getInputTargetBlock("TEXT").type&&e.getInputTargetBlock("TEXT").getInputTargetBlock("A")&&"text"===e.getInputTargetBlock("TEXT").getInputTargetBlock("A").type&&e.getInputTargetBlock("TEXT").getInputTargetBlock("B")&&"variables_get"===e.getInputTargetBlock("TEXT").getInputTargetBlock("B").type}))}),new u([new s((function(){var e=g.getAllBlocks().find((function(e){return"variables_get"===e.type}));return"Now drag the variable "+(e?e.getField("VAR").getText():"item")+" block inside the right space of the + block."}),{startPosition:function(){return{x:0,y:document.getElementById("top-header").offsetHeight}}}),new a(b,{totalSteps:150,startPosition:function(){var e=g.getAllBlocks().find((function(e){return"variables_get"===e.type}));return h(g,e,{blockOffsetScaleX:.5,blockOffsetScaleY:.5},0,document.getElementById("top-header").offsetHeight)},endPosition:function(){var e=g.getAllBlocks().find((function(e){return"t2c_text_join"===e.type}));return h(g,e,{blockOffsetScaleX:.75,blockOffsetScaleY:.5},0,document.getElementById("top-header").offsetHeight)}})]))),n.addTask(new r((function(){return 1===g.getAllBlocks().filter((function(e){return"text_print"===e.type||"js_text_print"===e.type})).length}),new u([new s((function(){return"Now drag the bottom "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block in the trashcan since you no longer need it."}),{startPosition:function(){return{x:0,y:document.getElementById("top-header").offsetHeight}}}),new a(b,{totalSteps:150,startPosition:function(){var e=g.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&!e.getInputTargetBlock("TEXT")}));return h(g,e,{blockOffsetScaleX:.5,blockOffsetScaleY:.5},0,document.getElementById("top-header").offsetHeight)},endPosition:function(){var e=g.trashcan.getClientRect();return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}})]))),k(n),m(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("👍 Great!  Notice how the + was used to concatenate or join together the literal message (in quotes) and the name the user enters (*NOT* in quotes)."),f(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),p();var e=document.createElement("block");e.setAttribute("type","type_in_welcome_message"),document.getElementById("toolbox").prepend(e),g.options.maxInstances.type_in_welcome_message=1,g.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new r((function(){return 1===g.getAllBlocks().filter((function(e){return"text_print"===e.type||"js_text_print"===e.type})).length&&0===g.getAllBlocks().filter((function(e){return"t2c_text_join"===e.type})).length&&0===g.getAllBlocks().filter((function(e){return"variables_get"===e.type})).length&&1===g.getAllBlocks().filter((function(e){return"text"===e.type})).length}),new u([new s((function(){return"Now drag the + block with the text and variable blocks inside of it into the trashcan.  Do *NOT* drag the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" statement block in the trashcan since we will be using an expression type-in block.  In JavaScript, an expression is just something that produces a value whereas a statement does not.  As a block, it connects inside such as +, a variable get, text, or "+T2C.MSG.currentLanguage.TERMINAL_GETINPUTBYASKING+"."}),{startPosition:function(){return{x:0,y:document.getElementById("top-header").offsetHeight}}}),new a(b,{totalSteps:150,startPosition:function(){var e=g.getAllBlocks().find((function(e){return"t2c_text_join"===e.type}));return h(g,e,{blockOffsetScaleX:.5,blockOffsetScaleY:.5},0,document.getElementById("top-header").offsetHeight)},endPosition:function(){var e=g.trashcan.getClientRect();return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}},finish:function(){g.options.maxInstances.t2c_text_join=0,g.options.maxInstances.variables_get=0,g.updateToolbox(document.getElementById("toolbox"))}})]))),n.addTask(new r((function(){return g.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&e.getInputTargetBlock("TEXT")&&"type_in_welcome_message"===e.getInputTargetBlock("TEXT").type}))}),new u([new s((function(){return"Now drag the type-in-expression block inside the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" one."}),{startPosition:function(){return{x:0,y:document.getElementById("top-header").offsetHeight}}}),new a(b,{totalSteps:150,startPosition:function(){var e=d(0);return{x:e.x.baseVal.value+e.width.baseVal.value/2,y:document.getElementById("top-header").offsetHeight+e.y.baseVal.value+e.height.baseVal.value/2}},endPosition:function(){var e=g.getAllBlocks().find((function(e){return"text_print"===e.type||"js_text_print"===e.type}));return h(g,e,{blockOffsetScaleX:.5,blockOffsetScaleY:.5},0,document.getElementById("top-header").offsetHeight)}})]))),n.addTask(new r((function(){var e=g.getAllBlocks().find((function(e){return"text_print"===e.type||"js_text_print"===e.type})),t=e.getInputTargetBlock("TEXT")&&"t2c_text_join"===e.getInputTargetBlock("TEXT").type&&e.getInputTargetBlock("TEXT"),n=t&&t.getInputTargetBlock("A"),o=t&&t.getInputTargetBlock("B");if(!n||!o)return!1;var i="t2c_text_join"===n.type?n.getInputTargetBlock("A"):n,r="t2c_text_join"===n.type?n.getInputTargetBlock("B"):"t2c_text_join"===o.type&&o.getInputTargetBlock("A"),a="t2c_text_join"===o.type?o.getInputTargetBlock("B"):o;return i&&"text"===i.type&&r&&"variables_get"===r.type&&"firstName"===r.getField("VAR").getText()&&a&&"text"===a.type}),new u([new s((function(){return"Write a message to welcome the user with his/her name with punctuation at the end.  To do this type:\n(1) Something like welcome *in quotes* because you want it to be displayed as is.\n(2) + firstName (+ to join text and firstName without the quotes to get the name the user typed in and not literally the text firstName)\n(3) + and a punctuation mark in quotes to tack on a punctuation symbol at the end."}),{startPosition:function(){var e=g.getAllBlocks().find((function(e){return"text_print"===e.type||"js_text_print"===e.type}));return h(g,e,{blockOffsetScaleX:1,blockOffsetScaleY:1},0,document.getElementById("top-header").offsetHeight)}}),new l(b,{totalSteps:100,toggleSteps:25,startPosition:function(){var e=g.getAllBlocks().find((function(e){return"type_in_welcome_message"===e.type}));return h(g,e,{blockOffsetScaleX:.5,blockOffsetScaleY:.5},0,document.getElementById("top-header").offsetHeight)},finish:function(){g.options.maxInstances.type_in_welcome_message=0,g.updateToolbox(document.getElementById("toolbox"))}})]))),k(n),m(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){var e=document.getElementById("load-save-text-code");alert("✔✔ Excellent!  You just wrote a program to welcome the user and along the way you learned some things about variables, getting input from the user, and joining together string literals and variables to produce output.  Mission 0 is just about complete; let's just make sure you can save your work and load it up later!  For extra credit, we'll show you what your code looks in pure JavaScript."),f(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),p(),e.addEventListener("click",(function(){I&&(E=document.getElementById("textCodeBox").value)})),document.getElementById("save-code-button").addEventListener("click",(function(){A=!1,I=!0,9===g.getAllBlocks().length?(B=Object(o.workspaceToLanguageCode)(g,T2C.MSG.currentLanguage)||document.getElementById("textCodeBox").value,x=Object(o.workspaceToXML)(g)||document.getElementById("xmlData").value):alert("Workspace changed, please restore what you originally had before saving")})),document.getElementById("load-code-button").addEventListener("click",(function(){A=!0,I=!1}))}})),n.addTask(new r((function(){return I}),new u([new s((function(){return T2C.MSG.currentLanguage.BUTTON_SAVE_TEXT_CODE}),{startPosition:{x:document.getElementById("save-code-button").offsetLeft+document.getElementById("save-code-button").offsetWidth,y:document.getElementById("save-code-button").offsetTop+document.getElementById("save-code-button").offsetHeight}}),new l(b,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("save-code-button").offsetLeft+document.getElementById("save-code-button").offsetWidth/2,y:document.getElementById("save-code-button").offsetTop+document.getElementById("save-code-button").offsetHeight/2}})]))),n.addTask(new r((function(){return E&&B&&E.replace(/\n|\r/g,"")===B.replace(/\n|\r/g,"")}),new u([new s((function(){return T2C.MSG.currentLanguage.BUTTON_SAVE_TEXT_CODE}),{startPosition:function(){return{x:document.getElementById("load-save-text-code").offsetLeft+document.getElementById("load-save-text-code").offsetWidth,y:document.getElementById("load-save-text-code").offsetTop+document.getElementById("load-save-text-code").offsetHeight}}}),new l(b,{totalSteps:100,toggleSteps:25,startPosition:function(){return{x:document.getElementById("load-save-text-code").offsetLeft+document.getElementById("load-save-text-code").offsetWidth/2,y:document.getElementById("load-save-text-code").offsetTop+document.getElementById("load-save-text-code").offsetHeight/2}}})]))),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("OK, now that you've copied the code, let's clear the workspace of the blocks and then load it (without reloading the page!) to confirm that everything works.  BE SURE NOT TO overwrite the clipboard until you load the code again or you'll lose your work!"),p()}})),n.addTask(new r((function(){return 0===g.getAllBlocks().length}),new u([new s((function(){return"Move all blocks to the trashcan or rightmouse click (hold down finger on phone) on an empty place in the workspace and select Delete."}),{startPosition:function(){return{x:50,y:document.getElementById("top-header").offsetHeight+g.getMetrics().flyoutHeight+100}}}),new l(b,{totalSteps:100,toggleSteps:25,startPosition:function(){var e=g.trashcan.getClientRect();return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}})]))),n.addTask(new r((function(){return A}),new u([new s((function(){return T2C.MSG.currentLanguage.BUTTON_LOAD_TEXT_CODE}),{startPosition:{x:document.getElementById("load-code-button").offsetLeft+document.getElementById("load-code-button").offsetWidth,y:document.getElementById("load-code-button").offsetTop+document.getElementById("load-code-button").offsetHeight}}),new l(b,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("load-code-button").offsetLeft+document.getElementById("load-code-button").offsetWidth/2,y:document.getElementById("load-code-button").offsetTop+document.getElementById("load-code-button").offsetHeight/2}})]))),n.addTask(new r((function(){return B.replace(/\n|\r/g,"")===document.getElementById("textCodeBox").value.replace(/\n|\r/g,"")}),new u([new s((function(){return"Paste the code you copied in this text box."}),{startPosition:function(){return{x:document.getElementById("textCodeBox").offsetLeft+document.getElementById("textCodeBox").offsetWidth/2,y:document.getElementById("textCodeBox").offsetTop+document.getElementById("textCodeBox").offsetHeight}}}),new l(b,{totalSteps:100,toggleSteps:25,startPosition:function(){return{x:document.getElementById("textCodeBox").offsetLeft+document.getElementById("textCodeBox").offsetWidth/2,y:document.getElementById("textCodeBox").offsetTop+document.getElementById("textCodeBox").offsetHeight/2}}})]))),n.addTask(new r((function(){return 9===g.getAllBlocks().length}),new u([new s((function(){return T2C.MSG.currentLanguage.BUTTON_LOAD_TEXT_CODE}),{startPosition:function(){return{x:document.getElementById("load-save-text-code").offsetLeft+document.getElementById("load-save-text-code").offsetWidth,y:document.getElementById("load-save-text-code").offsetTop+document.getElementById("load-save-text-code").offsetHeight}}}),new l(b,{totalSteps:100,toggleSteps:25,startPosition:function(){return{x:document.getElementById("load-save-text-code").offsetLeft+document.getElementById("load-save-text-code").offsetWidth/2,y:document.getElementById("load-save-text-code").offsetTop+document.getElementById("load-save-text-code").offsetHeight/2}}})]))),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("👍 Great! You can also save/load the information about the blocks (XML) from/to the second box.  This will lay out the blocks exactly as you had them in the workspace.  So let's try that now."),p(),document.getElementById("load-save-xml").addEventListener("click",(function(){I&&(E=document.getElementById("xmlData").value)}))}})),n.addTask(new r((function(){return I}),new u([new s((function(){return T2C.MSG.currentLanguage.BUTTON_SAVE_XML}),{startPosition:{x:document.getElementById("save-code-button").offsetLeft+document.getElementById("save-code-button").offsetWidth,y:document.getElementById("save-code-button").offsetTop+document.getElementById("save-code-button").offsetHeight}}),new l(b,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("save-code-button").offsetLeft+document.getElementById("save-code-button").offsetWidth/2,y:document.getElementById("save-code-button").offsetTop+document.getElementById("save-code-button").offsetHeight/2}})]))),n.addTask(new r((function(){return E&&x&&E.replace(/\n|\r/g,"")===x.replace(/\n|\r/g,"")}),new u([new s((function(){return T2C.MSG.currentLanguage.BUTTON_SAVE_XML}),{startPosition:function(){return{x:document.getElementById("load-save-xml").offsetLeft+document.getElementById("load-save-xml").offsetWidth,y:document.getElementById("load-save-xml").offsetTop+document.getElementById("load-save-xml").offsetHeight}}}),new l(b,{totalSteps:100,toggleSteps:25,startPosition:function(){return{x:document.getElementById("load-save-xml").offsetLeft+document.getElementById("load-save-xml").offsetWidth/2,y:document.getElementById("load-save-xml").offsetTop+document.getElementById("load-save-xml").offsetHeight/2}}})]))),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("OK, now that you've copied the XML for the blocks, let's clear the workspace of the blocks and then load it (without reloading the page!) to confirm that everything works.  BE SURE NOT TO overwrite the clipboard until you load the code again or you'll lose your work!"),p()}})),n.addTask(new r((function(){return 0===g.getAllBlocks().length}),new u([new s((function(){return"Move all blocks to the trashcan or rightmouse click (hold down finger on phone) on an empty place in the workspace and select Delete."}),{startPosition:function(){return{x:50,y:document.getElementById("top-header").offsetHeight+g.getMetrics().flyoutHeight+100}}}),new l(b,{totalSteps:100,toggleSteps:25,startPosition:function(){var e=g.trashcan.getClientRect();return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}})]))),n.addTask(new r((function(){return A}),new u([new s((function(){return T2C.MSG.currentLanguage.BUTTON_LOAD_XML}),{startPosition:{x:document.getElementById("load-code-button").offsetLeft+document.getElementById("load-code-button").offsetWidth,y:document.getElementById("load-code-button").offsetTop+document.getElementById("load-code-button").offsetHeight}}),new l(b,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("load-code-button").offsetLeft+document.getElementById("load-code-button").offsetWidth/2,y:document.getElementById("load-code-button").offsetTop+document.getElementById("load-code-button").offsetHeight/2}})]))),n.addTask(new r((function(){return x.replace(/\n|\r/g,"")===document.getElementById("xmlData").value.replace(/\n|\r/g,"")}),new u([new s((function(){return"Paste the XML you copied in this text box."}),{startPosition:function(){return{x:document.getElementById("xmlData").offsetLeft+document.getElementById("xmlData").offsetWidth/2,y:document.getElementById("xmlData").offsetTop+document.getElementById("xmlData").offsetHeight}}}),new l(b,{totalSteps:100,toggleSteps:25,startPosition:function(){return{x:document.getElementById("xmlData").offsetLeft+document.getElementById("xmlData").offsetWidth/2,y:document.getElementById("xmlData").offsetTop+document.getElementById("xmlData").offsetHeight/2}}})]))),n.addTask(new r((function(){return 9===g.getAllBlocks().length}),new u([new s((function(){return T2C.MSG.currentLanguage.BUTTON_LOAD_XML}),{startPosition:function(){return{x:document.getElementById("load-save-xml").offsetLeft+document.getElementById("load-save-xml").offsetWidth,y:document.getElementById("load-save-xml").offsetTop+document.getElementById("load-save-xml").offsetHeight}}}),new l(b,{totalSteps:100,toggleSteps:25,startPosition:function(){return{x:document.getElementById("load-save-xml").offsetLeft+document.getElementById("load-save-xml").offsetWidth/2,y:document.getElementById("load-save-xml").offsetTop+document.getElementById("load-save-xml").offsetHeight/2}}})]))),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("👍 Excellent! As the last part of this initial exercise, let's see how the blocks look in pure JavaScript."),p()}})),n.addTask(new r((function(){return"js"===document.getElementById("language").value}),new u([new s((function(){return"Select JavaScript and then see what happens to the toolbox and blocks."}),{startPosition:{x:document.getElementById("language").offsetLeft+document.getElementById("language").offsetWidth,y:document.getElementById("language").offsetTop+document.getElementById("language").offsetHeight}}),new l(b,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("language").offsetLeft+document.getElementById("language").offsetWidth/2,y:document.getElementById("language").offsetTop+document.getElementById("language").offsetHeight/2}})]))),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔✔✔ Congratulations!  You just completed Mission 0!  In your upcoming missions, you'll begin to solve problems without explicit instructions of how to use the blocks.")}})),n},function(e,t){var n=e||new c,o=t||Blockly.getMainWorkspace();!function(e){Array.from(document.getElementById("toolbox").children).forEach((function(e){return e.remove()})),e.options.maxInstances={},e.updateToolbox(document.getElementById("toolbox"))}(o),["variables_set","text","text_input"].forEach((function(e){k(o,e,!1),o.options.maxInstances[e]=1})),o.clear(),o.setScale(1),Object(i.f)(o);var a=Array.from(document.querySelectorAll("rect")).filter((function(e){return e.getAttribute("fill-opacity")})),g=(a[0],a[1]);console.warn("TEXT",g);var d=document.createElement("div");function h(e){e.addTask(new r((function(){return document.getElementById("output-container").classList.contains("show-container")}),new u([new s((function(){return T2C.MSG.currentLanguage.BUTTON_RUN_CODE}),{startPosition:{x:document.getElementById("run-code-button").offsetLeft+document.getElementById("run-code-button").offsetWidth,y:document.getElementById("run-code-button").offsetTop+document.getElementById("run-code-button").offsetHeight}}),new l(d,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("run-code-button").offsetLeft+document.getElementById("run-code-button").offsetWidth/2,y:document.getElementById("run-code-button").offsetTop+document.getElementById("run-code-button").offsetHeight/2}})])))}function f(e,t){var n=0;function o(){t.style.color=n%50<25?"#a00":"#000",++n<200&&requestAnimationFrame(o)}e.addTask(new r((function(){return n>=200}),{start:function(){t.style.verticalAlign="top",requestAnimationFrame(o)},isComplete:function(){return!0},animate:function(){return!0}}))}return d.innerText="👆",d.id="ptr",d.style.fontSize="x-large",d.style.position="absolute",d.style.zIndex="1001",document.getElementById("blockly-div").appendChild(d),n.addTask(new r((function(){var e=o.getAllBlocks().find((function(e){return"variables_set"===e.type})),t=o.getAllBlocks().find((function(e){return"text_input"===e.type||"js_text_input"===e.type})),n=o.getAllBlocks().find((function(e){return"text"===e.type}));return e&&t&&n&&"s"===e.getField("VAR").getText()&&e.getInputTargetBlock("VALUE")===t&&t.getInputTargetBlock("TEXT")===n&&n.getFieldValue("TEXT").includes("5")&&n.getFieldValue("TEXT").includes("letter")}),new s((function(){var e=o.getAllBlocks().find((function(e){return"variables_set"===e.type})),t=(o.getAllBlocks().find((function(e){return"text_input"===e.type||"js_text_input"===e.type})),o.getAllBlocks().find((function(e){return"text"===e.type})));if(e){var n=e.getField("VAR").getText();if("item"===n)return"You can change the variable name by clicking item and then selecting Rename variable...";if(n.includes("5")||n.includes("letter"))return"The variable name, which stores the value the user enters, should be s, not "+n+'.  The message you want to display to the user should be in the "" block';if("s"!==n)return"The variable name, which stores the value the user enters, should be s, not "+n+"."}if(t){var i=t.getFieldValue("TEXT");if(""===i)return"You can change the text by clicking the blank field and then typing the desired message.";if("s"===i)return"The text which is displayed to the user should contain 5 and letters; the variable name s should appear in the let block.";if(!i.includes("5")||!i.includes("letter"))return"Make sure the text which is displayed to the user contains 5 and letters so the user knows to enter a 5 letter word."}return e&&t&&e.getInputTargetBlock("VALUE")===t?"The variable should store what the user enters, which means you'll need to attach it to a getInputByAsking block.":"Drag in and assemble code blocks to ask the user for a 5-letter word, and store the input in a variable.  \nName the variable s AND\nbe sure that the message includes 5 and letters in it so the user knows to enter 5 letters."}),{startPosition:x(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),h(n),f(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔ Good, but notice there's no output yet.  That's because all we did is store what the user entered.  So now let's add code blocks to display it!"),_(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),b(),k(o,"text_print"),k(o,"variables_get"),o.options.maxInstances.text_print=1,o.options.maxInstances.variables_get=1,o.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new r((function(){var e=o.getAllBlocks().find((function(e){return"variables_set"===e.type})),t=o.getAllBlocks().find((function(e){return"text_print"===e.type||"js_text_print"===e.type})),n=o.getAllBlocks().find((function(e){return"variables_get"===e.type}));return e&&t&&n&&e.getNextBlock()&&e.getNextBlock()===t&&t.getInputTargetBlock("TEXT")===n&&"s"===n.getField("VAR").getText()}),new s((function(){var e=o.getAllBlocks().find((function(e){return"variables_set"===e.type})),t=o.getAllBlocks().find((function(e){return"text_print"===e.type||"js_text_print"===e.type})),n=o.getAllBlocks().find((function(e){return"variables_get"===e.type}));if(n&&"s"!==n.getField("VAR").getText())return"Make sure you change the variable name to s since that's what you want to display its value, which is what the user entered.";if(t){if(e){if(t.getNextBlock()&&t.getNextBlock()===e)return"Make sure the display block appears *after* (below) the variable set block.  Otherwise the computer would try to display what the user enters before he/she enters it!";if(!e.getNextBlock())return"Make sure to connect the display block below the let block above it.  This way the computer will ask the user for a string, store it in s and then display it!"}if(n&&!t.getInputTargetBlock("TEXT"))return"Place the s block inside the display statement to display its value!"}return"Now assemble the blocks to display the value of the variable that the user entered."}),{startPosition:x(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),h(n),f(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔ Great, so now that we echoed what the user entered, it's time for something new!  Let's now display the first letter of the user's word."),_(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),b(),k(o,"math_number"),k(o,"t2c_text_charat"),o.options.maxInstances.math_number=1,o.options.maxInstances.t2c_text_charat=1,o.options.maxInstances.text_print++,o.options.maxInstances.variables_get++,o.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new r((function(){var e=o.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&e.getInputTargetBlock("TEXT")&&"variables_get"===e.getInputTargetBlock("TEXT").type})),t=o.getAllBlocks().find((function(e){return"math_number"===e.type})),n=o.getAllBlocks().find((function(e){return"t2c_text_charat"===e.type||"js_text_charat"===e.type})),i=o.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&t!==e})),r=o.getAllBlocks().find((function(t){return"variables_get"===t.type&&t.getParent()!==e}));return e&&t&&n&&i&&r&&e.getNextBlock()&&e.getNextBlock()===i&&i.getInputTargetBlock("TEXT")===n&&"s"===r.getField("VAR").getText()&&n.getInputTargetBlock("VALUE")===r&&n.getInputTargetBlock("AT")===t&&0===t.getFieldValue("NUM")}),new s((function(){var e=o.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&e.getInputTargetBlock("TEXT")&&"variables_get"===e.getInputTargetBlock("TEXT").type})),t=o.getAllBlocks().find((function(e){return"math_number"===e.type})),n=o.getAllBlocks().find((function(e){return"t2c_text_charat"===e.type||"js_text_charat"===e.type})),i=o.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&t!==e})),r=o.getAllBlocks().find((function(t){return"variables_get"===t.type&&t.getParent()!==e}));if(i){if(i.getParent()!==e)return"Make sure to connect the new display statement below the previous one since you want to display word's initial letter after displaying the word itself.";if(i.getInputTargetBlock("TEXT")===t)return"You want to display the character at the initial position, not a number.  Use the "+T2C.MSG.currentLanguage.TERMINAL_GETCHARACTERNUMBER+" block inside the display.";if(i.getInputTargetBlock("TEXT")===r)return"You want to display the word's initial character, not the entire word.  Use the "+T2C.MSG.currentLanguage.TERMINAL_GETCHARACTERNUMBER+" block inside the display."}if(r&&"s"!==r.getField("VAR").getText())return"Make sure you change the variable name to s since you want its value's (user input's) initial letter.";if(n&&r&&n.getInputTargetBlock("AT")===r)return"The variable storing the text (s) that you want to get the character of should go in the left side of the "+T2C.MSG.currentLanguage.TERMINAL_GETCHARACTERNUMBER+" block.";if(t){if(1===t.getFieldValue("NUM"))return"Remember that positions of characters start at 0, not 1.";if(0!==t.getFieldValue("NUM"))return"Remember that you want a number representing the word's inital position.  Change the number accordingly."}return"The "+T2C.MSG.currentLanguage.TERMINAL_GETCHARACTERNUMBER+" block gets the single character (letter, number, punctuation mark, space, etc.) of the string of characters at the given numerical position, starting with 0.  (E.g., for \"pizza\", the 0th character is 'p', the 1st character is 'i', the 2nd character is 'z', etc.\n  Add a statement to display the entered string's initial character.\n\nThe string to get the character from goes in the left and the number to get goes in the right."}),{startPosition:x(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),h(n),f(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔ Excellent!  Now since you displayed the first character of the user's word, how about the last one?  But let's make it more interesting this time by having you type in the code to do this instead!  You ready?  Let's get to it!"),_(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),b(),k(o,"type_in_get_last_char_number"),o.options.maxInstances.type_in_get_last_char_number=1,o.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new r((function(){var e=o.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&e.getInputTargetBlock("TEXT")&&("t2c_text_charat"===e.getInputTargetBlock("TEXT").type||"js_text_charat"===e.getInputTargetBlock("TEXT").type)})),t=o.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&t.getParent()===e})),n=o.getAllBlocks().find((function(e){return"math_number"===e.type&&4===e.getFieldValue("NUM")})),i=o.getAllBlocks().find((function(e){return("t2c_text_charat"===e.type||"js_text_charat"===e.type)&&e.getInputTargetBlock("AT")===n&&e.getParent()===t})),r=o.getAllBlocks().find((function(e){return"variables_get"===e.type&&e.getParent()===i&&"s"===e.getField("VAR").getText()}));return e&&n&&i&&t&&r}),new s((function(){var e=o.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&e.getInputTargetBlock("TEXT")&&("t2c_text_charat"===e.getInputTargetBlock("TEXT").type||"js_text_charat"===e.getInputTargetBlock("TEXT").type)})),t=o.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&e.getInputTargetBlock("TEXT")&&("t2c_text_charat"===e.getInputTargetBlock("TEXT").type||"js_text_charat"===e.getInputTargetBlock("TEXT").type)&&e.getInputTargetBlock("TEXT").getInputTargetBlock("AT")&&"math_number"===e.getInputTargetBlock("TEXT").getInputTargetBlock("AT").type&&4===e.getInputTargetBlock("TEXT").getInputTargetBlock("AT").getFieldValue("NUM")}));return e&&t&&t.getParent()!==e?"Make sure to connect the new display statement below the previous one since you want to display word's last letter after displaying its first letter.":"Drag in the new type-in-code block from the toolbox below the statement that displays the inputted word's first character, and type in code to print its last character.\nThe code you type in should match the previous line except you'll use a different number."}),{startPosition:x(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),h(n),f(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){o.options.maxInstances.type_in_get_last_char_number=0,alert("✔✔👍 Outstanding!  So do you feel comfortable with the new "+T2C.MSG.currentLanguage.TERMINAL_GETCHARACTERNUMBER+" block yet?  You'll get some more practice with it in the next mission.  But for now, let's conclude Mission # 1 by making sure you remember how to save and load this code the next time you want to refer to it.  Let's save and load the block code."),_(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),b(),document.getElementById("save-code-button").addEventListener("click",(function(){E=!1,A=!0;var e=Blockly.Xml.workspaceToDom(o);B=Blockly.Xml.domToPrettyText(e)})),document.getElementById("load-code-button").addEventListener("click",(function(){E=!0,A=!1})),document.getElementById("load-save-xml").addEventListener("click",(function(){document.getElementById("load-save-text-code").textContent===T2C.MSG.currentLanguage.BUTTON_LOAD_TEXT_CODE?I=!0:v=!0}))}})),n.addTask(new r((function(){return A}),new u([new s((function(){return T2C.MSG.currentLanguage.BUTTON_SAVE_XML}),{startPosition:{x:document.getElementById("save-code-button").offsetLeft+document.getElementById("save-code-button").offsetWidth,y:document.getElementById("save-code-button").offsetTop+document.getElementById("save-code-button").offsetHeight}}),new l(d,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("save-code-button").offsetLeft+document.getElementById("save-code-button").offsetWidth/2,y:document.getElementById("save-code-button").offsetTop+document.getElementById("save-code-button").offsetHeight/2}})]))),n.addTask(new r((function(){return v}),new u([new s((function(){return T2C.MSG.currentLanguage.BUTTON_SAVE_XML}),{startPosition:function(){return{x:document.getElementById("load-save-xml").offsetLeft+document.getElementById("load-save-xml").offsetWidth,y:document.getElementById("load-save-xml").offsetTop+document.getElementById("load-save-xml").offsetHeight}}}),new l(d,{totalSteps:100,toggleSteps:25,startPosition:function(){return{x:document.getElementById("load-save-xml").offsetLeft+document.getElementById("load-save-xml").offsetWidth/2,y:document.getElementById("load-save-xml").offsetTop+document.getElementById("load-save-xml").offsetHeight/2}}})]))),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("OK, now that you've copied the XML for the blocks, let's clear the workspace of the blocks and then load it (without reloading the page!) to confirm that everything works.  BE SURE NOT TO overwrite the clipboard until you load the code again or you'll lose your work!"),b()}})),n.addTask(new r((function(){return 0===o.getAllBlocks().length}),new u([new s((function(){return"Move all blocks to the trashcan or rightmouse click (hold down finger on phone) on an empty place in the workspace and select Delete."}),{startPosition:function(){return{x:50,y:document.getElementById("top-header").offsetHeight+o.getMetrics().flyoutHeight+100}}}),new l(d,{totalSteps:100,toggleSteps:25,startPosition:function(){var e=o.trashcan.getClientRect();return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}})]))),n.addTask(new r((function(){return E}),new u([new s((function(){return T2C.MSG.currentLanguage.BUTTON_LOAD_XML}),{startPosition:{x:document.getElementById("load-code-button").offsetLeft+document.getElementById("load-code-button").offsetWidth,y:document.getElementById("load-code-button").offsetTop+document.getElementById("load-code-button").offsetHeight}}),new l(d,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("load-code-button").offsetLeft+document.getElementById("load-code-button").offsetWidth/2,y:document.getElementById("load-code-button").offsetTop+document.getElementById("load-code-button").offsetHeight/2}})]))),n.addTask(new r((function(){return B.replace(/\n|\r/g,"")===document.getElementById("xmlData").value.replace(/\n|\r/g,"")}),new u([new s((function(){return"Paste the XML you copied in this text box."}),{startPosition:function(){return{x:document.getElementById("xmlData").offsetLeft+document.getElementById("xmlData").offsetWidth/2,y:document.getElementById("xmlData").offsetTop+document.getElementById("xmlData").offsetHeight}}}),new l(d,{totalSteps:100,toggleSteps:25,startPosition:function(){return{x:document.getElementById("xmlData").offsetLeft+document.getElementById("xmlData").offsetWidth/2,y:document.getElementById("xmlData").offsetTop+document.getElementById("xmlData").offsetHeight/2}}})]))),n.addTask(new r((function(){return I&&13===o.getAllBlocks().length}),new u([new s((function(){return T2C.MSG.currentLanguage.BUTTON_LOAD_XML}),{startPosition:function(){return{x:document.getElementById("load-save-xml").offsetLeft+document.getElementById("load-save-xml").offsetWidth,y:document.getElementById("load-save-xml").offsetTop+document.getElementById("load-save-xml").offsetHeight}}}),new l(d,{totalSteps:100,toggleSteps:25,startPosition:function(){return{x:document.getElementById("load-save-xml").offsetLeft+document.getElementById("load-save-xml").offsetWidth/2,y:document.getElementById("load-save-xml").offsetTop+document.getElementById("load-save-xml").offsetHeight/2}}})]))),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔✔✔ Congratulations!  You just completed Mission 1!  In your upcoming mission, you'll get the last character for strings that may not have 5 letters with the help of some new blocks."),b()}})),n},function(e,t){var n=e||new c,o=t||Blockly.getMainWorkspace();!function(e){Array.from(document.getElementById("toolbox").children).forEach((function(e){return e.remove()})),e.options.maxInstances={},e.updateToolbox(document.getElementById("toolbox"))}(o),["variables_set","text","text_input"].forEach((function(e){S(o,e,!1),o.options.maxInstances[e]=1})),o.clear(),o.setScale(1),Object(i.f)(o);var a=Array.from(document.querySelectorAll("rect")).filter((function(e){return e.getAttribute("fill-opacity")})),g=(a[0],a[1]);console.warn("TEXT",g);var d=document.createElement("div");function h(e){e.addTask(new r((function(){return document.getElementById("output-container").classList.contains("show-container")}),new u([new s((function(){return T2C.MSG.currentLanguage.BUTTON_RUN_CODE}),{startPosition:{x:document.getElementById("run-code-button").offsetLeft+document.getElementById("run-code-button").offsetWidth,y:document.getElementById("run-code-button").offsetTop+document.getElementById("run-code-button").offsetHeight}}),new l(d,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("run-code-button").offsetLeft+document.getElementById("run-code-button").offsetWidth/2,y:document.getElementById("run-code-button").offsetTop+document.getElementById("run-code-button").offsetHeight/2}})])))}function f(e,t){var n=0;function o(){t.style.color=n%50<25?"#a00":"#000",++n<200&&requestAnimationFrame(o)}e.addTask(new r((function(){return n>=200}),{start:function(){t.style.verticalAlign="top",requestAnimationFrame(o)},isComplete:function(){return!0},animate:function(){return!0}}))}return d.innerText="👆",d.id="ptr",d.style.fontSize="x-large",d.style.position="absolute",d.style.zIndex="1001",document.getElementById("blockly-div").appendChild(d),n.addTask(new r((function(){var e=o.getAllBlocks().find((function(e){return"variables_set"===e.type})),t=o.getAllBlocks().find((function(e){return"text_input"===e.type||"js_text_input"===e.type})),n=o.getAllBlocks().find((function(e){return"text"===e.type}));return e&&t&&n&&e.getInputTargetBlock("VALUE")===t&&t.getInputTargetBlock("TEXT")===n&&n.getFieldValue("TEXT")&&!e.getField("VAR").getText().includes(" ")}),new s((function(){var e=o.getAllBlocks().find((function(e){return"variables_set"===e.type})),t=(o.getAllBlocks().find((function(e){return"text_input"===e.type||"js_text_input"===e.type})),o.getAllBlocks().find((function(e){return"text"===e.type})));return e&&e.getField("VAR").getText().includes(" ")?"Avoid spaces in your variable names as they won't be allowed if you program in languages such as JavaScript or Python.":t&&""===t.getFieldValue("TEXT")?"You can change the text by clicking the blank field and then typing the desired message.":e&&t&&e.getInputTargetBlock("VALUE")===t?"The variable should store what the user enters, which means you'll need to attach it to a getInputByAsking block.":"Drag in and assemble code blocks to ask the user for a string of any length, and store the input in a variable.  By string, we simply mean a series of characters, which can be numbers, letters, punctuation, or spaces.  Choose your own variable name and message this time."}),{startPosition:O(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),h(n),f(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔ Good, so as in the previous mission, we won't see any output because we only set a variable.  As before, let's display the string next."),w(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),N(),S(o,"text_print"),S(o,"variables_get"),o.options.maxInstances.text_print=1,o.options.maxInstances.variables_get=1,o.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new r((function(){var e=o.getAllBlocks().find((function(e){return"variables_set"===e.type})),t=o.getAllBlocks().find((function(e){return"text_print"===e.type||"js_text_print"===e.type})),n=o.getAllBlocks().find((function(e){return"variables_get"===e.type}));return e&&t&&n&&e.getNextBlock()&&e.getNextBlock()===t&&t.getInputTargetBlock("TEXT")===n&&n.getField("VAR").getText()===e.getField("VAR").getText()}),new s((function(){var e=o.getAllBlocks().find((function(e){return"variables_set"===e.type})),t=o.getAllBlocks().find((function(e){return"text_print"===e.type||"js_text_print"===e.type})),n=o.getAllBlocks().find((function(e){return"variables_get"===e.type}));if(n&&e&&n.getField("VAR").getText()!==e.getField("VAR").getText())return"Make sure the variable name you display matches the one you set to the value of the user's input so you display what the user entered.";if(t){if(e){if(t.getNextBlock()&&t.getNextBlock()===e)return"Make sure the display block appears *after* (below) the variable set block.  Otherwise the computer would try to display what the user enters before he/she enters it!";if(!e.getNextBlock())return"Make sure to connect the display block below the let block above it.  This way the computer will ask the user for a string, store it in s and then display it!"}if(n&&!t.getInputTargetBlock("TEXT"))return"Place the variable block inside the display statement to display its value!"}return"Now assemble the blocks to display the value of the variable that the user entered."}),{startPosition:O(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),h(n),f(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔ Great, so now that we echoed what the user entered, it's time for something new!  Let's display the number of characters in the string the user entered."),w(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),N(),S(o,"t2c_text_length"),o.options.maxInstances.t2c_text_length=1,o.options.maxInstances.text_print++,o.options.maxInstances.variables_get++,o.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new r((function(){var e=o.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&e.getInputTargetBlock("TEXT")&&"variables_get"===e.getInputTargetBlock("TEXT").type})),t=o.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&t!==e})),n=o.getAllBlocks().find((function(t){return"variables_get"===t.type&&t.getParent()!==e})),i=o.getAllBlocks().find((function(e){return"variables_set"===e.type})),r=o.getAllBlocks().find((function(e){return"t2c_text_length"===e.type}));return e&&t&&n&&r&&i&&e.getNextBlock()&&e.getNextBlock()===t&&t.getInputTargetBlock("TEXT")===r&&n.getField("VAR").getText()===i.getField("VAR").getText()&&r.getInputTargetBlock("VALUE")===n}),new s((function(){var e=o.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&e.getInputTargetBlock("TEXT")&&"variables_get"===e.getInputTargetBlock("TEXT").type})),t=o.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&t!==e})),n=o.getAllBlocks().find((function(t){return"variables_get"===t.type&&t.getParent()!==e})),i=o.getAllBlocks().find((function(e){return"variables_set"===e.type})),r=o.getAllBlocks().find((function(e){return"t2c_text_length"===e.type}));if(t){if(t.getParent()!==e)return"Make sure to connect the new display statement below the previous one since you want to display word's length after displaying the word itself.";if(t.getInputTargetBlock("TEXT")===n)return"You want to display the word's length, not the entire word.  Use the "+T2C.MSG.currentLanguage.TERMINAL_LENGTH+" block inside the display."}return n&&i&&n.getField("VAR").getText()!==i.getField("VAR").getText()?"Make sure the variable name you display matches the one you set to the value of the user's input so you display what the user entered.":r&&n&&r.getInputTargetBlock("VALUE")!==n?"Be sure to attach the variable block to the  "+T2C.MSG.currentLanguage.TERMINAL_LENGTH+" block to get the number of characters in the user input.":"The "+T2C.MSG.currentLanguage.TERMINAL_LENGTH+" block gets the number of characters in the provided string.  Unlike the "+T2C.MSG.currentLanguage.TERMINAL_GETCHARACTERNUMBER+' block though, the count starts at 1!  (E.g., for "pizza", the length would be 5.)\n  Add a statement to display the length of the given string.'}),{startPosition:O(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),h(n),f(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔ Great!  Now since you displayed the length of the user's word, can you display double its length instead for good measure?  We'll need a new arithmetic block for this."),w(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),N(),S(o,"math_number"),S(o,"math_arithmetic_basic"),o.options.maxInstances.math_number=1,o.options.maxInstances.math_arithmetic_basic=1,o.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new r((function(){var e=o.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&e.getInputTargetBlock("TEXT")&&"variables_get"===e.getInputTargetBlock("TEXT").type})),t=o.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&t!==e})),n=o.getAllBlocks().find((function(t){return"variables_get"===t.type&&t.getParent()!==e})),i=o.getAllBlocks().find((function(e){return"variables_set"===e.type})),r=o.getAllBlocks().find((function(e){return"t2c_text_length"===e.type})),a=o.getAllBlocks().find((function(e){return"math_arithmetic_basic"===e.type})),l=o.getAllBlocks().find((function(e){return"math_number"===e.type}));return e&&t&&n&&r&&i&&a&&l&&e.getNextBlock()&&e.getNextBlock()===t&&t.getInputTargetBlock("TEXT")===a&&n.getField("VAR").getText()===i.getField("VAR").getText()&&l.getParent()===a&&r.getParent()===a&&("MULTIPLY"===a.getFieldValue("OP")&&2===l.getFieldValue("NUM")||"DIVIDE"===a.getFieldValue("OP")&&.5===l.getFieldValue("NUM"))}),new s((function(){var e=o.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&e.getInputTargetBlock("TEXT")&&"variables_get"===e.getInputTargetBlock("TEXT").type})),t=o.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&t!==e})),n=o.getAllBlocks().find((function(t){return"variables_get"===t.type&&t.getParent()!==e})),i=o.getAllBlocks().find((function(e){return"variables_set"===e.type})),r=o.getAllBlocks().find((function(e){return"t2c_text_length"===e.type})),a=o.getAllBlocks().find((function(e){return"math_arithmetic_basic"===e.type})),l=o.getAllBlocks().find((function(e){return"math_number"===e.type}));if(t){if(t.getParent()!==e)return"Make sure the display statement stays below the previous one since you want to display double the word's length after displaying the word itself.";if(t.getInputTargetBlock("TEXT")===r)return"You want to display double the string's length, not just its length.  Use the arithmetic (+,-,*,/) block inside the display.";if(t.getInputTargetBlock("TEXT")===n)return"You want to display double the string's length, not the entire string.  Use the arithmetic (+,-,*,/) block inside the display.";if(t.getInputTargetBlock("TEXT")===l)return"You want to display double the string's length, not just a number.  Use the arithmetic (+,-,*,/) block inside the display."}if(n&&i&&n.getField("VAR").getText()!==i.getField("VAR").getText())return"Make sure the variable name you display matches the one you set to the value of the user's input so you display what the user entered.";if(r&&n&&r.getInputTargetBlock("VALUE")!==n)return"Be sure that the variable block remains inside the "+T2C.MSG.currentLanguage.TERMINAL_LENGTH+" block so you can get the number of characters in the user input before doubling it.";if(a){if(n&&n.getParent()===a)return"Be sure the variable block remains inside the "+T2C.MSG.currentLanguage.TERMINAL_LENGTH+" block since you don't want to double the string itself, but its length!  Doubling 'pizza' doesn't give you 10, right?  Doubling its length of 5 does.";if(l&&("MULTIPLY"!==a.getFieldValue("OP")&&.5!==l.getFieldValue("NUM")||"DIVIDE"!==a.getFieldValue("OP")&&2!==l.getFieldValue("NUM")))return"What operation/number could you use to double the length?  Select the appropriate option from the dropdown (+ = ADD, - = SUBTRACT, * = MULTIPLY, / = DIVIDE), and change the value of the number block from "+l.getFieldValue("NUM")+" to this desired number accordingly."}return"The arithmetic block can be used on blocks producing numerical values such as "+T2C.MSG.currentLanguage.TERMINAL_LENGTH+" to add, subtract, multiply, or divide depending on the selected option from +, -, *, / by placing the number-producing blocks you want to use in the calculation.\nUsing this new arithmetic block and number block, modify your display statement to show double the length of the entered string."}),{startPosition:O(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),h(n),f(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔ Excellent!  OK, so now that you can use the arithmetic and length blocks, let's combine them with the previous "+T2C.MSG.currentLanguage.TERMINAL_GETCHARACTERNUMBER+" block to get the last character of the string, regardless of whether it's 1 character or 100 or any other number!  You up for the challenge?  Let's get to it!"),w(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),N(),S(o,"t2c_text_charat"),o.options.maxInstances.t2c_text_charat=1,o.options.maxInstances.variables_get++,o.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new r((function(){var e=o.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&e.getInputTargetBlock("TEXT")&&"variables_get"===e.getInputTargetBlock("TEXT").type})),t=o.getAllBlocks().find((function(e){return"t2c_text_charat"===e.type||"js_text_charat"===e.type})),n=o.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&e.getInputTargetBlock("TEXT")===t})),i=o.getAllBlocks().find((function(e){return"math_arithmetic_basic"===e.type})),r=o.getAllBlocks().find((function(e){return"t2c_text_length"===e.type})),a=o.getAllBlocks().find((function(e){return"math_number"===e.type})),l=o.getAllBlocks().find((function(e){return"variables_get"===e.type&&e.getParent()===t})),s=o.getAllBlocks().find((function(e){return"variables_get"===e.type&&e.getParent()===r})),u=o.getAllBlocks().find((function(e){return"variables_set"===e.type}));return e&&n&&i&&r&&a&&t&&l&&s&&u&&l.getField("VAR").getText()===u.getField("VAR").getText()&&s.getField("VAR").getText()===u.getField("VAR").getText()&&t.getInputTargetBlock("VALUE")===l&&t.getInputTargetBlock("AT")===i&&i.getInputTargetBlock("A")===r&&"MINUS"===i.getFieldValue("OP")&&i.getInputTargetBlock("B")===a&&1===a.getFieldValue("NUM")}),new s((function(){var e=o.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&e.getInputTargetBlock("TEXT")&&"variables_get"===e.getInputTargetBlock("TEXT").type})),t=o.getAllBlocks().find((function(e){return"t2c_text_charat"===e.type||"js_text_charat"===e.type})),n=o.getAllBlocks().find((function(t){return("text_print"===t.type||"js_text_print"===t.type)&&t!==e})),i=o.getAllBlocks().find((function(e){return"math_arithmetic_basic"===e.type})),r=o.getAllBlocks().find((function(e){return"t2c_text_length"===e.type})),a=o.getAllBlocks().find((function(e){return"math_number"===e.type})),l=(o.getAllBlocks().find((function(e){return"variables_get"===e.type&&e.getParent()===r})),o.getAllBlocks().find((function(e){return"variables_get"===e.type&&e.getParent()===t})));if(o.getAllBlocks().find((function(e){return"variables_set"===e.type})),n&&n.getParent()!==e)return"Make sure to connect the new display statement below the previous one since you want to display the string's last character after displaying the whole string.";if(t){if(l&&t.getInputTargetBlock("AT")===l)return"The variable storing the text that you want to get the character of should go in the left side of the "+T2C.MSG.currentLanguage.TERMINAL_GETCHARACTERNUMBER+' block.  It wouldn\'t make sense to get the character at position number "pizza" (or whatever string the user enters), right?';if(r&&t.getInputTargetBlock("AT")===r)return"The length of the 5-character string pizza is 5, but since you start counting from 0, this was not the position of the last character that you used in the previous exercise, correct?  Consider using some math operation on this number to calculate the correct position.";if(a&&t.getInputTargetBlock("AT")===a)return"The position of the last character will depend on the length of the string so you can't use a specific number such as "+a.getFieldValue("NUM")+".  You will need to use the "+MSG.T2C.currentLanguage.TERMINAL_LENGTH+" block and a math operation to calculate the correct position for each string containing at least one character."}if(n&&t){if(n.getInputTargetBlock("TEXT")===i)return"You want to display the string's last character, not the result of an arithmetic calculation, which would be a number.";if(n.getInputTargetBlock("TEXT")===r)return"You want to display the string's last character, not the length of the string, which would be a number.";if(n.getInputTargetBlock("TEXT")===a)return"You want to display the string's last character, not a number."}if(i&&a&&r&&t&&a.getParent()===i&&r.getParent()===i){if("PLUS"===i.getFieldValue("OP")&&1===a.getFieldValue("NUM"))return"Consider that adding 1 to 5, which is the length of pizza gives you 6.  Did you use 6 for the position for the last mission?";if("PLUS"!==i.getFieldValue("OP")&&1!==a.getFieldValue("NUM")||"MINUS"!==i.getFieldValue("OP")&&-1!==a.getFieldValue("NUM"))return"Select the appropriate option from the arithmetic block dropdown menu (+ = ADD, - = SUBTRACT, * = MULTIPLY, / = DIVIDE) and choose the appropriate number.  Your current answer won't work in general."}return"Change the math operation and number that's used with the "+T2C.MSG.currentLanguage.TERMINAL_LENGTH+" to calculate the *position* of the last character from its number of characters.  Then add a "+T2C.MSG.currentLanguage.TERMINAL_GETCHARACTERNUMBER+" and variable block in the appropriate places to display the last character, regardless of the length of the string.  To determine the appropriate math operation and number to use for the position, consider strings of different lengths.  How did you determine the number to use for the position of the last character of a 5-character string?  What would you do with the 5 to get it?  What if you wanted to calculate the position of the last character of a string of length 3?  What about the position of the last character for a string of length 10?  The math operation and number you use should be the same for each example to get your answer."}),{startPosition:O(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),h(n),f(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){o.options.maxInstances.type_in_get_last_char_number=0,alert("✔✔👍 Outstanding!  So do you feel comfortable with using the new "+T2C.MSG.currentLanguage.TERMINAL_LENGTH+" block in combination with the arithmetic and "+T2C.MSG.currentLanguage.GETCHARACTERNUMBER+" blocks yet?  In the next mission, we'll use these blocks to get the middle two characters of strings with an even number of characters (and not 0).  But for now, let's conclude Mission # 2 by making sure you can save this code for later use.  Let's save and load the block code."),w(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),N(),document.getElementById("save-code-button").addEventListener("click",(function(){M=!1,F=!0;var e=Blockly.Xml.workspaceToDom(o);L=Blockly.Xml.domToPrettyText(e)})),document.getElementById("load-code-button").addEventListener("click",(function(){M=!0,F=!1})),document.getElementById("load-save-xml").addEventListener("click",(function(){document.getElementById("load-save-text-code").textContent===T2C.MSG.currentLanguage.BUTTON_LOAD_TEXT_CODE?R=!0:C=!0}))}})),n.addTask(new r((function(){return F}),new u([new s((function(){return T2C.MSG.currentLanguage.BUTTON_SAVE_XML}),{startPosition:{x:document.getElementById("save-code-button").offsetLeft+document.getElementById("save-code-button").offsetWidth,y:document.getElementById("save-code-button").offsetTop+document.getElementById("save-code-button").offsetHeight}}),new l(d,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("save-code-button").offsetLeft+document.getElementById("save-code-button").offsetWidth/2,y:document.getElementById("save-code-button").offsetTop+document.getElementById("save-code-button").offsetHeight/2}})]))),n.addTask(new r((function(){return C}),new u([new s((function(){return T2C.MSG.currentLanguage.BUTTON_SAVE_XML}),{startPosition:function(){return{x:document.getElementById("load-save-xml").offsetLeft+document.getElementById("load-save-xml").offsetWidth,y:document.getElementById("load-save-xml").offsetTop+document.getElementById("load-save-xml").offsetHeight}}}),new l(d,{totalSteps:100,toggleSteps:25,startPosition:function(){return{x:document.getElementById("load-save-xml").offsetLeft+document.getElementById("load-save-xml").offsetWidth/2,y:document.getElementById("load-save-xml").offsetTop+document.getElementById("load-save-xml").offsetHeight/2}}})]))),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("OK, now that you've copied the XML for the blocks, let's clear the workspace of the blocks and then load it (without reloading the page!) to confirm that everything works.  BE SURE NOT TO overwrite the clipboard until you load the code again or you'll lose your work!"),N()}})),n.addTask(new r((function(){return 0===o.getAllBlocks().length}),new u([new s((function(){return"Move all blocks to the trashcan or rightmouse click (hold down finger on phone) on an empty place in the workspace and select Delete."}),{startPosition:function(){return{x:50,y:document.getElementById("top-header").offsetHeight+o.getMetrics().flyoutHeight+100}}}),new l(d,{totalSteps:100,toggleSteps:25,startPosition:function(){var e=o.trashcan.getClientRect();return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}})]))),n.addTask(new r((function(){return M}),new u([new s((function(){return T2C.MSG.currentLanguage.BUTTON_LOAD_XML}),{startPosition:{x:document.getElementById("load-code-button").offsetLeft+document.getElementById("load-code-button").offsetWidth,y:document.getElementById("load-code-button").offsetTop+document.getElementById("load-code-button").offsetHeight}}),new l(d,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("load-code-button").offsetLeft+document.getElementById("load-code-button").offsetWidth/2,y:document.getElementById("load-code-button").offsetTop+document.getElementById("load-code-button").offsetHeight/2}})]))),n.addTask(new r((function(){return L.replace(/\n|\r/g,"")===document.getElementById("xmlData").value.replace(/\n|\r/g,"")}),new u([new s((function(){return"Paste the XML you copied in this text box."}),{startPosition:function(){return{x:document.getElementById("xmlData").offsetLeft+document.getElementById("xmlData").offsetWidth/2,y:document.getElementById("xmlData").offsetTop+document.getElementById("xmlData").offsetHeight}}}),new l(d,{totalSteps:100,toggleSteps:25,startPosition:function(){return{x:document.getElementById("xmlData").offsetLeft+document.getElementById("xmlData").offsetWidth/2,y:document.getElementById("xmlData").offsetTop+document.getElementById("xmlData").offsetHeight/2}}})]))),n.addTask(new r((function(){return R&&13===o.getAllBlocks().length}),new u([new s((function(){return T2C.MSG.currentLanguage.BUTTON_LOAD_XML}),{startPosition:function(){return{x:document.getElementById("load-save-xml").offsetLeft+document.getElementById("load-save-xml").offsetWidth,y:document.getElementById("load-save-xml").offsetTop+document.getElementById("load-save-xml").offsetHeight}}}),new l(d,{totalSteps:100,toggleSteps:25,startPosition:function(){return{x:document.getElementById("load-save-xml").offsetLeft+document.getElementById("load-save-xml").offsetWidth/2,y:document.getElementById("load-save-xml").offsetTop+document.getElementById("load-save-xml").offsetHeight/2}}})]))),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔✔✔ Congratulations!  You just completed Mission 2!  On to even tougher challenges ahead!"),N()}})),n},function(e,t){var n=e||new c;alert("In this mission, you'll be prompting the user for a string with an even number of characters (at least 2) and then displaying a single 4-character string as first character, last character, first middle character, and second middle character in that order.  For example, for SCRABBLE, you'd display SEAB.");var o=t||Blockly.getMainWorkspace();j(o),["type_in_get_input"].forEach((function(e){D(o,e,!1),o.options.maxInstances[e]=1})),o.clear();var a=W("variables_set"),g=W("text_input"),d=W("text");Y(d,"TEXT","message to user"),H(g,"TEXT",d),H(a,"VALUE",g),o.options.maxInstances.variables_set=0,document.getElementById("toolbox").append(a),o.updateToolbox(document.getElementById("toolbox")),o.setScale(1),Object(i.f)(o),Array.from(document.querySelectorAll("rect")).filter((function(e){return e.getAttribute("fill-opacity")}));var h=document.createElement("div");return h.innerText="👆",h.id="ptr",h.style.fontSize="x-large",h.style.position="absolute",h.style.zIndex="1001",document.getElementById("blockly-div").appendChild(h),n.addTask(new r((function(){var e=o.getAllBlocks().find((function(e){return"text"===e.type&&-1!==e.getFieldValue("TEXT").toLowerCase().indexOf(" even ")})),t=o.getAllBlocks().find((function(t){return("text_input"===t.type||"js_text_input"===t.type)&&t.getInputTargetBlock("TEXT")===e})),n=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&null===e.getNextBlock()&&e.getInputTargetBlock("VALUE")===t&&"s"===e.getField("VAR").getText()}));return e&&t&&n}),new s((function(){return"OK, you know the drill; let's start by asking the user for a string and storing it in a variable.  This time, we'll be asking the user for a string with an even number of characters (> 0) so make sure even (surrounded by spaces) appears in your message.  Let's store the user's string in a variable s.  But this time, we'll make it more interesting: you'll drag in the block and type in the code!  Do you remember what you'll be typing, i.e., what appeared on the blocks, from previous exercises?  If not, use the blocks above as reference, and start typing it in accordingly.  Don't worry, we'll give you hints if you make a mistake."}),{startPosition:J(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔ Good, so let's start by creating a variable named firstCharacter to store the initial character of the string the user enters.  As before, we'll make it more interesting by typing in the code."),X(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),G(),j(o);var e=W("variables_set"),t=W("variables_get"),n=W("t2c_text_charat"),i=W("math_number");Y(i,"NUM",0),Y(t,"VAR","textVariable"),H(n,"VALUE",t),H(n,"AT",i),H(e,"VALUE",n),D(o,"type_in_set_to_char_number_0"),o.options.maxInstances.variables_set=0,o.options.maxInstances.type_in_set_to_char_number_0=1,document.getElementById("toolbox").append(e),o.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new r((function(){var e=o.getAllBlocks().find((function(e){return"math_number"===e.type&&0===e.getFieldValue("NUM")})),t=o.getAllBlocks().find((function(e){return"variables_get"===e.type&&"s"===e.getField("VAR").getText()})),n=o.getAllBlocks().find((function(n){return("t2c_text_charat"===n.type||"js_text_charat"===n.type)&&n.getInputTargetBlock("VALUE")===t&&n.getInputTargetBlock("AT")===e})),i=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&null===e.getNextBlock()&&e.getInputTargetBlock("VALUE")===n&&"firstChar"===e.getField("VAR").getText()})),r=o.getAllBlocks().find((function(e){return"text"===e.type&&-1!==e.getFieldValue("TEXT").toLowerCase().indexOf(" even ")})),a=o.getAllBlocks().find((function(e){return("text_input"===e.type||"js_text_input"===e.type)&&e.getInputTargetBlock("TEXT")===r})),l=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getNextBlock()===i&&e.getInputTargetBlock("VALUE")===a&&"s"===e.getField("VAR").getText()}));return e&&t&&n&&i&&r&&a&&l}),new s((function(){var e=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&"firstChar"===e.getField("VAR").getText()})),t=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&"s"===e.getField("VAR").getText()}));return e&&t&&t.getPreviousBlock()===e?"Make sure to attach the block storing the entered string's first character below the one storing the string itself.  Since instructions are run top to bottom, if you reversed the order, the computer wouldn't know what s is when trying get the string!":e&&t&&e.getPreviousBlock()!==t?"Make sure to attach the block storing the entered string's first character below the one storing the string itself.":"Drag in the type-in-code block and enter the code needed to get and store the initial character of the entered string in the variable firstChar.  Be sure to attach this statement below the one declaring the variable to store the user's entered string."}),{startPosition:J(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔ Good, so now we'll define a variable named lastCharacter to store the last character of the string the user enters.  As before, you'll be typing in the code and as in the previous mission, remember that you don't know how many characters the string has so you'll be using "+T2C.MSG.currentLanguage.TERMINAL_LENGTH+" in your answer."),X(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),G(),j(o);var e=W("variables_set"),t=W("variables_get"),n=W("variables_get"),i=W("t2c_text_charat"),r=W("math_number"),a=W("math_arithmetic_basic"),l=W("t2c_text_length");Y(r,"NUM",1),Y(t,"VAR","textVariable"),Y(n,"VAR","textVariable"),H(i,"VALUE",t),H(i,"AT",a),H(a,"A",l),H(l,"VALUE",n),H(a,"B",r),Y(a,"OP","MINUS"),H(e,"VALUE",i),D(o,"type_in_set_to_last_char"),o.options.maxInstances.variables_set=0,o.options.maxInstances.type_in_set_to_last_char=1,document.getElementById("toolbox").append(e),o.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new r((function(){var e=o.getAllBlocks().find((function(e){return"math_number"===e.type&&1===e.getFieldValue("NUM")})),t=o.getAllBlocks().find((function(e){return"t2c_text_length"===e.type&&e.getInputTargetBlock("VALUE")&&"variables_get"===e.getInputTargetBlock("VALUE").type&&"s"===e.getInputTargetBlock("VALUE").getField("VAR").getText()})),n=o.getAllBlocks().find((function(n){return"math_arithmetic_basic"===n.type&&n.getInputTargetBlock("A")===t&&n.getInputTargetBlock("B")===e&&"MINUS"===n.getFieldValue("OP")})),i=o.getAllBlocks().find((function(e){return("t2c_text_charat"===e.type||"js_text_charat"===e.type)&&e.getInputTargetBlock("VALUE")&&"variables_get"===e.getInputTargetBlock("VALUE").type&&"s"===e.getInputTargetBlock("VALUE").getField("VAR").getText()&&e.getInputTargetBlock("AT")===n})),r=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&null===e.getNextBlock()&&e.getInputTargetBlock("VALUE")===i&&"lastChar"===e.getField("VAR").getText()})),a=o.getAllBlocks().find((function(e){return"math_number"===e.type&&0===e.getFieldValue("NUM")})),l=o.getAllBlocks().find((function(e){return("t2c_text_charat"===e.type||"js_text_charat"===e.type)&&e.getInputTargetBlock("VALUE")&&"variables_get"===e.getInputTargetBlock("VALUE").type&&"s"===e.getInputTargetBlock("VALUE").getField("VAR").getText()&&e.getInputTargetBlock("AT")===a})),s=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getNextBlock()===r&&e.getInputTargetBlock("VALUE")===l&&"firstChar"===e.getField("VAR").getText()})),u=o.getAllBlocks().find((function(e){return"text"===e.type})),c=o.getAllBlocks().find((function(e){return("text_input"===e.type||"js_text_input"===e.type)&&e.getInputTargetBlock("TEXT")===u})),g=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getNextBlock()===s&&e.getInputTargetBlock("VALUE")===c&&"s"===e.getField("VAR").getText()}));return e&&t&&n&&i&&r&&a&&l&&s&&u&&c&&g}),new s((function(){var e=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&"lastChar"===e.getField("VAR").getText()})),t=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&"firstChar"===e.getField("VAR").getText()})),n=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&"s"===e.getField("VAR").getText()}));return n&&e&&n.getPreviousBlock()===e?"Make sure to attach the block storing the entered string's last character below the one storing the string itself.  Since instructions are run top to bottom, if you reversed the order, the computer wouldn't know what s is when trying get the string!":t&&e&&e.getPreviousBlock()!==t?"Make sure to attach the block storing the entered string's last character below the one storing the string's first one.  Although it won't matter which we store first, we'll do it this way for the purposes of this exercise.":"Drag in the type-in-code block and enter the code needed to get and store the last character of the entered string in the variable lastChar.  Be sure to attach this statement below the one declaring the variable to store the entered string's first character."}),{startPosition:J(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔ Great, so enough review, it's time for something new!  We will need to get the middle two characters.  Just like the last character, this will require do some math on the length of the string to get the correct position numbers.  Let's start by getting just the *position* of the *2nd* middle character first.  We'll do the second first because the relationship between the length and the last position is easier to see.  And then we can use this number to get the position of the first middle character since it appears one place before the second."),X(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),G(),j(o),D(o,"type_in_set_to_position_of_second_middle_char"),o.options.maxInstances.type_in_set_to_position_of_second_middle_char=1,o.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new r((function(){var e=o.getAllBlocks().find((function(e){return"math_number"===e.type&&2===e.getFieldValue("NUM")})),t=o.getAllBlocks().find((function(t){return"math_arithmetic_basic"===t.type&&t.getInputTargetBlock("A")&&"t2c_text_length"===t.getInputTargetBlock("A").type&&t.getInputTargetBlock("A").getInputTargetBlock("VALUE")&&"variables_get"===t.getInputTargetBlock("A").getInputTargetBlock("VALUE").type&&"s"===t.getInputTargetBlock("A").getInputTargetBlock("VALUE").getField("VAR").getText()&&t.getInputTargetBlock("B")===e&&"DIVIDE"===t.getFieldValue("OP")})),n=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&null===e.getNextBlock()&&e.getInputTargetBlock("VALUE")===t&&"positionOfSecondMiddleChar"===e.getField("VAR").getText()})),i=o.getAllBlocks().find((function(e){return"math_number"===e.type&&1===e.getFieldValue("NUM")})),r=o.getAllBlocks().find((function(e){return"math_arithmetic_basic"===e.type&&e.getInputTargetBlock("A")&&"t2c_text_length"===e.getInputTargetBlock("A").type&&e.getInputTargetBlock("A").getInputTargetBlock("VALUE")&&"variables_get"===e.getInputTargetBlock("A").getInputTargetBlock("VALUE").type&&"s"===e.getInputTargetBlock("A").getInputTargetBlock("VALUE").getField("VAR").getText()&&e.getInputTargetBlock("B")===i&&"MINUS"===e.getFieldValue("OP")})),a=o.getAllBlocks().find((function(e){return("t2c_text_charat"===e.type||"js_text_charat"===e.type)&&e.getInputTargetBlock("VALUE")&&"variables_get"===e.getInputTargetBlock("VALUE").type&&"s"===e.getInputTargetBlock("VALUE").getField("VAR").getText()&&e.getInputTargetBlock("AT")===r})),l=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getNextBlock()===n&&e.getInputTargetBlock("VALUE")===a&&"lastChar"===e.getField("VAR").getText()})),s=o.getAllBlocks().find((function(e){return"math_number"===e.type&&0===e.getFieldValue("NUM")})),u=o.getAllBlocks().find((function(e){return("t2c_text_charat"===e.type||"js_text_charat"===e.type)&&e.getInputTargetBlock("VALUE")&&"variables_get"===e.getInputTargetBlock("VALUE").type&&"s"===e.getInputTargetBlock("VALUE").getField("VAR").getText()&&e.getInputTargetBlock("AT")===s})),c=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getNextBlock()===l&&e.getInputTargetBlock("VALUE")===u&&"firstChar"===e.getField("VAR").getText()})),g=o.getAllBlocks().find((function(e){return"text"===e.type})),d=o.getAllBlocks().find((function(e){return("text_input"===e.type||"js_text_input"===e.type)&&e.getInputTargetBlock("TEXT")===g})),h=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getNextBlock()===c&&e.getInputTargetBlock("VALUE")===d&&"s"===e.getField("VAR").getText()}));return e&&t&&n&&i&&r&&a&&l&&s&&u&&c&&g&&d&&h}),new s((function(){var e=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&"positionOfSecondMiddleChar"===e.getField("VAR").getText()})),t=(o.getAllBlocks().find((function(e){return"variables_set"===e.type&&"lastChar"===e.getField("VAR").getText()})),o.getAllBlocks().find((function(e){return"variables_set"===e.type&&"s"===e.getField("VAR").getText()}))),n=e&&e.getPreviousBlock()&&"variables_set"===e.getPreviousBlock().type&&e.getPreviousBlock().getField("VAR").getText();return e&&e.getNextBlock()&&"variables_set"===e.getNextBlock().type&&e.getNextBlock().getField("VAR").getText(),e&&t&&e.getNextBlock()===t?"Make sure to attach the block storing the position of the string's second middle character below the one storing the string itself.  Since instructions are run top to bottom, if you reversed the order, the computer wouldn't know what s is when trying to get its length in the calculation of the its second middle character's position!":!e||n&&"lastChar"===n?"Drag in the type-in-code block, and enter the code needed to calculate the position of the second middle character of the entered string FROM the string's length and store it in the variable positionOfSecondMiddleChar.  Be sure to attach this statement below the one declaring the variable to store the entered string's last character.\nThis means you'll be using s.length and a math operation in your code.\nIf you're not sure what math operation and number to use, consider the following strings' lengths and second middle character positions: \nat       : 2 | 1\ncode     : 4 | 2\npizzas   : 6 | 3\nscrabble : 8 | 4":"Make sure to attach this block storing the position of the second middle character below the last one you entered in which you store the last character in the variable lastChar."}),{startPosition:J(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔ Great again!  So now let's get the *position* of the first middle character.   Remember the first middle character appears *one place before* the second so what math operation can you use on the position of the second middle character to get the position of the first middle character?"),X(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),G(),j(o),D(o,"type_in_set_to_position_of_first_middle_char"),o.options.maxInstances.type_in_set_to_position_of_first_middle_char=1,o.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new r((function(){var e=o.getAllBlocks().find((function(e){return"variables_get"===e.type&&"positionOfSecondMiddleChar"===e.getField("VAR").getText()})),t=o.getAllBlocks().find((function(t){return"math_arithmetic_basic"===t.type&&t.getInputTargetBlock("A")===e&&t.getInputTargetBlock("B")&&"math_number"===t.getInputTargetBlock("B").type&&1===t.getInputTargetBlock("B").getFieldValue("NUM")&&"MINUS"===t.getFieldValue("OP")})),n=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&null===e.getNextBlock()&&e.getInputTargetBlock("VALUE")===t&&"positionOfFirstMiddleChar"===e.getField("VAR").getText()})),i=o.getAllBlocks().find((function(e){return"math_number"===e.type&&2===e.getFieldValue("NUM")})),r=o.getAllBlocks().find((function(e){return"math_arithmetic_basic"===e.type&&e.getInputTargetBlock("A")&&"t2c_text_length"===e.getInputTargetBlock("A").type&&e.getInputTargetBlock("A").getInputTargetBlock("VALUE")&&"variables_get"===e.getInputTargetBlock("A").getInputTargetBlock("VALUE").type&&"s"===e.getInputTargetBlock("A").getInputTargetBlock("VALUE").getField("VAR").getText()&&e.getInputTargetBlock("B")===i&&"DIVIDE"===e.getFieldValue("OP")})),a=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getNextBlock()===n&&e.getInputTargetBlock("VALUE")===r&&"positionOfSecondMiddleChar"===e.getField("VAR").getText()})),l=o.getAllBlocks().find((function(e){return"math_arithmetic_basic"===e.type&&e.getInputTargetBlock("A")&&"t2c_text_length"===e.getInputTargetBlock("A").type&&e.getInputTargetBlock("A").getInputTargetBlock("VALUE")&&"variables_get"===e.getInputTargetBlock("A").getInputTargetBlock("VALUE").type&&"s"===e.getInputTargetBlock("A").getInputTargetBlock("VALUE").getField("VAR").getText()&&e.getInputTargetBlock("B")&&"math_number"===e.getInputTargetBlock("B").type&&1===e.getInputTargetBlock("B").getFieldValue("NUM")&&"MINUS"===e.getFieldValue("OP")})),s=o.getAllBlocks().find((function(e){return("t2c_text_charat"===e.type||"js_text_charat"===e.type)&&e.getInputTargetBlock("VALUE")&&"variables_get"===e.getInputTargetBlock("VALUE").type&&"s"===e.getInputTargetBlock("VALUE").getField("VAR").getText()&&e.getInputTargetBlock("AT")===l})),u=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getNextBlock()===a&&e.getInputTargetBlock("VALUE")===s&&"lastChar"===e.getField("VAR").getText()})),c=o.getAllBlocks().find((function(e){return"math_number"===e.type&&0===e.getFieldValue("NUM")})),g=o.getAllBlocks().find((function(e){return("t2c_text_charat"===e.type||"js_text_charat"===e.type)&&e.getInputTargetBlock("VALUE")&&"variables_get"===e.getInputTargetBlock("VALUE").type&&"s"===e.getInputTargetBlock("VALUE").getField("VAR").getText()&&e.getInputTargetBlock("AT")===c})),d=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getNextBlock()===u&&e.getInputTargetBlock("VALUE")===g&&"firstChar"===e.getField("VAR").getText()})),h=o.getAllBlocks().find((function(e){return"text"===e.type})),f=o.getAllBlocks().find((function(e){return("text_input"===e.type||"js_text_input"===e.type)&&e.getInputTargetBlock("TEXT")===h})),p=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getNextBlock()===d&&e.getInputTargetBlock("VALUE")===f&&"s"===e.getField("VAR").getText()}));return e&&t&&n&&i&&r&&a&&l&&s&&u&&c&&g&&d&&h&&f&&p}),new s((function(){var e=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&"positionOfFirstMiddleChar"===e.getField("VAR").getText()})),t=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&"positionOfSecondMiddleChar"===e.getField("VAR").getText()})),n=e&&e.getPreviousBlock()&&"variables_set"===e.getPreviousBlock().type&&e.getPreviousBlock().getField("VAR").getText();return e&&e.getNextBlock()&&"variables_set"===e.getNextBlock().type&&e.getNextBlock().getField("VAR").getText(),e&&t&&e.getNextBlock(),!e||n&&"positionOfSecondMiddleChar"===n?"Drag in the type-in-code block, and enter the code needed to calculate the position of the first middle character of the entered string FROM the position of the second middle character and store it in the variable positionOfFirstMiddleChar.  Be sure to attach this statement below the one declaring the variable to store the position of the entered string's second middle character.\nThis means you'll be using positionOfFirstMiddleChar and a math operation in your code.\nIf you're not sure what math operation and number to use, consider the positions of the second middle characters and first characters of the following: \nat       : 1 | 0\ncode     : 2 | 1\npizzas   : 3 | 2\nscrabble : 4 | 3":"Make sure to attach this block storing the position of the first middle character below the last one you entered in which you store the position of the second middle character in the variable positionOfSecondMiddleChar."}),{startPosition:J(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔ Excellent!  So now that we have the positions of the first and second middle characters, let's store the characters themselves, starting with the first middle one."),X(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),G(),j(o),D(o,"type_in_get_first_middle_char"),o.options.maxInstances.type_in_get_first_middle_char=1,o.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new r((function(){var e=o.getAllBlocks().find((function(e){return"variables_get"===e.type&&"positionOfFirstMiddleChar"===e.getField("VAR").getText()})),t=o.getAllBlocks().find((function(t){return("t2c_text_charat"===t.type||"js_text_charat"===t.type)&&t.getInputTargetBlock("VALUE")&&"variables_get"===t.getInputTargetBlock("VALUE").type&&"s"===t.getInputTargetBlock("VALUE").getField("VAR").getText()&&t.getInputTargetBlock("AT")===e})),n=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&null===e.getNextBlock()&&e.getInputTargetBlock("VALUE")===t&&"firstMiddleChar"===e.getField("VAR").getText()})),i=o.getAllBlocks().find((function(e){return"variables_get"===e.type&&"positionOfSecondMiddleChar"===e.getField("VAR").getText()})),r=o.getAllBlocks().find((function(e){return"math_arithmetic_basic"===e.type&&e.getInputTargetBlock("A")===i&&e.getInputTargetBlock("B")&&"math_number"===e.getInputTargetBlock("B").type&&1===e.getInputTargetBlock("B").getFieldValue("NUM")&&"MINUS"===e.getFieldValue("OP")})),a=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getNextBlock()===n&&e.getInputTargetBlock("VALUE")===r&&"positionOfFirstMiddleChar"===e.getField("VAR").getText()})),l=o.getAllBlocks().find((function(e){return"math_number"===e.type&&2===e.getFieldValue("NUM")})),s=o.getAllBlocks().find((function(e){return"math_arithmetic_basic"===e.type&&e.getInputTargetBlock("A")&&"t2c_text_length"===e.getInputTargetBlock("A").type&&e.getInputTargetBlock("A").getInputTargetBlock("VALUE")&&"variables_get"===e.getInputTargetBlock("A").getInputTargetBlock("VALUE").type&&"s"===e.getInputTargetBlock("A").getInputTargetBlock("VALUE").getField("VAR").getText()&&e.getInputTargetBlock("B")===l&&"DIVIDE"===e.getFieldValue("OP")})),u=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getNextBlock()===a&&e.getInputTargetBlock("VALUE")===s&&"positionOfSecondMiddleChar"===e.getField("VAR").getText()})),c=o.getAllBlocks().find((function(e){return"math_arithmetic_basic"===e.type&&e.getInputTargetBlock("A")&&"t2c_text_length"===e.getInputTargetBlock("A").type&&e.getInputTargetBlock("A").getInputTargetBlock("VALUE")&&"variables_get"===e.getInputTargetBlock("A").getInputTargetBlock("VALUE").type&&"s"===e.getInputTargetBlock("A").getInputTargetBlock("VALUE").getField("VAR").getText()&&e.getInputTargetBlock("B")&&"math_number"===e.getInputTargetBlock("B").type&&1===e.getInputTargetBlock("B").getFieldValue("NUM")&&"MINUS"===e.getFieldValue("OP")})),g=o.getAllBlocks().find((function(e){return("t2c_text_charat"===e.type||"js_text_charat"===e.type)&&e.getInputTargetBlock("VALUE")&&"variables_get"===e.getInputTargetBlock("VALUE").type&&"s"===e.getInputTargetBlock("VALUE").getField("VAR").getText()&&e.getInputTargetBlock("AT")===c})),d=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getNextBlock()===u&&e.getInputTargetBlock("VALUE")===g&&"lastChar"===e.getField("VAR").getText()})),h=o.getAllBlocks().find((function(e){return"math_number"===e.type&&0==e.getFieldValue("NUM")})),f=o.getAllBlocks().find((function(e){return("t2c_text_charat"===e.type||"js_text_charat"===e.type)&&e.getInputTargetBlock("VALUE")&&"variables_get"===e.getInputTargetBlock("VALUE").type&&"s"===e.getInputTargetBlock("VALUE").getField("VAR").getText()&&e.getInputTargetBlock("AT")===h})),p=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getNextBlock()===d&&e.getInputTargetBlock("VALUE")===f&&"firstChar"===e.getField("VAR").getText()})),m=o.getAllBlocks().find((function(e){return"text"===e.type})),y=o.getAllBlocks().find((function(e){return("text_input"===e.type||"js_text_input"===e.type)&&e.getInputTargetBlock("TEXT")===m})),T=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getNextBlock()===p&&e.getInputTargetBlock("VALUE")===y&&"s"===e.getField("VAR").getText()}));return e&&t&&n&&i&&r&&a&&l&&s&&u&&c&&g&&d&&h&&f&&p&&m&&y&&T}),new s((function(){var e=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&"positionOfFirstMiddleChar"===e.getField("VAR").getText()})),t=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&"firstMiddleChar"===e.getField("VAR").getText()})),n=t&&t.getPreviousBlock()&&"variables_set"===t.getPreviousBlock().type&&t.getPreviousBlock().getField("VAR").getText();return t&&t.getNextBlock()&&"variables_set"===t.getNextBlock().type&&t.getNextBlock().getField("VAR").getText(),t&&e&&t.getNextBlock(),!t||n&&"positionOfFirstMiddleChar"===n?"Drag in the type-in-code block and enter the code needed to get the first middle character of the entered string from its position and store it in the variable firstMiddleChar.  Be sure to attach this statement below the one declaring the variable to store the position of the entered string's first middle character.":"Make sure to attach this block storing the first middle character below the last one you entered in which you store its position in the variable positionOfFirstMiddleChar."}),{startPosition:J(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),n.addTask(new r((function(){return"js"===document.getElementById("language").value||"py"===document.getElementById("language").value}),{start:function(){var e=document.getElementById("language").value;alert("✔ Excellent x 2!  So now it's time to store the 2nd middle character.  "+("js"===e||"py"===e?"":"But let's type this using pure JavaScript or Python.  Select JavaScript or Python and watch how the declaration for the firstMiddleChar translates for reference."))},isComplete:function(){return!0},animate:function(){return!0},finish:function(){X(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),G(),j(o),D(o,"type_in_get_second_middle_char"),o.options.maxInstances.type_in_get_second_middle_char=1,o.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new r((function(){var e=o.getAllBlocks().find((function(e){return("t2c_text_charat"===e.type||"js_text_charat"===e.type)&&e.getInputTargetBlock("VALUE")&&"variables_get"===e.getInputTargetBlock("VALUE").type&&"s"===e.getInputTargetBlock("VALUE").getField("VAR").getText()&&e.getInputTargetBlock("AT")&&"variables_get"===e.getInputTargetBlock("AT").type&&"positionOfSecondMiddleChar"===e.getInputTargetBlock("AT").getField("VAR").getText()})),t=o.getAllBlocks().find((function(t){return"variables_set"===t.type&&null===t.getNextBlock()&&t.getInputTargetBlock("VALUE")===e&&"secondMiddleChar"===t.getField("VAR").getText()})),n=o.getAllBlocks().find((function(e){return"variables_get"===e.type&&"positionOfFirstMiddleChar"===e.getField("VAR").getText()})),i=o.getAllBlocks().find((function(e){return("t2c_text_charat"===e.type||"js_text_charat"===e.type)&&e.getInputTargetBlock("VALUE")&&"variables_get"===e.getInputTargetBlock("VALUE").type&&"s"===e.getInputTargetBlock("VALUE").getField("VAR").getText()&&e.getInputTargetBlock("AT")===n})),r=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getNextBlock()===t&&e.getInputTargetBlock("VALUE")===i&&"firstMiddleChar"===e.getField("VAR").getText()})),a=o.getAllBlocks().find((function(e){return"math_arithmetic_basic"===e.type&&e.getInputTargetBlock("A")&&"variables_get"===e.getInputTargetBlock("A").type&&"positionOfSecondMiddleChar"===e.getInputTargetBlock("A").getField("VAR").getText()&&e.getInputTargetBlock("B")&&"math_number"===e.getInputTargetBlock("B").type&&1===e.getInputTargetBlock("B").getFieldValue("NUM")&&"MINUS"===e.getFieldValue("OP")})),l=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getNextBlock()===r&&e.getInputTargetBlock("VALUE")===a&&"positionOfFirstMiddleChar"===e.getField("VAR").getText()})),s=o.getAllBlocks().find((function(e){return"math_number"===e.type&&2===e.getFieldValue("NUM")})),u=o.getAllBlocks().find((function(e){return"math_arithmetic_basic"===e.type&&e.getInputTargetBlock("A")&&"t2c_text_length"===e.getInputTargetBlock("A").type&&e.getInputTargetBlock("A").getInputTargetBlock("VALUE")&&"variables_get"===e.getInputTargetBlock("A").getInputTargetBlock("VALUE").type&&"s"===e.getInputTargetBlock("A").getInputTargetBlock("VALUE").getField("VAR").getText()&&e.getInputTargetBlock("B")===s&&"DIVIDE"===e.getFieldValue("OP")})),c=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getNextBlock()===l&&e.getInputTargetBlock("VALUE")===u&&"positionOfSecondMiddleChar"===e.getField("VAR").getText()})),g=o.getAllBlocks().find((function(e){return"math_arithmetic_basic"===e.type&&e.getInputTargetBlock("A")&&"t2c_text_length"===e.getInputTargetBlock("A").type&&e.getInputTargetBlock("A").getInputTargetBlock("VALUE")&&"variables_get"===e.getInputTargetBlock("A").getInputTargetBlock("VALUE").type&&"s"===e.getInputTargetBlock("A").getInputTargetBlock("VALUE").getField("VAR").getText()&&e.getInputTargetBlock("B")&&"math_number"===e.getInputTargetBlock("B").type&&1===e.getInputTargetBlock("B").getFieldValue("NUM")&&"MINUS"===e.getFieldValue("OP")})),d=o.getAllBlocks().find((function(e){return("t2c_text_charat"===e.type||"js_text_charat"===e.type)&&e.getInputTargetBlock("VALUE")&&"variables_get"===e.getInputTargetBlock("VALUE").type&&"s"===e.getInputTargetBlock("VALUE").getField("VAR").getText()&&e.getInputTargetBlock("AT")===g})),h=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getNextBlock()===c&&e.getInputTargetBlock("VALUE")===d&&"lastChar"===e.getField("VAR").getText()})),f=o.getAllBlocks().find((function(e){return"math_number"===e.type&&0===e.getFieldValue("NUM")})),p=o.getAllBlocks().find((function(e){return("t2c_text_charat"===e.type||"js_text_charat"===e.type)&&e.getInputTargetBlock("VALUE")&&"variables_get"===e.getInputTargetBlock("VALUE").type&&"s"===e.getInputTargetBlock("VALUE").getField("VAR").getText()&&e.getInputTargetBlock("AT")===f})),m=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getNextBlock()===h&&e.getInputTargetBlock("VALUE")===p&&"firstChar"===e.getField("VAR").getText()})),y=o.getAllBlocks().find((function(e){return"text"===e.type})),T=o.getAllBlocks().find((function(e){return("text_input"===e.type||"js_text_input"===e.type)&&e.getInputTargetBlock("TEXT")===y})),_=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getNextBlock()===m&&e.getInputTargetBlock("VALUE")===T&&"s"===e.getField("VAR").getText()}));return e&&t&&n&&i&&r&&a&&l&&s&&u&&c&&g&&d&&h&&f&&p&&m&&y&&T&&_}),new s((function(){var e=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&"secondMiddleChar"===e.getField("VAR").getText()})),t=e&&e.getPreviousBlock()&&"variables_set"===e.getPreviousBlock().type&&e.getPreviousBlock().getField("VAR").getText();return e&&e.getNextBlock()&&"variables_set"===e.getNextBlock().type&&e.getNextBlock().getField("VAR").getText(),!e||t&&"firstMiddleChar"===t?"Drag in the type-in-code block and enter the code needed to get the second middle character of the entered string from its position and store it in the variable secondMiddleChar.  Do this in "+T2C.MSG.currentLanguage.LANGUAGE_NAME+" by adapting the code from the last blocks assembled to get the first middle character.  Be sure to attach this statement below the one declaring the variable to store the entered string's first middle character.":"Make sure to attach this block storing the second middle character below the last one you entered in which you store the user's first middle character in the variable firstMiddleChar."}),{startPosition:J(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔ Excellent x 3!  So now for the grand finale: we need to put all of these characters together and display them on one line.  Do you remember how to do that?  Also, let's include the full string the user enters at the beginning because our users can be forgetful!\n  So for an input of SCRABBLE, we'd want the output to be as follows: \nSCRABBLE: SEAB"),X(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),G(),j(o),D(o,"type_in_combine_first_last_middle2_chars"),o.options.maxInstances.type_in_combine_first_last_middle2_chars=1,o.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new r((function(){var e=o.getAllBlocks().find((function(e){return"variables_get"===e.type&&"secondMiddleChar"===e.getField("VAR").getText()})),t=o.getAllBlocks().find((function(e){return"variables_get"===e.type&&"firstMiddleChar"===e.getField("VAR").getText()})),n=o.getAllBlocks().find((function(n){return"t2c_text_join"===n.type&&n.getInputTargetBlock("A")===t&&n.getInputTargetBlock("B")===e})),i=o.getAllBlocks().find((function(e){return"variables_get"===e.type&&"lastChar"===e.getField("VAR").getText()})),r=o.getAllBlocks().find((function(e){return"t2c_text_join"===e.type&&e.getInputTargetBlock("A")===i&&e.getInputTargetBlock("B")===n})),a=o.getAllBlocks().find((function(e){return"variables_get"===e.type&&"firstChar"===e.getField("VAR").getText()})),l=o.getAllBlocks().find((function(e){return"t2c_text_join"===e.type&&e.getInputTargetBlock("A")===a&&e.getInputTargetBlock("B")===r})),s=o.getAllBlocks().find((function(e){return"text"===e.type&&": "===e.getFieldValue("TEXT")})),u=o.getAllBlocks().find((function(e){return"t2c_text_join"===e.type&&e.getInputTargetBlock("A")===s&&e.getInputTargetBlock("B")===l})),c=o.getAllBlocks().find((function(e){return"t2c_text_join"===e.type&&e.getInputTargetBlock("A")&&"variables_get"===e.getInputTargetBlock("A").type&&"s"===e.getInputTargetBlock("A").getField("VAR").getText()&&e.getInputTargetBlock("B")===u})),g=o.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&null===e.getNextBlock()&&e.getInputTargetBlock("TEXT")===c})),d=o.getAllBlocks().find((function(e){return("t2c_text_charat"===e.type||"js_text_charat"===e.type)&&e.getInputTargetBlock("VALUE")&&"variables_get"===e.getInputTargetBlock("VALUE").type&&"s"===e.getInputTargetBlock("VALUE").getField("VAR").getText()&&e.getInputTargetBlock("AT")&&"variables_get"===e.getInputTargetBlock("AT").type&&"positionOfSecondMiddleChar"===e.getInputTargetBlock("AT").getField("VAR").getText()})),h=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getNextBlock()===g&&e.getInputTargetBlock("VALUE")===d&&"secondMiddleChar"===e.getField("VAR").getText()})),f=o.getAllBlocks().find((function(e){return"variables_get"===e.type&&"positionOfFirstMiddleChar"===e.getField("VAR").getText()})),p=o.getAllBlocks().find((function(e){return("t2c_text_charat"===e.type||"js_text_charat"===e.type)&&e.getInputTargetBlock("VALUE")&&"variables_get"===e.getInputTargetBlock("VALUE").type&&"s"===e.getInputTargetBlock("VALUE").getField("VAR").getText()&&e.getInputTargetBlock("AT")===f})),m=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getNextBlock()===h&&e.getInputTargetBlock("VALUE")===p&&"firstMiddleChar"===e.getField("VAR").getText()})),y=o.getAllBlocks().find((function(e){return"math_arithmetic_basic"===e.type&&e.getInputTargetBlock("A")&&"variables_get"===e.getInputTargetBlock("A").type&&"positionOfSecondMiddleChar"===e.getInputTargetBlock("A").getField("VAR").getText()&&e.getInputTargetBlock("B")&&"math_number"===e.getInputTargetBlock("B").type&&1===e.getInputTargetBlock("B").getFieldValue("NUM")&&"MINUS"===e.getFieldValue("OP")})),T=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getNextBlock()===m&&e.getInputTargetBlock("VALUE")===y&&"positionOfFirstMiddleChar"===e.getField("VAR").getText()})),_=o.getAllBlocks().find((function(e){return"math_number"===e.type&&2===e.getFieldValue("NUM")})),b=o.getAllBlocks().find((function(e){return"math_arithmetic_basic"===e.type&&e.getInputTargetBlock("A")&&"t2c_text_length"===e.getInputTargetBlock("A").type&&e.getInputTargetBlock("A").getInputTargetBlock("VALUE")&&"variables_get"===e.getInputTargetBlock("A").getInputTargetBlock("VALUE").type&&"s"===e.getInputTargetBlock("A").getInputTargetBlock("VALUE").getField("VAR").getText()&&e.getInputTargetBlock("B")===_&&"DIVIDE"===e.getFieldValue("OP")})),k=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getNextBlock()===T&&e.getInputTargetBlock("VALUE")===b&&"positionOfSecondMiddleChar"===e.getField("VAR").getText()})),x=o.getAllBlocks().find((function(e){return"math_arithmetic_basic"===e.type&&e.getInputTargetBlock("A")&&"t2c_text_length"===e.getInputTargetBlock("A").type&&e.getInputTargetBlock("A").getInputTargetBlock("VALUE")&&"variables_get"===e.getInputTargetBlock("A").getInputTargetBlock("VALUE").type&&"s"===e.getInputTargetBlock("A").getInputTargetBlock("VALUE").getField("VAR").getText()&&e.getInputTargetBlock("B")&&"math_number"===e.getInputTargetBlock("B").type&&1===e.getInputTargetBlock("B").getFieldValue("NUM")&&"MINUS"===e.getFieldValue("OP")})),B=o.getAllBlocks().find((function(e){return("t2c_text_charat"===e.type||"js_text_charat"===e.type)&&e.getInputTargetBlock("VALUE")&&"variables_get"===e.getInputTargetBlock("VALUE").type&&"s"===e.getInputTargetBlock("VALUE").getField("VAR").getText()&&e.getInputTargetBlock("AT")===x})),E=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getNextBlock()===k&&e.getInputTargetBlock("VALUE")===B&&"lastChar"===e.getField("VAR").getText()})),A=o.getAllBlocks().find((function(e){return"math_number"===e.type&&0===e.getFieldValue("NUM")})),I=o.getAllBlocks().find((function(e){return("t2c_text_charat"===e.type||"js_text_charat"===e.type)&&e.getInputTargetBlock("VALUE")&&"variables_get"===e.getInputTargetBlock("VALUE").type&&"s"===e.getInputTargetBlock("VALUE").getField("VAR").getText()&&e.getInputTargetBlock("AT")===A})),v=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getNextBlock()===E&&e.getInputTargetBlock("VALUE")===I&&"firstChar"===e.getField("VAR").getText()})),w=o.getAllBlocks().find((function(e){return"text"===e.type})),N=o.getAllBlocks().find((function(e){return("text_input"===e.type||"js_text_input"===e.type)&&e.getInputTargetBlock("TEXT")===w})),S=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getNextBlock()===v&&e.getInputTargetBlock("VALUE")===N&&"s"===e.getField("VAR").getText()}));return e&&t&&n&&i&&r&&a&&l&&s&&u&&c&&g&&d&&h&&f&&p&&m&&y&&T&&_&&b&&k&&x&&B&&E&&A&&I&&v&&w&&N&&S}),new s((function(){var e=o.getAllBlocks().find((function(e){return"text_print"===e.type||"js_text_print"===e.type})),t=(o.getAllBlocks().find((function(t){return"variables_set"===t.type&&t.getNextBlock()===e&&"secondMiddleChar"===t.getField("VAR").getText()})),e&&e.getPreviousBlock()&&"variables_set"===e.getPreviousBlock().type&&e.getPreviousBlock().getField("VAR").getText()),n=e&&e.getNextBlock()&&"variables_set"===e.getNextBlock().type&&e.getNextBlock().getField("VAR").getText();return e&&!t?"Make sure to attach this block displaying the entered string and its first, last, and first and second middle characters below the last one you entered in which you store the user's second middle character in the variable secondMiddleChar.":n?"Make sure to attach this block displaying the entered string and its first, last, and first and second middle characters below the last one you entered in which you store the user's second middle character in the variable secondMiddleChar.  Since instructions are run top to bottom, if you place this before the block you did, the computer wouldn't know what "+(n.startsWith("positionOf")?n.substring(10):n)+" means!":'Drag in the type-in-code block and place it below the block that stores the second character in a variable.  Enter code to display the user entered string, followed by the string literal ": " followed by its first character, then its last character, then its first middle character, and finally its second middle character.\n  So for an input of SCRABBLE, we\'d want the output to be as follows: \nSCRABBLE: SEAB'}),{startPosition:J(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),function(e){e.addTask(new r((function(){return document.getElementById("output-container").classList.contains("show-container")}),new u([new s((function(){return T2C.MSG.currentLanguage.BUTTON_RUN_CODE}),{startPosition:{x:document.getElementById("run-code-button").offsetLeft+document.getElementById("run-code-button").offsetWidth,y:document.getElementById("run-code-button").offsetTop+document.getElementById("run-code-button").offsetHeight}}),new l(h,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("run-code-button").offsetLeft+document.getElementById("run-code-button").offsetWidth/2,y:document.getElementById("run-code-button").offsetTop+document.getElementById("run-code-button").offsetHeight/2}})])))}(n),function(e,t){var n=0;function o(){t.style.color=n%50<25?"#a00":"#000",++n<200&&requestAnimationFrame(o)}e.addTask(new r((function(){return n>=200}),{start:function(){t.style.verticalAlign="top",requestAnimationFrame(o)},isComplete:function(){return!0},animate:function(){return!0}}))}(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔✔✔ Congratulations!  You just completed the challenging Mission 3!  Take a moment to bask in your accomplishments!  Not only did you solve the problem yourself, you also proved to be an excellent teacher!  You managed to explain to the computer how it could solve the problem as well in a language it could understand.  This meant you were also perfect in your grammar, spelling everything correctly and placing every parenthesis and period where it needed to go, making your English teachers proud!\nIn Mission 4, we'll introduce a new block that'll allow you to get *all* the characters from a starting position to an ending one (rather than just getting one character at a time).  We'll then use this block to display a string with its initial character removed.  Until next time!"),X(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),G(),j(o),D(o,"code_statement"),o.options.maxInstances.code_statement=1,o.updateToolbox(document.getElementById("toolbox"))}})),n},function(e,t){var n=e||new c;alert("In previous missions, you'd use "+T2C.MSG.currentLanguage.TERMINAL_GETCHARACTERNUMBER+" to get a *single* character at a given numerical position in a string.  In this mission, you'll be using a new block "+T2C.MSG.EN.TERMINAL_GETTEXTFROM+" to display all characters between given starting and ending numerical positions.");var o=t||Blockly.getMainWorkspace();ee(o),["t2c_text_getsubstring","text_print","variables_get","math_number","text","variables_set"].forEach((function(e,t){te(o,e,!1),o.options.maxInstances[e]=3===t?2:1})),o.clear();var a=Object(i.e)(o,"text"),g=Object(i.e)(o,"variables_set");Object(i.h)(a,"aap kaise hain?","TEXT"),Object(i.j)(g,"VALUE",a),Object(i.h)(g,"welcomeMsg","VAR"),o.setScale(1),Object(i.f)(o),Array.from(document.querySelectorAll("rect")).filter((function(e){return e.getAttribute("fill-opacity")}));var d=document.createElement("div");function h(e){e.addTask(new r((function(){return document.getElementById("output-container").classList.contains("show-container")}),new u([new s((function(){return T2C.MSG.currentLanguage.BUTTON_RUN_CODE}),{startPosition:{x:document.getElementById("run-code-button").offsetLeft+document.getElementById("run-code-button").offsetWidth,y:document.getElementById("run-code-button").offsetTop+document.getElementById("run-code-button").offsetHeight}}),new l(d,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("run-code-button").offsetLeft+document.getElementById("run-code-button").offsetWidth/2,y:document.getElementById("run-code-button").offsetTop+document.getElementById("run-code-button").offsetHeight/2}})])))}function f(e,t){var n=0;function o(){t.style.color=n%50<25?"#a00":"#000",++n<200&&requestAnimationFrame(o)}e.addTask(new r((function(){return n>=200}),{start:function(){t.style.verticalAlign="top",requestAnimationFrame(o)},isComplete:function(){return!0},animate:function(){return!0}}))}return d.innerText="👆",d.id="ptr",d.style.fontSize="x-large",d.style.position="absolute",d.style.zIndex="1001",document.getElementById("blockly-div").appendChild(d),n.addTask(new r((function(){var e=o.getAllBlocks().find((function(e){return"math_number"===e.type&&9===e.getFieldValue("NUM")})),t=o.getAllBlocks().find((function(e){return"math_number"===e.type&&4===e.getFieldValue("NUM")})),n=o.getAllBlocks().find((function(e){return"variables_get"===e.type&&"welcomeMsg"===e.getField("VAR").getText()})),i=o.getAllBlocks().find((function(o){return("t2c_text_getsubstring"===o.type||"js_text_getsubstring"===o.type)&&o.getInputTargetBlock("STRING")===n&&o.getInputTargetBlock("AT1")===t&&o.getInputTargetBlock("AT2")===e})),r=o.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&null===e.getNextBlock()&&e.getInputTargetBlock("TEXT")===i})),a=o.getAllBlocks().find((function(e){return"text"===e.type&&"aap kaise hain?"==e.getFieldValue("TEXT")})),l=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getNextBlock()===r&&e.getInputTargetBlock("VALUE")===a&&"welcomeMsg"===e.getField("VAR").getText()}));return e&&t&&n&&i&&r&&a&&l}),new s((function(){var e=o.getAllBlocks().find((function(e){return"math_number"===e.type})),t=o.getAllBlocks().find((function(t){return"math_number"===t.type&&t!==e})),n=o.getAllBlocks().find((function(e){return"variables_get"===e.type})),i=o.getAllBlocks().find((function(e){return"t2c_text_getsubstring"===e.type||"js_text_getsubstring"===e.type})),r=o.getAllBlocks().find((function(e){return"text_print"===e.type||"js_text_print"===e.type})),a=o.getAllBlocks().find((function(e){return"text"===e.type})),l=o.getAllBlocks().find((function(e){return"variables_set"===e.type}));if(i&&(i.getInputTargetBlock("AT1")===e||i.getInputTargetBlock("AT1")===t)){var s=i.getInputTargetBlock("AT1").getFieldValue("NUM");if(5===s)return"The given starting position is incorrect.  Remember that the initial character starts at position (index) 0 and unlike the given ending position to "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+", the computer starts extracting text from the first position number you give it.";if(3===s)return"The given starting position is incorrect.  Remember that the initial character starts at position (index) 0 and that spaces are characters as well.";if(9===s)return"The given starting position is incorrect.  The first number given to "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" is the starting position, not the ending one.";if(4!==s)return"Incorrect number for the starting position.  Please try recounting the characters from the beginning of the string, starting from 0 and include spaces in your count."}if(i&&(i.getInputTargetBlock("AT2")===e||i.getInputTargetBlock("AT2")===t)){var u=i.getInputTargetBlock("AT2").getFieldValue("NUM");if(8===u)return"The given ending position is incorrect.  Remember to count spaces and unlike the given starting position to "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+", the computer stops extracting text *one place before* the second number you give it.";if(4===u)return"The given ending position is incorrect.  The second number given to "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" is the ending position, not the starting one.";if(9!==u)return"Incorrect number for the ending position.  Please try recounting the characters from the beginning of the string, starting from 0 and include spaces in your count."}return l&&"welcomeMsg"!==l.getField("VAR").getText()?"Make sure you keep the variable name for the "+T2C.MSG.currentLanguage.TERMINAL_LET+"block as it was; it should be welcomeMsg.":l&&l.getInputTargetBlock("VALUE")!==a?"Keep the text block with the text aap kaise hain? inside the "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block.  When using the "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" block, refer to the variable welcomeMsg.":"aap kaise hain?"!==a.getFieldValue("TEXT")?"Make sure to leave the text aap kaise hain? for the text block.":n&&"welcomeMsg"!==n.getField("VAR").getText()?"Make sure you use the variable name welcomeMsg for the variable get block so that it refers to the value assigned to the variable.":i&&n&&i.getInputTargetBlock("STRING")!==n?"Make sure to place the variable with the string's value inside the left space of the "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" so the computer knows which string to extract the substring from.":i&&n&&(i.getInputTargetBlock("A")===n||i.getInputTargetBlock("B")===n)?"The variable which holds the text to get the string from should go inside the left space of the "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" block.  The other spaces are for the *numbers* of the starting and ending positions from where to extract the text.":r&&i&&r.getInputTargetBlock("TEXT")!==i?"You want to display the result of extracting text from welcomeMsg so you should use the "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" block inside of the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block.":r&&l&&r.getNextBlock()===l?"The "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block should go below the "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block so the computer knows what welcomeMsg is when attempting to extract text from it.  Remember that statements are run from top to bottom.":r&&null!==r.getNextBlock()?"The next statement above the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block is incorrect.":r&&l&&l.getNextBlock()!==r?"Place the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block below the "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable declaration block.":"Drag in and assemble the blocks from the toolbox to get the text kaise (without spaces) from aap kaise hain?  Do NOT change the existing ones.\nTo do this, use the new "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" block, which takes a string, the position to start getting text from, and the position to stop at (NOTE: IT WILL STOP 1 BEFORE THE second number.)\nIn case you were curious, aap kaise hain? is the polite formal way to ask 'how are you?' in Hindi, literally, 'you (aap) how (kaise) are (hain)?'"}),{startPosition:re(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),h(n),f(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("👍 Nice!  So now let's try another example with the new block, but let's type it!  This time, you'll display everything except the string's initial character.  So we'll want to display ap kaise hain?"),Z(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),Q(),te(o,"type_in_all_but_first_specific_str"),o.options.maxInstances.type_in_all_but_first_specific_str=1,o.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new r((function(){var e=o.getAllBlocks().find((function(e){return"math_number"===e.type&&15===e.getFieldValue("NUM")})),t=o.getAllBlocks().find((function(e){return"math_number"===e.type&&1===e.getFieldValue("NUM")})),n=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"welcomeMsg"===e.getField("VAR").getText()})),i=o.getAllBlocks().find((function(o){return("t2c_text_getsubstring"===o.type||"js_text_getsubstring"===o.type)&&-1!==n.indexOf(o.getInputTargetBlock("STRING"))&&o.getInputTargetBlock("AT1")===t&&o.getInputTargetBlock("AT2")===e})),r=o.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&null===e.getNextBlock()&&e.getInputTargetBlock("TEXT")===i})),a=o.getAllBlocks().find((function(e){return"math_number"===e.type&&9===e.getFieldValue("NUM")})),l=o.getAllBlocks().find((function(e){return"math_number"===e.type&&4===e.getFieldValue("NUM")})),s=o.getAllBlocks().find((function(e){return("t2c_text_getsubstring"===e.type||"js_text_getsubstring"===e.type)&&-1!==n.indexOf(e.getInputTargetBlock("STRING"))&&e.getInputTargetBlock("AT1")===l&&e.getInputTargetBlock("AT2")===a})),u=o.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&e.getNextBlock()===r&&e.getInputTargetBlock("TEXT")===s})),c=o.getAllBlocks().find((function(e){return"text"===e.type&&"aap kaise hain?"==e.getFieldValue("TEXT")})),g=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getNextBlock()===u&&e.getInputTargetBlock("VALUE")===c&&"welcomeMsg"===e.getField("VAR").getText()}));return e&&t&&n&&i&&r&&a&&l&&s&&u&&c&&g}),new s((function(){var e=o.getAllBlocks().find((function(e){return"math_number"===e.type&&15===e.getFieldValue("NUM")})),t=o.getAllBlocks().find((function(e){return"math_number"===e.type&&1===e.getFieldValue("NUM")})),n=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"welcomeMsg"===e.getField("VAR").getText()})),i=o.getAllBlocks().find((function(o){return("t2c_text_getsubstring"===o.type||"js_text_getsubstring"===o.type)&&-1!==n.indexOf(o.getInputTargetBlock("STRING"))&&o.getInputTargetBlock("AT1")===t&&o.getInputTargetBlock("AT2")===e})),r=o.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&e.getInputTargetBlock("TEXT")===i})),a=o.getAllBlocks().find((function(e){return"math_number"===e.type&&9===e.getFieldValue("NUM")})),l=o.getAllBlocks().find((function(e){return"math_number"===e.type&&4===e.getFieldValue("NUM")})),s=o.getAllBlocks().find((function(e){return("t2c_text_getsubstring"===e.type||"js_text_getsubstring"===e.type)&&-1!==n.indexOf(e.getInputTargetBlock("STRING"))&&e.getInputTargetBlock("AT1")===l&&e.getInputTargetBlock("AT2")===a})),u=o.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&e.getInputTargetBlock("TEXT")===s})),c=o.getAllBlocks().find((function(e){return"text"===e.type&&"aap kaise hain?"==e.getFieldValue("TEXT")})),g=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getInputTargetBlock("VALUE")===c&&"welcomeMsg"===e.getField("VAR").getText()}));return r&&g&&r.getNextBlock()===g?"The "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block should go below the "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block so the computer knows what welcomeMsg is when attempting to extract text from it.  Remember that statements are run from top to bottom.":r&&u&&u.getNextBlock()!==r?"Place the new "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block that's used to display all characters beyond the initial one below the previous "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block used to display kaise.":"Drag in the type-in code block from the toolbox and type in the code necessary to display all the characters except the initial one from aap kaise hain?  As before, use "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+", the variable welcomeMsg, and 2 specific numbers for the starting and ending positions.  We'll generalize this so it works for other strings next.  Place this new block below the previous "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+"."}),{startPosition:re(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),h(n),f(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("👍 Good!  So of course this is not a very useful program as we could've just displayed two lines of text 'kaise' and 'ap kaise hain?' and the user would not know the difference.  So now let's show the usefulness of the new "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" by instead using the string literal 'aap kaise hain?' as our message to get input from the user instead.  Then our user can respond with something like theek (fine) or bahut acchaa (very good)."),Z(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),Q(),te(o,"text_input"),o.options.maxInstances.text_input=1,o.options.maxInstances.type_in_all_but_first_specific_str=0,o.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new r((function(){var e=o.getAllBlocks().find((function(e){return"math_number"===e.type&&15===e.getFieldValue("NUM")})),t=o.getAllBlocks().find((function(e){return"math_number"===e.type&&1===e.getFieldValue("NUM")})),n=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"response"===e.getField("VAR").getText()})),i=o.getAllBlocks().find((function(o){return("t2c_text_getsubstring"===o.type||"js_text_getsubstring"===o.type)&&-1!==n.indexOf(o.getInputTargetBlock("STRING"))&&o.getInputTargetBlock("AT1")===t&&o.getInputTargetBlock("AT2")===e})),r=o.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&null===e.getNextBlock()&&e.getInputTargetBlock("TEXT")===i})),a=o.getAllBlocks().find((function(e){return"math_number"===e.type&&9===e.getFieldValue("NUM")})),l=o.getAllBlocks().find((function(e){return"math_number"===e.type&&4===e.getFieldValue("NUM")})),s=o.getAllBlocks().find((function(e){return("t2c_text_getsubstring"===e.type||"js_text_getsubstring"===e.type)&&-1!==n.indexOf(e.getInputTargetBlock("STRING"))&&e.getInputTargetBlock("AT1")===l&&e.getInputTargetBlock("AT2")===a})),u=o.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&e.getNextBlock()===r&&e.getInputTargetBlock("TEXT")===s})),c=o.getAllBlocks().find((function(e){return"text"===e.type&&"aap kaise hain?"==e.getFieldValue("TEXT")})),g=o.getAllBlocks().find((function(e){return("text_input"===e.type||"js_text_input"===e.type)&&e.getInputTargetBlock("TEXT")===c})),d=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getNextBlock()===u&&e.getInputTargetBlock("VALUE")===g&&"response"===e.getField("VAR").getText()}));return e&&t&&2===n.length&&i&&r&&a&&l&&s&&u&&c&&g&&d}),new s((function(){var e=o.getAllBlocks().find((function(e){return"math_number"===e.type&&15===e.getFieldValue("NUM")})),t=o.getAllBlocks().find((function(e){return"math_number"===e.type&&1===e.getFieldValue("NUM")})),n=o.getAllBlocks().filter((function(e){return"variables_get"===e.type})),i=o.getAllBlocks().find((function(o){return("t2c_text_getsubstring"===o.type||"js_text_getsubstring"===o.type)&&-1!==n.indexOf(o.getInputTargetBlock("STRING"))&&o.getInputTargetBlock("AT1")===t&&o.getInputTargetBlock("AT2")===e})),r=o.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&null===e.getNextBlock()&&e.getInputTargetBlock("TEXT")===i})),a=o.getAllBlocks().find((function(e){return"math_number"===e.type&&9===e.getFieldValue("NUM")})),l=o.getAllBlocks().find((function(e){return"math_number"===e.type&&4===e.getFieldValue("NUM")})),s=o.getAllBlocks().find((function(e){return("t2c_text_getsubstring"===e.type||"js_text_getsubstring"===e.type)&&-1!==n.indexOf(e.getInputTargetBlock("STRING"))&&e.getInputTargetBlock("AT1")===l&&e.getInputTargetBlock("AT2")===a})),u=o.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&e.getNextBlock()===r&&e.getInputTargetBlock("TEXT")===s})),c=o.getAllBlocks().find((function(e){return"text"===e.type})),g=o.getAllBlocks().find((function(e){return"text_input"===e.type||"js_text_input"===e.type})),d=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getNextBlock()===u&&e.getInputTargetBlock("VALUE")===g}));if(d){var h=d.getField("VAR").getText();if(n.find((function(e){return e.getField("VAR").getText()!==h})))return"Be sure that the variable names all match so they all refer to the same text.";if("welcomeMsg"!==h&&"response"!==h)return"Be sure to name the variable response to reflect that it now holds the user response to the question aap kaise hain?  You can change a variable name by clicking its current name of "+h+" and then selecting Rename variable..."}if(g){if(g.getParent()!==d)return"Be sure to place the "+T2C.MSG.currentLanguage.TERMINAL_GETINPUTBYASKING+" block inside the "+T2C.MSG.currentLanguage.TERMINAL_LET+" one so the variable stores the response from the user.";if(c){if("aap kaise hain?"!==c.getFieldValue("TEXT"))return"The message of aap kaise hain? should stay the same so change it back to that.  The only difference here is that it becomes the prompt to the user rather than the text we'll be extracting a substring from, which instead will be the user's response.";if(c.getParent()!==g)return"Place the text block with the message aap kaise hain? inside the "+T2C.MSG.currentLanguage.TERMINAL_GETINPUTBYASKING+" one so that the user is prompted with this question."}}return"Drag in the "+T2C.MSG.currentLanguage.TERMINAL_GETINPUTBYASKING+" block from the toolbox and make aap kaise hain? its prompt.  Then change the variable name from welcomeMsg to response to reflect the fact that the variable will now hold the user's reply to the question aap kaise hain? instead of the question itself."}),{startPosition:re(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),h(n),f(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("👍 Great!  So are you seeing 2 lines of text here, or did you get an error?  If you received an error, it means your text that you entered wasn't long enough.  E.g., you can't extract all the characters from the input from position 1 to before position 15 for an input of bahut acchaa whose last character appears at position 11 (positions 12, 13, and 14 don't exist for this string!).  On the other hand, if your text was too long, you wouldn't get all of the characters beyond the initial one.  So to conclude this mission, let's fix this problem so it works for any string with at least 1 character!"),Z(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),Q(),o.updateToolbox(document.getElementById("toolbox"))}})),n.addTask(new r((function(){var e=o.getAllBlocks().find((function(e){return"text"===e.type&&"aap kaise hain?"==e.getFieldValue("TEXT")})),t=o.getAllBlocks().find((function(t){return("text_input"===t.type||"js_text_input"===t.type)&&t.getInputTargetBlock("TEXT")===e})),n=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&null===e.getNextBlock()&&e.getInputTargetBlock("VALUE")===t&&"response"===e.getField("VAR").getText()}));return e&&t&&n}),new s((function(){return"First, delete the two "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" blocks and all the ones that appear inside them so all that's left is the initial "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable statement assigned to the user's response."}),{startPosition:re(o,null,{},50,document.getElementById("top-header").offsetHeight+50),finish:function(){var e=ne("text_print"),t=ne("t2c_text_getsubstring"),n=ne("variables_get"),i=ne("math_number"),r=ne("math_number");oe(n,"VAR","response"),oe(i,"NUM",1),oe(r,"NUM",15),ie(e,"TEXT",t),ie(t,"STRING",n),ie(t,"AT1",i),ie(t,"AT2",r),o.options.maxInstances.text_print=0,o.options.maxInstances.text=0,o.options.maxInstances.variables_get=0,o.options.maxInstances.math_number=0,o.options.maxInstances.t2c_text_getsubstring=0,document.getElementById("toolbox").prepend(e),te(o,"type_in_all_but_first_general_str"),o.options.maxInstances.type_in_all_but_first_general_str=1}}))),n.addTask(new r((function(){var e=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"response"===e.getField("VAR").getText()})),t=o.getAllBlocks().find((function(t){return"t2c_text_length"===t.type&&-1!==e.indexOf(t.getInputTargetBlock("VALUE"))})),n=o.getAllBlocks().find((function(e){return"math_number"===e.type&&1===e.getFieldValue("NUM")})),i=o.getAllBlocks().find((function(o){return("t2c_text_getsubstring"===o.type||"js_text_getsubstring"===o.type)&&-1!==e.indexOf(o.getInputTargetBlock("STRING"))&&o.getInputTargetBlock("AT1")===n&&o.getInputTargetBlock("AT2")===t})),r=o.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&null===e.getNextBlock()&&e.getInputTargetBlock("TEXT")===i})),a=o.getAllBlocks().find((function(e){return"text"===e.type&&"aap kaise hain?"==e.getFieldValue("TEXT")})),l=o.getAllBlocks().find((function(e){return("text_input"===e.type||"js_text_input"===e.type)&&e.getInputTargetBlock("TEXT")===a})),s=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getNextBlock()===r&&e.getInputTargetBlock("VALUE")===l&&"response"===e.getField("VAR").getText()}));return 2===e.length&&t&&n&&i&&r&&a&&l&&s}),new s((function(){var e=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"response"===e.getField("VAR").getText()})),t=o.getAllBlocks().find((function(t){return"t2c_text_length"===t.type&&-1!==e.indexOf(t.getInputTargetBlock("VALUE"))})),n=o.getAllBlocks().find((function(e){return"math_number"===e.type&&1===e.getFieldValue("NUM")})),i=o.getAllBlocks().find((function(o){return("t2c_text_getsubstring"===o.type||"js_text_getsubstring"===o.type)&&-1!==e.indexOf(o.getInputTargetBlock("STRING"))&&o.getInputTargetBlock("AT1")===n&&o.getInputTargetBlock("AT2")===t})),r=o.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&e.getInputTargetBlock("TEXT")===i})),a=o.getAllBlocks().find((function(e){return"text"===e.type&&"aap kaise hain?"==e.getFieldValue("TEXT")})),l=o.getAllBlocks().find((function(e){return("text_input"===e.type||"js_text_input"===e.type)&&e.getInputTargetBlock("TEXT")===a})),s=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getInputTargetBlock("VALUE")===l&&"response"===e.getField("VAR").getText()}));return r&&s&&r.getNextBlock()===s?"The "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block should go below the "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block so the computer knows what response is when attempting to extract text from it.  Remember that statements are run from top to bottom.":r&&r.getPreviousBlock()!==s?"Place the new "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block that's used to display all characters beyond the initial one below the previous "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block.":"Drag in the type-in code block from the toolbox and type in the code necessary to display all the characters except the initial one from the user response.  As before, use "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" and the variable response in your answer.  But this time, make it work for any entered string, which means you can no longer enter a specific number for the position to end before.\nHINT: Remember what you used when you wanted to get the position of the last character?  How is 15, the number we used for aap kaise hain?, related to this string?  What would we use for theek?\nPlace this new block below the previous "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+"."}),{startPosition:re(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),h(n),f(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔✔👍 You got it, excellent problem solving as always!  And with that mastery, mission 4 is now complete!  In the next mission, we'll introduce a new block that'll be used to find the position numbers of the first occurrence of a given substring in another one.  We'll then use it in combination with the "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" from this lesson to get the text appearing between the first @ and . in an e-mail address (e.g., google from coolcoder@google.com or mail from expertsoftwareengineer@mail.co.uk)."),Z(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),Q(),ee(o),o.updateToolbox(document.getElementById("toolbox"))}})),n},function(e,t){var n=e||new c,o=t||Blockly.getMainWorkspace(),a=new le(o);o.setScale(1),Object(i.f)(o);var g=document.createElement("div");function d(e){e.addTask(new r((function(){return document.getElementById("output-container").classList.contains("show-container")}),new u([new s((function(){return T2C.MSG.currentLanguage.BUTTON_RUN_CODE}),{startPosition:{x:document.getElementById("run-code-button").offsetLeft+document.getElementById("run-code-button").offsetWidth,y:document.getElementById("run-code-button").offsetTop+document.getElementById("run-code-button").offsetHeight}}),new l(g,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("run-code-button").offsetLeft+document.getElementById("run-code-button").offsetWidth/2,y:document.getElementById("run-code-button").offsetTop+document.getElementById("run-code-button").offsetHeight/2}})])))}function h(e,t){var n=0;function o(){t.style.color=n%50<25?"#a00":"#000",++n<200&&requestAnimationFrame(o)}e.addTask(new r((function(){return n>=200}),{start:function(){t.style.verticalAlign="top",requestAnimationFrame(o)},isComplete:function(){return!0},animate:function(){return!0}}))}return g.innerText="👆",g.id="ptr",g.style.fontSize="x-large",g.style.position="absolute",g.style.zIndex="1001",document.getElementById("blockly-div").appendChild(g),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("In this mission, you will learn about the "+T2C.MSG.currentLanguage.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT+" and how it can be used to say get all of the text from the first @ up to the period.  But first let's warm up by playing the role of the computer!  You'll be given blocks of code and make the same substitutions the computer does step by step.  For example, you'd be given blocks of code and would then fix the values in the blocks in each "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+", as necessary, so that each line of output is the same.  Review the following code and run it. "),o.clear(),Blockly.Xml.domToWorkspace(Blockly.Xml.textToDom('<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="h,o`Pe$j=ny0;{YyZOf6">s</variable><variable id="C=}RR#/980k=`k+0tNNX">d</variable></variables><block type="variables_set" id="@:vzpwV=mw^.i0SPf7V0" x="10" y="10"><field name="VAR" id="h,o`Pe$j=ny0;{YyZOf6">s</field><value name="VALUE"><block type="text" id="j$6V6l/H[Dwr`.!vAvB["><field name="TEXT">bahut badhiya!</field></block></value><next><block type="variables_set" id="Oc4`#,o,Lrn5k-fD=QVo"><field name="VAR" id="C=}RR#/980k=`k+0tNNX">d</field><value name="VALUE"><block type="math_number" id="2#khGl:-b,.`HM}^A=$="><field name="NUM">2</field></block></value><next><block type="text_print" id="kf{V=ys0qMQ6*~SF-H*k"><value name="TEXT"><block type="t2c_text_charat" id="E=viOFSn~.aL|mL26hT]"><value name="VALUE"><block type="variables_get" id="%;PO1WmU7t8=*IM;:;Xf"><field name="VAR" id="h,o`Pe$j=ny0;{YyZOf6">s</field></block></value><value name="AT"><block type="math_arithmetic_basic" id="U77WV({DUp|nm-xTP~U/"><field name="OP">DIVIDE</field><value name="A"><block type="t2c_text_length" id="yYWf)7N$H9pAiXGg35??"><value name="VALUE"><block type="variables_get" id="-z~ir6R}#L-NVbzdguH@"><field name="VAR" id="h,o`Pe$j=ny0;{YyZOf6">s</field></block></value></block></value><value name="B"><block type="variables_get" id="c!t8M%Ya:ve7Z-61dEfc"><field name="VAR" id="C=}RR#/980k=`k+0tNNX">d</field></block></value></block></value></block></value><next><block type="text_print" id=".W/B2RyLo}@7_,ROcZf8"><value name="TEXT"><block type="t2c_text_charat" id="pEyqoYVgTf;n%!v5fwlm"><value name="VALUE"><block type="text" id="nfc_.e3dZ@t(B(#cd.q}"><field name="TEXT">bahut badhiya!</field></block></value><value name="AT"><block type="math_arithmetic_basic" id="|RBrP9*v@*6*izKt,[rn"><field name="OP">DIVIDE</field><value name="A"><block type="t2c_text_length" id="F^olT%VI^~6:ZS,M0Y()"><value name="VALUE"><block type="text" id="W7m3BB0ex*UlmklD9kv^"><field name="TEXT">bahut badhiya!</field></block></value></block></value><value name="B"><block type="math_number" id="*EiuS||*_IBjQcCz7UOe"><field name="NUM">2</field></block></value></block></value></block></value><next><block type="text_print" id="-)P(VNA6GQ$N-tF0aA24"><value name="TEXT"><block type="t2c_text_charat" id="|`wTwHzqqx76^aT]Qo=n"><value name="VALUE"><block type="text" id="8Qnf-u`+Y}P+L7dd6@S9"><field name="TEXT">bahut badhiya!</field></block></value><value name="AT"><block type="math_arithmetic_basic" id="}l]!csua:(UiMsdg?Sqb"><field name="OP">DIVIDE</field><value name="A"><block type="math_number" id="MKIf!l^_MgBNo2sqKIsW"><field name="NUM">14</field></block></value><value name="B"><block type="math_number" id="9)F[F{!`*^Z,]K%#0#]?"><field name="NUM">2</field></block></value></block></value></block></value><next><block type="text_print" id="X5dVF-U{q4o[BN_gD(3M"><value name="TEXT"><block type="t2c_text_charat" id="bO)t]WlK~g#ZQ*b/*K0m"><value name="VALUE"><block type="text" id="sp,K]3y^rrLm]|k5Hwue"><field name="TEXT">bahut badhiya!</field></block></value><value name="AT"><block type="math_number" id="a~Z9(L2{4=sC}am^6Ouk"><field name="NUM">7</field></block></value></block></value><next><block type="text_print" id="Y(v#QxpI|pm+%qno.Vw="><value name="TEXT"><block type="text" id="}e1Z/G(FCFb*zeB5=Riw"><field name="TEXT">a</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></xml>'),o),Blockly.svgResize(o),a.clearToolbox()}})),d(n),h(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){var e="bahut badhiya!",t=e.length/2;alert("So from the first "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" to the next, we combine the two substitutions of "+e+" for s and 2 for d.  Then we substitute "+e.length+' for "'+e+'".length from the second '+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" to the third, "+e.length/2+" for "+e.length+"/2 from the third to the fourth and finally "+e.charAt(t)+" for s."+T2C.MSG.currentLanguage.TERMINAL_GETCHARACTERNUMBER+"("+t+").\n Now it's your turn, fill in the empty text \"\" blocks/change the 0's so the substitutions are correctly made."),o.clear(),Blockly.Xml.domToWorkspace(Blockly.Xml.textToDom('<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="q#o)X1mj/{}xVG9{!0Id">s</variable><variable id="[nHdc`Bw[H6-xTzBoCF~">d</variable></variables><block type="variables_set" id="Hhs.U7UR_iqHWQ[%fkOO" x="8" y="8"><field name="VAR" id="q#o)X1mj/{}xVG9{!0Id">s</field><value name="VALUE"><block type="text" id="ZhPAvp#Qc=%gL_R[:h)k"><field name="TEXT">bahut badhiya!</field></block></value><next><block type="variables_set" id=")^veN0414B_G(e2vMS%O"><field name="VAR" id="[nHdc`Bw[H6-xTzBoCF~">d</field><value name="VALUE"><block type="math_number" id="t@BLg7iRR9]dl~](^^n#"><field name="NUM">2</field></block></value><next><block type="text_print" id="s)`9U4iuB3F-xt*da#x%"><value name="TEXT"><block type="t2c_text_getsubstring" id="$@W{+q2HOkq-9Ll$PzMN"><value name="STRING"><block type="variables_get" id="q2Zs_uj,]hR7abgk2mA~"><field name="VAR" id="q#o)X1mj/{}xVG9{!0Id">s</field></block></value><value name="AT1"><block type="variables_get" id="iVX{BTCZ~]^**4^gTvA9"><field name="VAR" id="[nHdc`Bw[H6-xTzBoCF~">d</field></block></value><value name="AT2"><block type="math_arithmetic_basic" id="__^OIeo*a*FO}6;W(g^6"><field name="OP">MINUS</field><value name="A"><block type="t2c_text_length" id="I.X8;ES])[!4zDo.bXp("><value name="VALUE"><block type="variables_get" id="Ixm^//UrleFOiXJJv6LD"><field name="VAR" id="q#o)X1mj/{}xVG9{!0Id">s</field></block></value></block></value><value name="B"><block type="math_number" id="0u-q#`Z_#GO?|2;GZqBz"><field name="NUM">3</field></block></value></block></value></block></value><next><block type="text_print" id="W7.|U+A{(?Vn_Bzcb=-h"><value name="TEXT"><block type="t2c_text_getsubstring" id="Xe`@c0}Z4xfD7_u6TrHM"><value name="STRING"><block type="text" id="alpkTAif^Ty3In_`_+IH"><field name="TEXT"></field></block></value><value name="AT1"><block type="math_number" id="REB:M!UI(Oq3]=ba#];("><field name="NUM">0</field></block></value><value name="AT2"><block type="math_arithmetic_basic" id="!A;02^^9;)=/l^Vt$#UK"><field name="OP">MINUS</field><value name="A"><block type="t2c_text_length" id="Y(-W4Nm}3pANT4HH,Je7"><value name="VALUE"><block type="text" id="fY_je?nmP7Fw;+a5~K@3"><field name="TEXT"></field></block></value></block></value><value name="B"><block type="math_number" id="hRST?a1{`j-iY)gwEFx5"><field name="NUM">3</field></block></value></block></value></block></value><next><block type="text_print" id="lX]wo/5G42_b34Y_nCt#"><value name="TEXT"><block type="t2c_text_getsubstring" id="AP/-~`k{^dL[d%gf_`^R"><value name="STRING"><block type="text" id="R9h+ZAOo*dh[+K(YrRSp"><field name="TEXT"></field></block></value><value name="AT1"><block type="math_number" id="T48puBe/(4nzyg.E1!e`"><field name="NUM">0</field></block></value><value name="AT2"><block type="math_arithmetic_basic" id="fT-W-zs@h5O{)U#DTN7@"><field name="OP">MINUS</field><value name="A"><block type="math_number" id="qe0!`p7M.{1g-u0bR1g|"><field name="NUM">0</field></block></value><value name="B"><block type="math_number" id="yx@N?NCSo^#pL](EHt|R"><field name="NUM">3</field></block></value></block></value></block></value><next><block type="text_print" id="vkEY:[R|sQ=J2MCiq5yP"><value name="TEXT"><block type="t2c_text_getsubstring" id="fcP:}LVGd5y$Fm^#@wkR"><value name="STRING"><block type="text" id="~u`dA(TCYHcAf@@%M.h."><field name="TEXT"></field></block></value><value name="AT1"><block type="math_number" id="TU=)|T-9HkcDm|^L+fU."><field name="NUM">0</field></block></value><value name="AT2"><block type="math_number" id="|K.Q0sj,q+s9^:`ri$H^"><field name="NUM">0</field></block></value></block></value><next><block type="text_print" id=".BgI;0P=ex@|P1x*Oi-B"><value name="TEXT"><block type="text" id="b)LgLVL^oTdle4)Z_KX%"><field name="TEXT"></field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></xml>'),o),Blockly.svgResize(o),o.getAllBlocks().forEach((function(e){return e.setMovable(!1)})),se(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),ue()}})),n.addTask(new r((function(){var e=o.getAllBlocks().filter((function(e){return"text"===e.type&&"hut badhi"==e.getFieldValue("TEXT")})),t=o.getAllBlocks().filter((function(t){return"text_print"===t.type&&null===t.getNextBlock()&&-1!==e.indexOf(t.getInputTargetBlock("TEXT"))})),n=o.getAllBlocks().filter((function(e){return"math_number"===e.type&&"11"==e.getFieldValue("NUM")})),i=o.getAllBlocks().filter((function(e){return"math_number"===e.type&&"2"==e.getFieldValue("NUM")})),r=o.getAllBlocks().filter((function(e){return"text"===e.type&&"bahut badhiya!"==e.getFieldValue("TEXT")})),a=o.getAllBlocks().filter((function(e){return"t2c_text_getsubstring"===e.type&&-1!==r.indexOf(e.getInputTargetBlock("STRING"))&&-1!==i.indexOf(e.getInputTargetBlock("AT1"))&&-1!==n.indexOf(e.getInputTargetBlock("AT2"))})),l=o.getAllBlocks().filter((function(e){return"text_print"===e.type&&-1!==t.indexOf(e.getNextBlock())&&-1!==a.indexOf(e.getInputTargetBlock("TEXT"))})),s=o.getAllBlocks().filter((function(e){return"math_number"===e.type&&"3"==e.getFieldValue("NUM")})),u=o.getAllBlocks().filter((function(e){return"math_number"===e.type&&"14"==e.getFieldValue("NUM")})),c=o.getAllBlocks().filter((function(e){return"math_arithmetic_basic"===e.type&&-1!==u.indexOf(e.getInputTargetBlock("A"))&&-1!==s.indexOf(e.getInputTargetBlock("B"))&&"MINUS"==e.getFieldValue("OP")})),g=o.getAllBlocks().filter((function(e){return"t2c_text_getsubstring"===e.type&&-1!==r.indexOf(e.getInputTargetBlock("STRING"))&&-1!==i.indexOf(e.getInputTargetBlock("AT1"))&&-1!==c.indexOf(e.getInputTargetBlock("AT2"))})),d=o.getAllBlocks().filter((function(e){return"text_print"===e.type&&-1!==l.indexOf(e.getNextBlock())&&-1!==g.indexOf(e.getInputTargetBlock("TEXT"))})),h=o.getAllBlocks().filter((function(e){return"t2c_text_length"===e.type&&-1!==r.indexOf(e.getInputTargetBlock("VALUE"))})),f=o.getAllBlocks().filter((function(e){return"math_arithmetic_basic"===e.type&&-1!==h.indexOf(e.getInputTargetBlock("A"))&&-1!==s.indexOf(e.getInputTargetBlock("B"))&&"MINUS"==e.getFieldValue("OP")})),p=o.getAllBlocks().filter((function(e){return"t2c_text_getsubstring"===e.type&&-1!==r.indexOf(e.getInputTargetBlock("STRING"))&&-1!==i.indexOf(e.getInputTargetBlock("AT1"))&&-1!==f.indexOf(e.getInputTargetBlock("AT2"))})),m=o.getAllBlocks().filter((function(e){return"text_print"===e.type&&-1!==d.indexOf(e.getNextBlock())&&-1!==p.indexOf(e.getInputTargetBlock("TEXT"))})),y=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"s"===e.getField("VAR").getText()})),T=o.getAllBlocks().filter((function(e){return"t2c_text_length"===e.type&&-1!==y.indexOf(e.getInputTargetBlock("VALUE"))})),_=o.getAllBlocks().filter((function(e){return"math_arithmetic_basic"===e.type&&-1!==T.indexOf(e.getInputTargetBlock("A"))&&-1!==s.indexOf(e.getInputTargetBlock("B"))&&"MINUS"==e.getFieldValue("OP")})),b=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"d"===e.getField("VAR").getText()})),k=o.getAllBlocks().filter((function(e){return"t2c_text_getsubstring"===e.type&&-1!==y.indexOf(e.getInputTargetBlock("STRING"))&&-1!==b.indexOf(e.getInputTargetBlock("AT1"))&&-1!==_.indexOf(e.getInputTargetBlock("AT2"))})),x=o.getAllBlocks().filter((function(e){return"text_print"===e.type&&-1!==m.indexOf(e.getNextBlock())&&-1!==k.indexOf(e.getInputTargetBlock("TEXT"))})),B=o.getAllBlocks().filter((function(e){return"variables_set"===e.type&&-1!==x.indexOf(e.getNextBlock())&&-1!==i.indexOf(e.getInputTargetBlock("VALUE"))&&"d"===e.getField("VAR").getText()})),E=o.getAllBlocks().filter((function(e){return"variables_set"===e.type&&-1!==B.indexOf(e.getNextBlock())&&-1!==r.indexOf(e.getInputTargetBlock("VALUE"))&&"s"===e.getField("VAR").getText()}));return 1===e.length&&1===t.length&&1===n.length&&4===i.length&&5===r.length&&1===a.length&&1===l.length&&3===s.length&&1===u.length&&1===c.length&&1===g.length&&1===d.length&&1===h.length&&1===f.length&&1===p.length&&1===m.length&&2===y.length&&1===T.length&&1===_.length&&1===b.length&&1===k.length&&1===x.length&&1===B.length&&1===E.length}),new s((function(){for(var e=o.getAllBlocks(!0),t=e.filter((function(e){return"text_print"===e.type||"js_text_print"===e.type})),n=e.filter((function(e){return"t2c_text_getsubstring"===e.type||"js_text_getsubstring"===e.type})),i=e.find((function(e){return"text"===e.type&&e.getParent()&&"t2c_text_length"===e.getParent().type})),r=e.find((function(e){return"math_arithmetic_basic"===e.type&&e.getInputTargetBlock("A")&&"math_number"===e.getInputTargetBlock("A").type})),a=n.map((function(e){return e.getInputTargetBlock("AT2")})).find((function(e){return e&&"math_number"===e.type})),l=t.map((function(e){return e.getInputTargetBlock("TEXT")})).find((function(e){return e&&"text"===e.type})),s="bahut badhiya!",u=s.substring(2,s.length-3),c=1;c<=3;c++){var g=n[c].getInputTargetBlock("STRING"),d=n[c].getInputTargetBlock("AT1");if(g&&"text"===g.type&&g.getFieldValue("TEXT")&&g.getFieldValue("TEXT")!==s)return"The text on line "+(c+3)+" is incorrect.  Substitute s with the value that it's initially assigned to.";if(d&&"math_number"===d.type&&d.getFieldValue("NUM")&&2!==d.getFieldValue("NUM"))return"The number in the first position on line "+(c+3)+" is incorrect.  Substitute d with the value that it's initially assigned to."}if(i&&i.getFieldValue("TEXT")&&i.getFieldValue("TEXT")!==s)return"The text in the "+T2C.MSG.currentLanguage.TERMINAL_LENGTH+" block on line 4 is incorrect.  Substitute s with the value that it's initially assigned to.";if(r&&l){var h=r.getInputTargetBlock("A").getFieldValue("NUM"),f=l.getFieldValue("TEXT");if(h===s.length-1)return"Remember the count for the length starts with 1 and include the spaces and punctuation are counted.";if(h&&h!==s.length)return"Substitute the first number in the arithmetic block with the subtraction on line 5 with s's length.";if(h&&a&&a.getFieldValue("NUM")!==s.length-3)return"What is s.length - 3?  This is what should be substituted for the second number block on line 6.";if(h&&f){if(u===f.substring(1))return"Remember to start counting from 0 when determining what the resulting string will be on the last line.";if(f===u.substring(1))return"Remember that "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" starts extracting text at the exact position given for its first number.  Change the string literal on the last line, accordingly.";if(u===f.substring(0,f.length-1))return"Remember that "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" stops extracting text at one position before its given second number.  Change the string literal on the last line, accordingly.";if(u!==f)return"The string literal you have on the last line is incorrect.  Check the previous lines in order and then fix it accordingly."}}return"Replace all the blank string literals and 0's with the appropriate text and numbers that are substituted as the computer would from top to bottom so that every line of output is the same.  Try to do this without running the program until you get the message to do so (when you filled in everything correctly)."}),{startPosition:he(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),d(n),h(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔ Nice, so now let's tweak this a little, adding the new "+T2C.MSG.currentLanguage.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT+" block, which given a string (haystack) to look through and a string appearing in it (needle) to find, produces the position NUMBER of its first occurrence.  As before, replace all the blank string literals and 0's with the appropriate text and numbers that are substituted as the computer would from top to bottom so that every line of output is the same.  Try to do this without running the program until you get the message to do so (when you filled in everything correctly)."),o.clear(),Blockly.Xml.domToWorkspace(Blockly.Xml.textToDom('<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="q#o)X1mj/{}xVG9{!0Id">s</variable><variable id="[nHdc`Bw[H6-xTzBoCF~">spacePosition</variable></variables><block type="variables_set" id="Hhs.U7UR_iqHWQ[%fkOO" collapsed="true" x="30" y="-1"><field name="VAR" id="q#o)X1mj/{}xVG9{!0Id">s</field><value name="VALUE"><block type="text" id="ZhPAvp#Qc=%gL_R[:h)k"><field name="TEXT">bahut badhiya!</field></block></value><next><block type="variables_set" id=")^veN0414B_G(e2vMS%O" collapsed="true"><field name="VAR" id="[nHdc`Bw[H6-xTzBoCF~">spacePosition</field><value name="VALUE"><block type="t2c_text_indexof" id="hAw#x^?o^2?:xo(wd7=H"><value name="VALUE"><block type="variables_get" id="dH#tNW4#kpBgp~n[WQbc"><field name="VAR" id="q#o)X1mj/{}xVG9{!0Id">s</field></block></value><value name="FIND"><block type="text" id="B./%UVj[gkh,,l+)Lf$-"><field name="TEXT"> </field></block></value></block></value><next><block type="text_print" id="s)`9U4iuB3F-xt*da#x%"><value name="TEXT"><block type="t2c_text_getsubstring" id="$@W{+q2HOkq-9Ll$PzMN"><value name="STRING"><block type="variables_get" id="q2Zs_uj,]hR7abgk2mA~"><field name="VAR" id="q#o)X1mj/{}xVG9{!0Id">s</field></block></value><value name="AT1"><block type="math_arithmetic_basic" id="3{kvaG*$K2H)C:XVo,.K"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="OUhaa+uc%A3/?~D=Hpr?"><field name="NUM">1</field></shadow><block type="variables_get" id="iVX{BTCZ~]^**4^gTvA9"><field name="VAR" id="[nHdc`Bw[H6-xTzBoCF~">spacePosition</field></block></value><value name="B"><shadow type="math_number" id="U9XnjWla5TG-//K]%1S_"><field name="NUM">1</field></shadow><block type="math_number" id="I6/p.%Ab#m3l{uGj`7]s"><field name="NUM">3</field></block></value></block></value><value name="AT2"><block type="math_arithmetic_basic" id="__^OIeo*a*FO}6;W(g^6"><field name="OP">ADD</field><value name="A"><block type="variables_get" id="QK^0)hG7ZW$zXWS*fOcE"><field name="VAR" id="[nHdc`Bw[H6-xTzBoCF~">spacePosition</field></block></value><value name="B"><block type="math_number" id="0u-q#`Z_#GO?|2;GZqBz"><field name="NUM">4</field></block></value></block></value></block></value><next><block type="text_print" id="W7.|U+A{(?Vn_Bzcb=-h"><value name="TEXT"><block type="t2c_text_getsubstring" id="Xe`@c0}Z4xfD7_u6TrHM"><value name="STRING"><block type="text" id="alpkTAif^Ty3In_`_+IH"><field name="TEXT"></field></block></value><value name="AT1"><block type="math_arithmetic_basic" id="MMw]|?].qxoii#5gbDY."><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="Zjr}U?$}ad^b%qT,r2TU"><field name="NUM">1</field></shadow><block type="math_number" id="_u;0X[Nc*`sQk!iMH95C"><field name="NUM">0</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow><block type="math_number" id=",a,-k|+!02?C/:FWu10%"><field name="NUM">3</field></block></value></block></value><value name="AT2"><block type="math_arithmetic_basic" id="C=|6LCmIY-9(?zd$n;Yr"><field name="OP">ADD</field><value name="A"><block type="math_number" id="`;{%e({;q|LY5d3lIN31"><field name="NUM">0</field></block></value><value name="B"><block type="math_number" id="_g}MI+Yg!%ewA7.%UlSc"><field name="NUM">4</field></block></value></block></value></block></value><next><block type="text_print" id="lX]wo/5G42_b34Y_nCt#"><value name="TEXT"><block type="t2c_text_getsubstring" id="AP/-~`k{^dL[d%gf_`^R"><value name="STRING"><block type="text" id="R9h+ZAOo*dh[+K(YrRSp"><field name="TEXT"></field></block></value><value name="AT1"><block type="math_number" id="T48puBe/(4nzyg.E1!e`"><field name="NUM">0</field></block></value><value name="AT2"><block type="math_number" id="Mf5SeAN7d(ZIhD=Pz(ic"><field name="NUM">0</field></block></value></block></value><next><block type="text_print" id=".BgI;0P=ex@|P1x*Oi-B"><value name="TEXT"><block type="text" id="b)LgLVL^oTdle4)Z_KX%"><field name="TEXT"></field></block></value></block></next></block></next></block></next></block></next></block></next></block></xml>'),o),Blockly.svgResize(o),o.getAllBlocks().forEach((function(e){return e.setMovable(!1)})),se(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),ue()}})),n.addTask(new r((function(){var e=o.getAllBlocks().filter((function(e){return"text"===e.type&&"hut bad"==e.getFieldValue("TEXT")})),t=o.getAllBlocks().filter((function(t){return"text_print"===t.type&&null===t.getNextBlock()&&-1!==e.indexOf(t.getInputTargetBlock("TEXT"))})),n=o.getAllBlocks().filter((function(e){return"math_number"===e.type&&"9"==e.getFieldValue("NUM")})),i=o.getAllBlocks().filter((function(e){return"math_number"===e.type&&"2"==e.getFieldValue("NUM")})),r=o.getAllBlocks().filter((function(e){return"text"===e.type&&"bahut badhiya!"==e.getFieldValue("TEXT")})),a=o.getAllBlocks().filter((function(e){return"t2c_text_getsubstring"===e.type&&-1!==r.indexOf(e.getInputTargetBlock("STRING"))&&-1!==i.indexOf(e.getInputTargetBlock("AT1"))&&-1!==n.indexOf(e.getInputTargetBlock("AT2"))})),l=o.getAllBlocks().filter((function(e){return"text_print"===e.type&&-1!==t.indexOf(e.getNextBlock())&&-1!==a.indexOf(e.getInputTargetBlock("TEXT"))})),s=o.getAllBlocks().filter((function(e){return"math_number"===e.type&&"4"==e.getFieldValue("NUM")})),u=o.getAllBlocks().filter((function(e){return"math_number"===e.type&&"5"==e.getFieldValue("NUM")})),c=o.getAllBlocks().filter((function(e){return"math_arithmetic_basic"===e.type&&-1!==u.indexOf(e.getInputTargetBlock("A"))&&-1!==s.indexOf(e.getInputTargetBlock("B"))&&"ADD"==e.getFieldValue("OP")})),g=o.getAllBlocks().filter((function(e){return"math_number"===e.type&&"3"==e.getFieldValue("NUM")})),d=o.getAllBlocks().filter((function(e){return"math_arithmetic_basic"===e.type&&-1!==u.indexOf(e.getInputTargetBlock("A"))&&-1!==g.indexOf(e.getInputTargetBlock("B"))&&"MINUS"==e.getFieldValue("OP")})),h=o.getAllBlocks().filter((function(e){return"t2c_text_getsubstring"===e.type&&-1!==r.indexOf(e.getInputTargetBlock("STRING"))&&-1!==d.indexOf(e.getInputTargetBlock("AT1"))&&-1!==c.indexOf(e.getInputTargetBlock("AT2"))})),f=o.getAllBlocks().filter((function(e){return"text_print"===e.type&&-1!==l.indexOf(e.getNextBlock())&&-1!==h.indexOf(e.getInputTargetBlock("TEXT"))})),p=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"spacePosition"===e.getField("VAR").getText()})),m=o.getAllBlocks().filter((function(e){return"math_arithmetic_basic"===e.type&&-1!==p.indexOf(e.getInputTargetBlock("A"))&&-1!==s.indexOf(e.getInputTargetBlock("B"))&&"ADD"==e.getFieldValue("OP")})),y=o.getAllBlocks().filter((function(e){return"math_arithmetic_basic"===e.type&&-1!==p.indexOf(e.getInputTargetBlock("A"))&&-1!==g.indexOf(e.getInputTargetBlock("B"))&&"MINUS"==e.getFieldValue("OP")})),T=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"s"===e.getField("VAR").getText()})),_=o.getAllBlocks().filter((function(e){return"t2c_text_getsubstring"===e.type&&-1!==T.indexOf(e.getInputTargetBlock("STRING"))&&-1!==y.indexOf(e.getInputTargetBlock("AT1"))&&-1!==m.indexOf(e.getInputTargetBlock("AT2"))})),b=o.getAllBlocks().filter((function(e){return"text_print"===e.type&&-1!==f.indexOf(e.getNextBlock())&&-1!==_.indexOf(e.getInputTargetBlock("TEXT"))})),k=o.getAllBlocks().filter((function(e){return"text"===e.type&&" "==e.getFieldValue("TEXT")})),x=o.getAllBlocks().filter((function(e){return"t2c_text_indexof"===e.type&&-1!==T.indexOf(e.getInputTargetBlock("VALUE"))&&-1!==k.indexOf(e.getInputTargetBlock("FIND"))})),B=o.getAllBlocks().filter((function(e){return"variables_set"===e.type&&-1!==b.indexOf(e.getNextBlock())&&-1!==x.indexOf(e.getInputTargetBlock("VALUE"))&&"spacePosition"===e.getField("VAR").getText()})),E=o.getAllBlocks().filter((function(e){return"variables_set"===e.type&&-1!==B.indexOf(e.getNextBlock())&&-1!==r.indexOf(e.getInputTargetBlock("VALUE"))&&"s"===e.getField("VAR").getText()}));return 1===e.length&&1===t.length&&1===n.length&&1===i.length&&3===r.length&&1===a.length&&1===l.length&&2===s.length&&2===u.length&&1===c.length&&2===g.length&&1===d.length&&1===h.length&&1===f.length&&2===p.length&&1===m.length&&1===y.length&&2===T.length&&1===_.length&&1===b.length&&1===k.length&&1===x.length&&1===B.length&&1===E.length}),new s((function(){for(var e=o.getAllBlocks(!0),t=e.filter((function(e){return"text_print"===e.type||"js_text_print"===e.type})),n=e.filter((function(e){return"t2c_text_getsubstring"===e.type||"js_text_getsubstring"===e.type})),i=e.filter((function(e){return"math_arithmetic_basic"===e.type})).map((function(e){return e.getInputTargetBlock("A")})).filter((function(e){return e&&"math_number"===e.type})),r=n.find((function(e){return e.getInputTargetBlock("AT1")&&e.getInputTargetBlock("AT2")&&"math_number"===e.getInputTargetBlock("AT1").type&&"math_number"===e.getInputTargetBlock("AT2").type})),a=t.map((function(e){return e.getInputTargetBlock("TEXT")})).find((function(e){return e&&"text"===e.type})),l=r&&r.getInputTargetBlock("AT1").getFieldValue("NUM"),s=r&&r.getInputTargetBlock("AT2").getFieldValue("NUM"),u="bahut badhiya!",c=u.indexOf(" "),g=u.substring(c-3,c+4),d=1;d<=2;d++){var h=n[d].getInputTargetBlock("STRING"),f=i[d-1];if(h&&"text"===h.type&&h.getFieldValue("TEXT")&&h.getFieldValue("TEXT")!==u)return"The text on line "+(d+3)+" is incorrect.  Substitute s with the value that it's initially assigned to.";if(f&&f.getFieldValue("NUM")&&f.getFieldValue("NUM")!==c)return"The left number in the "+(1===d?"first":"second")+" arithmetic block on line 4 is incorrect.  Substitute each spacePosition with the position of the first space in s, i.e., "+u+"."}if(l&&l!==c-3)return"The "+l+" on line 5 is incorrect; it should be the result of subtracting 3 from the value of spacePosition.";if(s&&s!==c+4)return"The "+s+" on line 5 is incorrect; it should be the result of adding 4 to the value of spacePosition.";if(l&&s&&a){var p=a.getFieldValue("TEXT");if(p){if(g===p.substring(1))return"Remember to start counting from 0 when determining what the resulting string will be on the last line.";if(p===g.substring(1))return"Remember that "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" starts extracting text at the exact position given for its first number.  Change the string literal on the last line, accordingly.";if(g===p.substring(0,p.length-1))return"Remember that "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" stops extracting text at one position before its given second number.  Change the string literal on the last line, accordingly.";if(g!==p)return"The string literal you have on the last line is incorrect.  Check the previous lines in order and then fix it accordingly."}}return"The new "+T2C.MSG.currentLanguage.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT+" takes a string (haystack: a space in this code excerpt) to look through and a string appearing in it (needle) to find as inputs and produces the position NUMBER of the needle's first occurrence in haystack.  As before, replace all the blank string literals and 0's with the appropriate text and numbers that are substituted as the computer would from top to bottom so that every line of output is the same.  Try to do this without running the program until you get the message to do so (when you filled in everything correctly)."}),{startPosition:he(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),d(n),h(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔ Nice x 2!  So as you can see the new "+T2C.MSG.currentLanguage.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT+" allows us to extract characters before/after a desired character(s) when used to determine starting/ending positions for "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" (or just a single position for "+T2C.MSG.currentLanguage.TERMINAL_GETCHARACTERNUMBER+").  Let's try a few more examples where you'll again replace all the blank string literals and 0's with the appropriate text and numbers that are substituted as the computer would from top to bottom so that every line of output is the same.  Try to do this without running the program until you get the message to do so (when you filled in everything correctly)."),o.clear(),Blockly.Xml.domToWorkspace(Blockly.Xml.textToDom('<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="qJ=BGly2K{YdSsh3,b#O">greeting</variable></variables><block type="variables_set" id="P1YA(r1IJePVhHp%Ed|D" movable="false" x="-337" y="-671"><field name="VAR" id="qJ=BGly2K{YdSsh3,b#O">greeting</field><value name="VALUE"><block type="text" id="eH?sx|^+[M*YG!)50`_~" movable="false"><field name="TEXT">hey HEY hey!</field></block></value><next><block type="text_print" id="8uwp:W!TVbS^rfA$tDw3" movable="false"><value name="TEXT"><block type="t2c_text_charat" id="Di@mTUjU{+`:w^M,?7hY" movable="false"><value name="VALUE"><block type="variables_get" id=")}3.,]B:MN(:@L.1.%M8" movable="false"><field name="VAR" id="qJ=BGly2K{YdSsh3,b#O">greeting</field></block></value><value name="AT"><block type="t2c_text_indexof" id="{jf`=!cPrtVgdHWE0,:N" movable="false"><value name="VALUE"><block type="variables_get" id="cA9|qD5|v2oX*I5y678@" movable="false"><field name="VAR" id="qJ=BGly2K{YdSsh3,b#O">greeting</field></block></value><value name="FIND"><block type="text" id="._Y$K2]i~sgu}#{z3=?t" movable="false"><field name="TEXT">H</field></block></value></block></value></block></value><next><block type="text_print" id="#oLKX9(l_4,3i1v=33nN" movable="false"><value name="TEXT"><block type="t2c_text_charat" id="xYsc48S=|pkzs)00p^w)" movable="false"><value name="VALUE"><block type="text" id="Knlk|w:(Vd_=ZH?M{B6[" movable="false"><field name="TEXT"></field></block></value><value name="AT"><block type="t2c_text_indexof" id="6Z^Bm0SY/(G[,%B;BPz3" movable="false"><value name="VALUE"><block type="text" id="XMdK2~YyMQCWjW6rNW1*" movable="false"><field name="TEXT"></field></block></value><value name="FIND"><block type="text" id="gkHSh%%BRA`wkeBdex.v" movable="false"><field name="TEXT">H</field></block></value></block></value></block></value><next><block type="text_print" id="W#|Ks*3clZo{D4uZ;OWZ" movable="false"><value name="TEXT"><block type="t2c_text_charat" id="gT5M[rYF]7^mJuCj7hKx" movable="false"><value name="VALUE"><block type="text" id="fh-Co[SOuY2]nZ,um}Y%" movable="false"><field name="TEXT"></field></block></value><value name="AT"><block type="math_number" id="w$|.@[IJ=n^g(1yc1iOb" movable="false"><field name="NUM">0</field></block></value></block></value><next><block type="text_print" id="5ezA0Gk@Z,1=w{4Y|O:_" movable="false"><value name="TEXT"><block type="text" id="+FDJie%sE;8.]TrsOEa|" movable="false"><field name="TEXT"></field></block></value></block></next></block></next></block></next></block></next></block></xml>'),o),Blockly.svgResize(o),o.getAllBlocks().forEach((function(e){return e.setMovable(!1)})),se(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),ue()}})),n.addTask(new r((function(){var e=o.getAllBlocks().filter((function(e){return"text"===e.type&&"H"===e.getFieldValue("TEXT")})),t=o.getAllBlocks().filter((function(t){return"text_print"===t.type&&null===t.getNextBlock()&&-1!==e.indexOf(t.getInputTargetBlock("TEXT"))})),n=o.getAllBlocks().filter((function(e){return"math_number"===e.type&&4===e.getFieldValue("NUM")})),i=o.getAllBlocks().filter((function(e){return"text"===e.type&&"hey HEY hey!"==e.getFieldValue("TEXT")})),r=o.getAllBlocks().filter((function(e){return"t2c_text_charat"===e.type&&-1!==i.indexOf(e.getInputTargetBlock("VALUE"))&&-1!==n.indexOf(e.getInputTargetBlock("AT"))})),a=o.getAllBlocks().filter((function(e){return"text_print"===e.type&&-1!==t.indexOf(e.getNextBlock())&&-1!==r.indexOf(e.getInputTargetBlock("TEXT"))})),l=o.getAllBlocks().filter((function(t){return"t2c_text_indexof"===t.type&&-1!==i.indexOf(t.getInputTargetBlock("VALUE"))&&-1!==e.indexOf(t.getInputTargetBlock("FIND"))})),s=o.getAllBlocks().filter((function(e){return"t2c_text_charat"===e.type&&-1!==i.indexOf(e.getInputTargetBlock("VALUE"))&&-1!==l.indexOf(e.getInputTargetBlock("AT"))})),u=o.getAllBlocks().filter((function(e){return"text_print"===e.type&&-1!==a.indexOf(e.getNextBlock())&&-1!==s.indexOf(e.getInputTargetBlock("TEXT"))})),c=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"greeting"===e.getField("VAR").getText()})),g=o.getAllBlocks().filter((function(t){return"t2c_text_indexof"===t.type&&-1!==c.indexOf(t.getInputTargetBlock("VALUE"))&&-1!==e.indexOf(t.getInputTargetBlock("FIND"))})),d=o.getAllBlocks().filter((function(e){return"t2c_text_charat"===e.type&&-1!==c.indexOf(e.getInputTargetBlock("VALUE"))&&-1!==g.indexOf(e.getInputTargetBlock("AT"))})),h=o.getAllBlocks().filter((function(e){return"text_print"===e.type&&-1!==u.indexOf(e.getNextBlock())&&-1!==d.indexOf(e.getInputTargetBlock("TEXT"))})),f=o.getAllBlocks().filter((function(e){return"variables_set"===e.type&&-1!==h.indexOf(e.getNextBlock())&&-1!==i.indexOf(e.getInputTargetBlock("VALUE"))&&"greeting"===e.getField("VAR").getText()}));return 3===e.length&&1===t.length&&1===n.length&&4===i.length&&1===r.length&&1===a.length&&1===l.length&&1===s.length&&1===u.length&&2===c.length&&1===g.length&&1===d.length&&1===h.length&&1===f.length}),new s((function(){var e=o.getAllBlocks(!0),t=e.filter((function(e){return"t2c_text_charat"===e.type||"js_text_charat"===e.type})).map((function(e){return e.getInputTargetBlock("VALUE")})).filter((function(e){return e&&"text"===e.type})),n=e.filter((function(e){return"t2c_text_indexof"===e.type||"js_text_indexof"===e.type})).map((function(e){return e.getInputTargetBlock("VALUE")})).find((function(e){return e&&"text"===e.type})),i=e.find((function(e){return"math_number"===e.type&&e.getParent()&&("t2c_text_charat"===e.getParent().type||"js_text_charat"===e.getParent().type)})),r=e.find((function(e){return"text"===e.type&&e.getParent()&&("text_print"===e.getParent().type||"js_text_print"===e.getParent().type)})),a="hey HEY hey!",l="H";a.indexOf(l);for(var s=0;s<=1;s++){var u=t[s];if(u&&u.getFieldValue("TEXT")&&u.getFieldValue("TEXT")!==a)return"The text before "+T2C.MSG.currentLanguage.TERMINAL_GETCHARACTERNUMBER+" on line "+(s+3)+" is incorrect.  Substitute greeting with the value that it's initially assigned to."}if(n&&n.getFieldValue("TEXT")&&n.getFieldValue("TEXT")!==a)return"The text before "+T2C.MSG.currentLanguage.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT+" on line 3 is incorrect.  Substitute greeting with the value that it's initially assigned to.";if(i){var c=i.getFieldValue("NUM");if(c&&c===a.indexOf(l.toLowerCase()))return"The number you substituted on line 4 is incorrect.  "+T2C.MSG.currentLanguage.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT+" is case sensitive meaning that H is different than "+l.toLowerCase()+".";if(c&&c===a.indexOf(l)+1)return"The number you substituted on line 4 is incorrect.  Remember that positions start at 0.";if(c&&c===a.indexOf(l)-1)return"The number you substituted on line 4 is incorrect.  "+T2C.MSG.currentLanguage.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT+" gets the *exact* position of the first occurrence.";if(c&&c!==a.indexOf(l))return"The number you substituted on line 4 is incorrect.  Remember to count all of the characters including spaces when getting the position of the first H.";if(c===a.indexOf(l)&&r){var g=r.getFieldValue("TEXT");if(g===l.toLowerCase())return"The string literal on the last line is incorrect.  Remember to type in the same case ("+l.toLowerCase()+" versus H).";if(g&&g!==l)return"The string literal on the last line is incorrect.  Check the previous lines in order and then fix it accordingly; it should be the result of the substitution of "+T2C.MSG.currentLanguage.TERMINAL_GETCHARACTERNUMBER+"."}}return"Replace all the blank string literals and 0's with the appropriate text and numbers that are substituted as the computer would from top to bottom so that every line of output is the same.  Try to do this without running the program until you get the message to do so (when you filled in everything correctly)."}),{startPosition:he(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),d(n),h(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔ Nice x 3!  So as you may have noticed, you got back the character you started with.  Can you see why?  If you get the position number of an H and then ask what character is at that position, it should be H!  Now, let's reverse the order of the "+T2C.MSG.currentLanguage.TERMINAL_GETCHARACTERNUMBER+" and "+T2C.MSG.currentLanguage.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT+" to see what happens."),o.clear(),Blockly.Xml.domToWorkspace(Blockly.Xml.textToDom('<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="qJ=BGly2K{YdSsh3,b#O">greeting</variable></variables><block type="variables_set" id="P1YA(r1IJePVhHp%Ed|D" x="-326" y="-676"><field name="VAR" id="qJ=BGly2K{YdSsh3,b#O">greeting</field><value name="VALUE"><block type="text" id="eH?sx|^+[M*YG!)50`_~"><field name="TEXT">HEY hey hey!</field></block></value><next><block type="text_print" id="8uwp:W!TVbS^rfA$tDw3"><value name="TEXT"><block type="t2c_text_indexof" id="6Z^Bm0SY/(G[,%B;BPz3"><value name="VALUE"><block type="variables_get" id="cA9|qD5|v2oX*I5y678@"><field name="VAR" id="qJ=BGly2K{YdSsh3,b#O">greeting</field></block></value><value name="FIND"><block type="t2c_text_charat" id="Di@mTUjU{+`:w^M,?7hY"><value name="VALUE"><block type="variables_get" id=")}3.,]B:MN(:@L.1.%M8"><field name="VAR" id="qJ=BGly2K{YdSsh3,b#O">greeting</field></block></value><value name="AT"><block type="math_number" id="%j2#9Bk`Q/V-+oREIuo="><field name="NUM">8</field></block></value></block></value></block></value><next><block type="text_print" id="#oLKX9(l_4,3i1v=33nN"><value name="TEXT"><block type="t2c_text_indexof" id="{jf`=!cPrtVgdHWE0,:N"><value name="VALUE"><block type="text" id="XMdK2~YyMQCWjW6rNW1*"><field name="TEXT"></field></block></value><value name="FIND"><block type="t2c_text_charat" id="Fc.lt@BOEdE2}}~tAT4O"><value name="VALUE"><block type="text" id="._Y$K2]i~sgu}#{z3=?t"><field name="TEXT"></field></block></value><value name="AT"><block type="math_number" id="F=EkSzg5$J)k#u9O{@Iv"><field name="NUM">8</field></block></value></block></value></block></value><next><block type="text_print" id="W#|Ks*3clZo{D4uZ;OWZ"><value name="TEXT"><block type="t2c_text_indexof" id="*(rK`C4Ohs]u,Fq;9ERv"><value name="VALUE"><block type="text" id="7u0KXyx$Erh[yh7YMX}$"><field name="TEXT"></field></block></value><value name="FIND"><block type="text" id="j.v2A[.!Hvb=-qby=[P{"><field name="TEXT"></field></block></value></block></value><next><block type="text_print" id="5ezA0Gk@Z,1=w{4Y|O:_"><value name="TEXT"><block type="math_number" id="xbR0Jl3nn%9*!YM+Oj)q"><field name="NUM">0</field></block></value></block></next></block></next></block></next></block></next></block></xml>'),o),Blockly.svgResize(o),o.getAllBlocks().forEach((function(e){return e.setMovable(!1)})),se(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),ue()}})),n.addTask(new r((function(){var e=o.getAllBlocks().filter((function(e){return"math_number"===e.type&&"4"==e.getFieldValue("NUM")})),t=o.getAllBlocks().filter((function(t){return"text_print"===t.type&&null===t.getNextBlock()&&-1!==e.indexOf(t.getInputTargetBlock("TEXT"))})),n=o.getAllBlocks().filter((function(e){return"text"===e.type&&"h"==e.getFieldValue("TEXT")})),i=o.getAllBlocks().filter((function(e){return"text"===e.type&&"HEY hey hey!"==e.getFieldValue("TEXT")})),r=o.getAllBlocks().filter((function(e){return"t2c_text_indexof"===e.type&&-1!==i.indexOf(e.getInputTargetBlock("VALUE"))&&-1!==n.indexOf(e.getInputTargetBlock("FIND"))})),a=o.getAllBlocks().filter((function(e){return"text_print"===e.type&&-1!==t.indexOf(e.getNextBlock())&&-1!==r.indexOf(e.getInputTargetBlock("TEXT"))})),l=o.getAllBlocks().filter((function(e){return"math_number"===e.type&&"8"==e.getFieldValue("NUM")})),s=o.getAllBlocks().filter((function(e){return"t2c_text_charat"===e.type&&-1!==i.indexOf(e.getInputTargetBlock("VALUE"))&&-1!==l.indexOf(e.getInputTargetBlock("AT"))})),u=o.getAllBlocks().filter((function(e){return"t2c_text_indexof"===e.type&&-1!==i.indexOf(e.getInputTargetBlock("VALUE"))&&-1!==s.indexOf(e.getInputTargetBlock("FIND"))})),c=o.getAllBlocks().filter((function(e){return"text_print"===e.type&&-1!==a.indexOf(e.getNextBlock())&&-1!==u.indexOf(e.getInputTargetBlock("TEXT"))})),g=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"greeting"===e.getField("VAR").getText()})),d=o.getAllBlocks().filter((function(e){return"t2c_text_charat"===e.type&&-1!==g.indexOf(e.getInputTargetBlock("VALUE"))&&-1!==l.indexOf(e.getInputTargetBlock("AT"))})),h=o.getAllBlocks().filter((function(e){return"t2c_text_indexof"===e.type&&-1!==g.indexOf(e.getInputTargetBlock("VALUE"))&&-1!==d.indexOf(e.getInputTargetBlock("FIND"))})),f=o.getAllBlocks().filter((function(e){return"text_print"===e.type&&-1!==c.indexOf(e.getNextBlock())&&-1!==h.indexOf(e.getInputTargetBlock("TEXT"))})),p=o.getAllBlocks().filter((function(e){return"variables_set"===e.type&&-1!==f.indexOf(e.getNextBlock())&&-1!==i.indexOf(e.getInputTargetBlock("VALUE"))&&"greeting"===e.getField("VAR").getText()}));return 1===e.length&&1===t.length&&1===n.length&&4===i.length&&1===r.length&&1===a.length&&2===l.length&&1===s.length&&1===u.length&&1===c.length&&2===g.length&&1===d.length&&1===h.length&&1===f.length&&1===p.length}),new s((function(){for(var e=o.getAllBlocks(!0),t=e.filter((function(e){return"t2c_text_indexof"===e.type||"js_text_indexof"===e.type})).map((function(e){return e.getInputTargetBlock("VALUE")})).filter((function(e){return e&&"text"===e.type})),n=e.filter((function(e){return"t2c_text_charat"===e.type||"js_text_charat"===e.type})).map((function(e){return e.getInputTargetBlock("VALUE")})).find((function(e){return e&&"text"===e.type})),i=e.filter((function(e){return"t2c_text_indexof"===e.type||"js_text_indexof"===e.type})).map((function(e){return e.getInputTargetBlock("FIND")})).find((function(e){return e&&"text"===e.type})),r=e.find((function(e){return"math_number"===e.type&&e.getParent()&&("text_print"===e.getParent().type||"js_text_print"===e.getParent().type)})),a="HEY hey hey!".charAt(8),l=0;l<=1;l++){var s=t[l];if(s&&s.getFieldValue("TEXT")&&"HEY hey hey!"!==s.getFieldValue("TEXT"))return"The text before "+T2C.MSG.currentLanguage.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT+" on line "+(l+3)+" is incorrect.  Substitute greeting with the value that it's initially assigned to."}if(n&&n.getFieldValue("TEXT")&&"HEY hey hey!"!==n.getFieldValue("TEXT"))return"The text before "+T2C.MSG.currentLanguage.TERMINAL_GETCHARACTERNUMBER+" on line 3 is incorrect.  Substitute greeting with the value that it's initially assigned to.";if(i){var u=i.getFieldValue("TEXT");if(u&&u!==a)return"The text you substituted on line 4 is incorrect.  Remember to count all of the characters, starting from 0 and including spaces, when getting the character at position 8.";if(u===a&&r){var c=r.getFieldValue("NUM");if(8===c)return"Remember that "+T2C.MSG.currentLanguage.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT+" gets the position of the *first* occurrence.";if(c!=="HEY hey hey!".indexOf(a))return"The number on the last line is incorrect.  Check the previous lines in order and then fix it accordingly; it should be the result of the substitution of "+T2C.MSG.currentLanguage.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT+".  Remember that positions start with 0 and to count spaces."}}return"Replace all the blank string literals and 0's with the appropriate text and numbers that are substituted as the computer would from top to bottom so that every line of output is the same.  Try to do this without running the program until you get the message to do so (when you filled in everything correctly)."}),{startPosition:he(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),d(n),h(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔ Nice x 4!  Did you notice that you did *not* get the number you started with this time.  Can you see why?  Well, the character you got appeared earlier.  So when you looked for its first position, you got a smaller number back.  Had you gotten the character at its first position (i.e., 4 in this case), and then asked for its position, you would have indeed gotten back the number you started with.  OK, one more code reading substitution example before we get to a code writing one!  We'll skip a few steps since it's a little long, but you're up for the challenge, right?"),o.clear(),Blockly.Xml.domToWorkspace(Blockly.Xml.textToDom('<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="J^{n+l{9P?kUYL]KA(p+">question</variable><variable id="_$%T7oxG9i~t(OA!X7BQ">needle</variable><variable id="pLvA^N8w,`$Wz.{3]Y)l">part1</variable><variable id=".;Y0_DaJCJ`w*@mXVR3h">part2</variable></variables><block type="variables_set" id="tey#7{]XsVkhG}b67Q2T" x="-319" y="-488"><field name="VAR" id="J^{n+l{9P?kUYL]KA(p+">question</field><value name="VALUE"><block type="text" id="=l59pm#xp*/yD-Zc|wg="><field name="TEXT">Where is the code?</field></block></value><next><block type="variables_set" id="V#~VUK$roOeC26EkmW?;"><field name="VAR" id="_$%T7oxG9i~t(OA!X7BQ">needle</field><value name="VALUE"><block type="text" id="Fm6?0,yRfGqw=H7jKVMb" collapsed="true"><field name="TEXT"> is </field></block></value><next><block type="variables_set" id="=;4w/TJI8U;roa?mfg#L"><field name="VAR" id="pLvA^N8w,`$Wz.{3]Y)l">part1</field><value name="VALUE"><block type="t2c_text_getsubstring" id="jS~Kj^9d5DIq~hf`z4jx"><value name="STRING"><block type="variables_get" id="xI+UJ`BR2IoA=:m2.B*?" collapsed="true"><field name="VAR" id="J^{n+l{9P?kUYL]KA(p+">question</field></block></value><value name="AT1"><block type="math_arithmetic_basic" id="G8=z4#vn~DVQ58@~r(=I" collapsed="true"><field name="OP">ADD</field><value name="A"><block type="t2c_text_indexof" id="P;qboVh8$3`*ZQ.DG(6u"><value name="VALUE"><block type="variables_get" id="ha.p:6)+1H/P*LaFY!{Z"><field name="VAR" id="J^{n+l{9P?kUYL]KA(p+">question</field></block></value><value name="FIND"><block type="variables_get" id="_sOj%ytZ)S9[LmWJWyy8"><field name="VAR" id="_$%T7oxG9i~t(OA!X7BQ">needle</field></block></value></block></value><value name="B"><block type="math_number" id="{NgZVPFe)E:fw$Yv(Dof"><field name="NUM">4</field></block></value></block></value><value name="AT2"><block type="math_arithmetic_basic" id="y|+8g+^-SfUn.Obq@)FY" collapsed="true"><field name="OP">MINUS</field><value name="A"><block type="t2c_text_length" id="IsT]+wz{|*qErOQ@|h#:"><value name="VALUE"><block type="variables_get" id="*|+P2mmKcMm)4~XpH.(D"><field name="VAR" id="J^{n+l{9P?kUYL]KA(p+">question</field></block></value></block></value><value name="B"><block type="math_number" id="PD)k:DHfFxBlAdLMs3T6"><field name="NUM">1</field></block></value></block></value></block></value><next><block type="variables_set" id="P:h{5-%+;riCuK7$;{!p"><field name="VAR" id=".;Y0_DaJCJ`w*@mXVR3h">part2</field><value name="VALUE"><block type="t2c_text_getsubstring" id="|4rEYR5]-S(.Se?Io$/A"><value name="STRING"><block type="variables_get" id=")i*xC}G_*9N~i=U+75J0" collapsed="true"><field name="VAR" id="J^{n+l{9P?kUYL]KA(p+">question</field></block></value><value name="AT1"><block type="math_number" id="Yob-c[3iQmj0xZ^FseA(" collapsed="true"><field name="NUM">1</field></block></value><value name="AT2"><block type="t2c_text_indexof" id="CeIb)%e|Z/75OUmz6P,;" collapsed="true"><value name="VALUE"><block type="variables_get" id="/o})GDz#dEvn;u4eTzP1"><field name="VAR" id="J^{n+l{9P?kUYL]KA(p+">question</field></block></value><value name="FIND"><block type="variables_get" id="1y!`dr5TL(iBH/9[IE${"><field name="VAR" id="_$%T7oxG9i~t(OA!X7BQ">needle</field></block></value></block></value></block></value><next><block type="text_print" id="%i_jCS,Xk~[/mjxs9`;2"><value name="TEXT"><block type="t2c_text_join" id="P8U0,xqxomPv[5Sl8lf=" collapsed="true"><value name="A"><block type="variables_get" id="F+gf7S+_roWS*{)ZRd24"><field name="VAR" id="pLvA^N8w,`$Wz.{3]Y)l">part1</field></block></value><value name="B"><block type="t2c_text_join" id="B1Y=oXh=^^orOCK#H$o7"><value name="A"><block type="variables_get" id="F%K+Hd[/:yd:JgboT*j9"><field name="VAR" id="_$%T7oxG9i~t(OA!X7BQ">needle</field></block></value><value name="B"><block type="variables_get" id="I`5?hxwqw~!_@INfi)=h"><field name="VAR" id=".;Y0_DaJCJ`w*@mXVR3h">part2</field></block></value></block></value></block></value><next><block type="text_print" id="^yimQQ{W%@n8Y{e|q?69"><value name="TEXT"><block type="t2c_text_join" id="wa4vc*MX?9P^9tg^%Feh"><value name="A"><block type="t2c_text_getsubstring" id="+.=9g9xvfL5c-dTK9e/^"><value name="STRING"><block type="variables_get" id="#3M#7)5e`eKu`]@29I.T" collapsed="true"><field name="VAR" id="J^{n+l{9P?kUYL]KA(p+">question</field></block></value><value name="AT1"><block type="math_arithmetic_basic" id="?s=kF-Eb~qnIS/i9S%$k"><field name="OP">ADD</field><value name="A"><block type="math_number" id="T)vE-]HRc9Cc$neCCi=A"><field name="NUM">0</field></block></value><value name="B"><block type="math_number" id="%k:EE(mi/TwO.T3CmdAH" collapsed="true"><field name="NUM">4</field></block></value></block></value><value name="AT2"><block type="math_arithmetic_basic" id="sdb|tpn1#Orzs:j3RbCr"><field name="OP">MINUS</field><value name="A"><block type="math_number" id="OH]@4.1rwF7n`JII|KiR"><field name="NUM">0</field></block></value><value name="B"><block type="math_number" id="RuN^dCq6h*Au:=1N{o?j" collapsed="true"><field name="NUM">1</field></block></value></block></value></block></value><value name="B"><block type="t2c_text_join" id="bVWo@VPftSJMF{BkTgV-"><value name="A"><block type="text" id="}2w#qm#X-Ac2dpu-I)E^"><field name="TEXT"></field></block></value><value name="B"><block type="t2c_text_getsubstring" id="HtF)g6MCQA.QWbpRxvU;"><value name="STRING"><block type="variables_get" id="h[-ZTV~_[D$IAx`)7giP" collapsed="true"><field name="VAR" id="J^{n+l{9P?kUYL]KA(p+">question</field></block></value><value name="AT1"><block type="math_number" id="G/8,n/wxJQyZ$*%u5RE@" collapsed="true"><field name="NUM">1</field></block></value><value name="AT2"><block type="math_number" id="x2)0#6b}DquVYhIbb;9r"><field name="NUM">0</field></block></value></block></value></block></value></block></value><next><block type="text_print" id="+:|Barcq-TFBDN|:$3qJ"><value name="TEXT"><block type="t2c_text_join" id="*w_1[Jk?M5:GnXhb:o!c"><value name="A"><block type="t2c_text_getsubstring" id="dB@$9@38c!o`tQ?s%LI."><value name="STRING"><block type="text" id="y50AfR/k,=v.MK7I%_GI"><field name="TEXT"></field></block></value><value name="AT1"><block type="math_number" id="Yu6:xNDzTKIt)X$k3c[("><field name="NUM">0</field></block></value><value name="AT2"><block type="math_number" id="Gfv3[8J_~D6Ki1%7j15k"><field name="NUM">0</field></block></value></block></value><value name="B"><block type="t2c_text_join" id="*RzX8o=3@RGBu,W%hZj("><value name="A"><block type="text" id="Ao~Y}]Vb2RHlwXD_zV%%"><field name="TEXT"></field></block></value><value name="B"><block type="t2c_text_getsubstring" id=")lV7J5:N.5!%as@|;@sd"><value name="STRING"><block type="text" id="1g.%GKzcul)Bp.[ipz,D"><field name="TEXT"></field></block></value><value name="AT1"><block type="math_number" id="p2`IFYQT}9R]~5s%{1`I" collapsed="true"><field name="NUM">1</field></block></value><value name="AT2"><block type="math_number" id="={)~-f]X#gx]F1C1]yV]"><field name="NUM">0</field></block></value></block></value></block></value></block></value><next><block type="text_print" id="}B=g!~iteAMEx$/D8PYf"><value name="TEXT"><block type="t2c_text_join" id="bVMuG!Ow(`|Ce_^m=Uv#"><value name="A"><block type="text" id="*Zku[rj1$}o$KCBLT)VQ"><field name="TEXT"></field></block></value><value name="B"><block type="t2c_text_join" id="sgboEU$y7?(kIDz|/Ks`"><value name="A"><block type="text" id="S+%!|P(T}ZgzI2;*/hiu"><field name="TEXT"></field></block></value><value name="B"><block type="text" id="l/zQv2B8pU[}8R17n84+"><field name="TEXT"></field></block></value></block></value></block></value><next><block type="text_print" id="XX4|@r/#apDP=(~l$T-J"><value name="TEXT"><block type="text" id="c=}Eo8_u?jBYLB~$Bh,-"><field name="TEXT"></field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></xml>'),o),Blockly.svgResize(o),o.getAllBlocks().forEach((function(e){return e.setMovable(!1)})),se(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),ue()}})),n.addTask(new r((function(){var e=o.getAllBlocks().filter((function(e){return"text"===e.type&&"the code is here"==e.getFieldValue("TEXT")})),t=o.getAllBlocks().filter((function(t){return"text_print"===t.type&&null===t.getNextBlock()&&-1!==e.indexOf(t.getInputTargetBlock("TEXT"))})),n=o.getAllBlocks().filter((function(e){return"text"===e.type&&"here"==e.getFieldValue("TEXT")})),i=o.getAllBlocks().filter((function(e){return"text"===e.type&&" is "==e.getFieldValue("TEXT")})),r=o.getAllBlocks().filter((function(e){return"t2c_text_join"===e.type&&-1!==i.indexOf(e.getInputTargetBlock("A"))&&-1!==n.indexOf(e.getInputTargetBlock("B"))})),a=o.getAllBlocks().filter((function(e){return"text"===e.type&&"the code"==e.getFieldValue("TEXT")})),l=o.getAllBlocks().filter((function(e){return"t2c_text_join"===e.type&&-1!==a.indexOf(e.getInputTargetBlock("A"))&&-1!==r.indexOf(e.getInputTargetBlock("B"))})),s=o.getAllBlocks().filter((function(e){return"text_print"===e.type&&-1!==t.indexOf(e.getNextBlock())&&-1!==l.indexOf(e.getInputTargetBlock("TEXT"))})),u=o.getAllBlocks().filter((function(e){return"math_number"===e.type&&"5"==e.getFieldValue("NUM")})),c=o.getAllBlocks().filter((function(e){return"math_number"===e.type&&"1"==e.getFieldValue("NUM")})),g=o.getAllBlocks().filter((function(e){return"text"===e.type&&"Where is the code?"==e.getFieldValue("TEXT")})),d=o.getAllBlocks().filter((function(e){return"t2c_text_getsubstring"===e.type&&-1!==g.indexOf(e.getInputTargetBlock("STRING"))&&-1!==c.indexOf(e.getInputTargetBlock("AT1"))&&-1!==u.indexOf(e.getInputTargetBlock("AT2"))})),h=o.getAllBlocks().filter((function(e){return"t2c_text_join"===e.type&&-1!==i.indexOf(e.getInputTargetBlock("A"))&&-1!==d.indexOf(e.getInputTargetBlock("B"))})),f=o.getAllBlocks().filter((function(e){return"math_number"===e.type&&"17"==e.getFieldValue("NUM")})),p=o.getAllBlocks().filter((function(e){return"math_number"===e.type&&"9"==e.getFieldValue("NUM")})),m=o.getAllBlocks().filter((function(e){return"t2c_text_getsubstring"===e.type&&-1!==g.indexOf(e.getInputTargetBlock("STRING"))&&-1!==p.indexOf(e.getInputTargetBlock("AT1"))&&-1!==f.indexOf(e.getInputTargetBlock("AT2"))})),y=o.getAllBlocks().filter((function(e){return"t2c_text_join"===e.type&&-1!==m.indexOf(e.getInputTargetBlock("A"))&&-1!==h.indexOf(e.getInputTargetBlock("B"))})),T=o.getAllBlocks().filter((function(e){return"text_print"===e.type&&-1!==s.indexOf(e.getNextBlock())&&-1!==y.indexOf(e.getInputTargetBlock("TEXT"))})),_=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"question"===e.getField("VAR").getText()})),b=o.getAllBlocks().filter((function(e){return"t2c_text_getsubstring"===e.type&&-1!==_.indexOf(e.getInputTargetBlock("STRING"))&&-1!==c.indexOf(e.getInputTargetBlock("AT1"))&&-1!==u.indexOf(e.getInputTargetBlock("AT2"))})),k=o.getAllBlocks().filter((function(e){return"t2c_text_join"===e.type&&-1!==i.indexOf(e.getInputTargetBlock("A"))&&-1!==b.indexOf(e.getInputTargetBlock("B"))})),x=o.getAllBlocks().filter((function(e){return"math_number"===e.type&&"18"==e.getFieldValue("NUM")})),B=o.getAllBlocks().filter((function(e){return"math_arithmetic_basic"===e.type&&-1!==x.indexOf(e.getInputTargetBlock("A"))&&-1!==c.indexOf(e.getInputTargetBlock("B"))&&"MINUS"==e.getFieldValue("OP")})),E=o.getAllBlocks().filter((function(e){return"math_number"===e.type&&"4"==e.getFieldValue("NUM")})),A=o.getAllBlocks().filter((function(e){return"math_arithmetic_basic"===e.type&&-1!==u.indexOf(e.getInputTargetBlock("A"))&&-1!==E.indexOf(e.getInputTargetBlock("B"))&&"ADD"==e.getFieldValue("OP")})),I=o.getAllBlocks().filter((function(e){return"t2c_text_getsubstring"===e.type&&-1!==_.indexOf(e.getInputTargetBlock("STRING"))&&-1!==A.indexOf(e.getInputTargetBlock("AT1"))&&-1!==B.indexOf(e.getInputTargetBlock("AT2"))})),v=o.getAllBlocks().filter((function(e){return"t2c_text_join"===e.type&&-1!==I.indexOf(e.getInputTargetBlock("A"))&&-1!==k.indexOf(e.getInputTargetBlock("B"))})),w=o.getAllBlocks().filter((function(e){return"text_print"===e.type&&-1!==T.indexOf(e.getNextBlock())&&-1!==v.indexOf(e.getInputTargetBlock("TEXT"))})),N=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"part2"===e.getField("VAR").getText()})),S=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"needle"===e.getField("VAR").getText()})),O=o.getAllBlocks().filter((function(e){return"t2c_text_join"===e.type&&-1!==S.indexOf(e.getInputTargetBlock("A"))&&-1!==N.indexOf(e.getInputTargetBlock("B"))})),L=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"part1"===e.getField("VAR").getText()})),M=o.getAllBlocks().filter((function(e){return"t2c_text_join"===e.type&&-1!==L.indexOf(e.getInputTargetBlock("A"))&&-1!==O.indexOf(e.getInputTargetBlock("B"))})),F=o.getAllBlocks().filter((function(e){return"text_print"===e.type&&-1!==w.indexOf(e.getNextBlock())&&-1!==M.indexOf(e.getInputTargetBlock("TEXT"))})),R=o.getAllBlocks().filter((function(e){return"t2c_text_indexof"===e.type&&-1!==_.indexOf(e.getInputTargetBlock("VALUE"))&&-1!==S.indexOf(e.getInputTargetBlock("FIND"))})),C=o.getAllBlocks().filter((function(e){return"t2c_text_getsubstring"===e.type&&-1!==_.indexOf(e.getInputTargetBlock("STRING"))&&-1!==c.indexOf(e.getInputTargetBlock("AT1"))&&-1!==R.indexOf(e.getInputTargetBlock("AT2"))})),V=o.getAllBlocks().filter((function(e){return"variables_set"===e.type&&-1!==F.indexOf(e.getNextBlock())&&-1!==C.indexOf(e.getInputTargetBlock("VALUE"))&&"part2"===e.getField("VAR").getText()})),P=o.getAllBlocks().filter((function(e){return"t2c_text_length"===e.type&&-1!==_.indexOf(e.getInputTargetBlock("VALUE"))})),U=o.getAllBlocks().filter((function(e){return"math_arithmetic_basic"===e.type&&-1!==P.indexOf(e.getInputTargetBlock("A"))&&-1!==c.indexOf(e.getInputTargetBlock("B"))&&"MINUS"==e.getFieldValue("OP")})),X=o.getAllBlocks().filter((function(e){return"math_arithmetic_basic"===e.type&&-1!==R.indexOf(e.getInputTargetBlock("A"))&&-1!==E.indexOf(e.getInputTargetBlock("B"))&&"ADD"==e.getFieldValue("OP")})),G=o.getAllBlocks().filter((function(e){return"t2c_text_getsubstring"===e.type&&-1!==_.indexOf(e.getInputTargetBlock("STRING"))&&-1!==X.indexOf(e.getInputTargetBlock("AT1"))&&-1!==U.indexOf(e.getInputTargetBlock("AT2"))})),j=o.getAllBlocks().filter((function(e){return"variables_set"===e.type&&-1!==V.indexOf(e.getNextBlock())&&-1!==G.indexOf(e.getInputTargetBlock("VALUE"))&&"part1"===e.getField("VAR").getText()})),D=o.getAllBlocks().filter((function(e){return"variables_set"===e.type&&-1!==j.indexOf(e.getNextBlock())&&-1!==i.indexOf(e.getInputTargetBlock("VALUE"))&&"needle"===e.getField("VAR").getText()})),W=o.getAllBlocks().filter((function(e){return"variables_set"===e.type&&-1!==D.indexOf(e.getNextBlock())&&-1!==g.indexOf(e.getInputTargetBlock("VALUE"))&&"question"===e.getField("VAR").getText()}));return 1===e.length&&1===t.length&&1===n.length&&4===i.length&&1===r.length&&1===a.length&&1===l.length&&1===s.length&&3===u.length&&5===c.length&&3===g.length&&1===d.length&&1===h.length&&1===f.length&&1===p.length&&1===m.length&&1===y.length&&1===T.length&&7===_.length&&1===b.length&&1===k.length&&1===x.length&&1===B.length&&2===E.length&&1===A.length&&1===I.length&&1===v.length&&1===w.length&&1===N.length&&3===S.length&&1===O.length&&1===L.length&&1===M.length&&1===F.length&&2===R.length&&1===C.length&&1===V.length&&1===P.length&&1===U.length&&1===X.length&&1===G.length&&1===j.length&&1===D.length&&1===W.length}),new s((function(){for(var e=o.getAllBlocks(!0),t=e.filter((function(e){return"t2c_text_getsubstring"===e.type||"js_text_getsubstring"===e.type})).map((function(e){return e.getInputTargetBlock("STRING")})).filter((function(e){return e&&"text"===e.type})),n=e.filter((function(e){return"t2c_text_join"===e.type||"text_join"===e.type})).map((function(e){return e.getInputTargetBlock("B")})).filter((function(e){return e&&("t2c_text_join"===e.type||"text_join"===e.type)})).map((function(e){return e.getInputTargetBlock("A")})).filter((function(e){return e&&"text"===e.type})),i=e.filter((function(e){return"t2c_text_getsubstring"===e.type||"js_text_getsubstring"===e.type})).map((function(e){return e.getInputTargetBlock("AT1")})).filter((function(e){return e&&"math_arithmetic_basic"===e.type})).map((function(e){return e.getInputTargetBlock("A")})).find((function(e){return e&&"math_number"===e.type})),r=e.filter((function(e){return"t2c_text_getsubstring"===e.type||"js_text_getsubstring"===e.type})).map((function(e){return e.getInputTargetBlock("AT2")})).filter((function(e){return e&&"math_arithmetic_basic"===e.type})).map((function(e){return e.getInputTargetBlock("A")})).find((function(e){return e&&"math_number"===e.type})),a=e.filter((function(e){return"t2c_text_join"===e.type||"text_join"===e.type})).map((function(e){return e.getInputTargetBlock("B")})).filter((function(e){return e&&("t2c_text_getsubstring"===e.type||"js_text_getsubstring"===e.type)})).map((function(e){return e.getInputTargetBlock("AT2")})).filter((function(e){return e&&"math_number"===e.type})),l=e.filter((function(e){return"t2c_text_join"===e.type||"text_join"===e.type})).map((function(e){return e.getInputTargetBlock("A")})).filter((function(e){return e&&("t2c_text_getsubstring"===e.type||"js_text_getsubstring"===e.type)})).map((function(e){return e.getInputTargetBlock("AT1")})).find((function(e){return e&&"math_number"===e.type})),s=e.filter((function(e){return"t2c_text_join"===e.type||"text_join"===e.type})).map((function(e){return e.getInputTargetBlock("A")})).filter((function(e){return e&&("t2c_text_getsubstring"===e.type||"js_text_getsubstring"===e.type)})).map((function(e){return e.getInputTargetBlock("AT2")})).find((function(e){return e&&"math_number"===e.type})),u=e.filter((function(e){return("t2c_text_join"===e.type||"text_join"===e.type)&&e.getParent()&&("text_print"===e.getParent().type||"js_text_print"===e.getParent().type)})).map((function(e){return e.getInputTargetBlock("A")})).find((function(e){return e&&"text"===e.type})),c=e.filter((function(e){return"t2c_text_join"===e.type||"text_join"===e.type})).map((function(e){return e.getInputTargetBlock("B")})).filter((function(e){return e&&("t2c_text_join"===e.type||"text_join"===e.type)})).map((function(e){return e.getInputTargetBlock("B")})).find((function(e){return e&&"text"===e.type})),g=e.find((function(e){return"text"===e.type&&e.getParent()&&("text_print"===e.getParent().type||"js_text_print"===e.getParent().type)})),d="Where is the code?",h=d.indexOf(" is "),f=0;f<=1;f++){var p=t[f];if(p&&p.getFieldValue("TEXT")&&p.getFieldValue("TEXT")!==d)return"The text before the "+(0===f?"first ":"second ")+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" on line 7 is incorrect.  Substitute question with the value that it's initially assigned to."}for(var m=0;m<=2;m++){var y=n[m];if(y&&y.getFieldValue("TEXT")&&" is "!==y.getFieldValue("TEXT"))return"The text after the first + (for string concatenation, NOT numbers) on line "+(m+6)+" is incorrect.  Substitute needle with the value that it's initially assigned to (*including* a single space at the beginning *and* end)."}if(i&&i.getFieldValue("NUM")&&i.getFieldValue("NUM")!==h)return"The first number on line 6 (in the addition block) is incorrect.  It should be the substitution of "+T2C.MSG.currentLanguage.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT+", which will be the *starting* position of the first occurrence of the value of needle.  Fix it accordingly.";if(r&&r.getFieldValue("NUM")&&r.getFieldValue("NUM")!==d.length)return"The third number on line 6 (in the subtraction block) should be the length of the value of question.  Fix it accordingly.";for(var T=0;T<=1;T++){var _=a[T];if(_&&_.getFieldValue("NUM")&&_.getFieldValue("NUM")!==h)return"The last number on line "+(T+6)+" is incorrect.  It should be the substitution of "+T2C.MSG.currentLanguage.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT+", which will be the *starting* position of the first occurrence of the value of needle.  Fix it accordingly."}return i&&i.getFieldValue("NUM")&&i.getFieldValue("NUM")===h&&l&&l.getFieldValue("NUM")&&l.getFieldValue("NUM")!==h+4?"The first number on line 7 should be the result of the addition with 4 from the previous line.  Fix it accordingly.":r&&r.getFieldValue("NUM")&&r.getFieldValue("NUM")===d.length&&s&&s.getFieldValue("NUM")&&s.getFieldValue("NUM")!==d.length-1?"The second number on line 7 should be the result of the subtraction by 1 from the previous line.  Fix it accordingly.":i&&i.getFieldValue("NUM")&&i.getFieldValue("NUM")===h&&l&&l.getFieldValue("NUM")&&l.getFieldValue("NUM")===h+4&&r&&r.getFieldValue("NUM")&&r.getFieldValue("NUM")===d.length&&s&&s.getFieldValue("NUM")&&s.getFieldValue("NUM")===d.length-1&&u&&u.getFieldValue("TEXT")&&u.getFieldValue("TEXT")!==d.substring(h+4,d.length-1)?"The first string on line 8 (before the text concatenation +) should be the result of the substitution of the first "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+".  Fix it accordingly.":a[1]&&a[1].getFieldValue("NUM")&&a[1].getFieldValue("NUM")===h&&c&&c.getFieldValue("TEXT")&&c.getFieldValue("TEXT")!==d.substring(1,h)?"The last string on line 8 (after both text concatenation +) should be the result of the substitution of the second "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+".  Fix it accordingly.":u&&u.getFieldValue("TEXT")&&u.getFieldValue("TEXT")===d.substring(h+4,d.length-1)&&n[2]&&n[2].getFieldValue("TEXT")&&" is "===n[2].getFieldValue("TEXT")&&c&&c.getFieldValue("TEXT")&&c.getFieldValue("TEXT")===d.substring(1,h)&&g&&g.getFieldValue("TEXT")&&g.getFieldValue("TEXT")!==d.substring(h+4,d.length-1)+" is "+d.substring(1,h)?"The string on the last line is incorrect; it should be the result of the substitution of the concatenation of the three strings above it on line 8.":"Replace all the blank string literals and 0's with the appropriate text and numbers that are substituted as the computer would from top to bottom so that every line of output is the same.  Try to do this without running the program until you get the message to do so (when you filled in everything correctly)."}),{startPosition:he(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),d(n),h(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert('👍 Bahut badhiya (Hindi for Very nice or Awesome)!  Just as reading more books can make you a better writer, reading through code excerpts and "tracing" code as the computer does will make you a better code writer!  It will also make you better at finding errors or bugs.\nIn the rest of this mission, you will get all of the text between the @ and the . in an e-mail address.  As a warm-up exercise, you\'ll get everything after the @ to start.'),se(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),ue(),o.clear(),a.clearToolbox(),a.createToolboxBlock("type_in_get_email_input"),o.options.maxInstances.type_in_get_email_input=1}})),n.addTask(new r((function(){var e=o.getAllBlocks().find((function(e){return"text"===e.type&&(-1!==(e.getFieldValue("TEXT")||"").toLowerCase().indexOf("email")||-1!==(e.getFieldValue("TEXT")||"").toLowerCase().indexOf("e-mail"))})),t=o.getAllBlocks().find((function(t){return("text_input"===t.type||"js_text_input"===t.type)&&t.getInputTargetBlock("TEXT")===e})),n=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&null===e.getNextBlock()&&e.getInputTargetBlock("VALUE")===t&&"email"===e.getField("VAR").getText()}));return e&&t&&n}),new s((function(){return"So now let's start applying these ideas to get the text appearing between the first @ and . in an e-mail address (e.g., google from coolcoder@google.com or mail from expertsoftwareengineer@mail.co.uk).  First, let's ask the user for an e-mail address and store it in a variable email.  Drag in the type-in-code block and type in the necessary code."}),{startPosition:he(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){var e=[1,1,1,2,1,1,1,1],t=o.getAllBlocks().find((function(e){return"variables_set"===e.type}));a.clearToolbox(),["t2c_text_getsubstring","t2c_text_length","text_print","variables_get","math_number","text","text_input","variables_set"].forEach((function(t,n){a.createToolboxBlock(t,!1),o.options.maxInstances[t]=e[n]})),t&&t.setCollapsed(!0),alert("✔ Nice, so as a warm-up and review, let's start by displaying everything that appears *after* the @ in any e-mail address where the text before the @ is exactly 9 characters, such as coolcoder@gmail.com using the "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" and "+T2C.MSG.currentLanguage.TERMINAL_LENGTH+" blocks.  We'll use a specific number for the starting position so it can't work in general, but we'll fix that soon by adding the new "+T2C.MSG.currentLanguage.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT+" block.")}})),n.addTask(new r((function(){var e=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"email"===e.getField("VAR").getText()})),t=o.getAllBlocks().find((function(t){return"t2c_text_length"===t.type&&-1!==e.indexOf(t.getInputTargetBlock("VALUE"))})),n=o.getAllBlocks().find((function(e){return"math_number"===e.type&&10===e.getFieldValue("NUM")})),i=o.getAllBlocks().find((function(o){return("t2c_text_getsubstring"===o.type||"js_text_getsubstring"===o.type)&&-1!==e.indexOf(o.getInputTargetBlock("STRING"))&&o.getInputTargetBlock("AT1")===n&&o.getInputTargetBlock("AT2")===t})),r=o.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&null===e.getNextBlock()&&e.getInputTargetBlock("TEXT")===i})),a=o.getAllBlocks().find((function(e){return"text"===e.type&&(-1!==(e.getFieldValue("TEXT")||"").toLowerCase().indexOf("email")||-1!==(e.getFieldValue("TEXT")||"").toLowerCase().indexOf("e-mail"))})),l=o.getAllBlocks().find((function(e){return("text_input"===e.type||"js_text_input"===e.type)&&e.getInputTargetBlock("TEXT")===a})),s=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getNextBlock()===r&&e.getInputTargetBlock("VALUE")===l&&"email"===e.getField("VAR").getText()}));return 2===e.length&&t&&n&&i&&r&&a&&l&&s}),new s((function(){var e=o.getAllBlocks().find((function(e){return"text"===e.type&&(-1!==(e.getFieldValue("TEXT")||"").toLowerCase().indexOf("email")||-1!==(e.getFieldValue("TEXT")||"").toLowerCase().indexOf("e-mail"))})),t=o.getAllBlocks().find((function(t){return("text_input"===t.type||"js_text_input"===t.type)&&t.getInputTargetBlock("TEXT")===e})),n=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getInputTargetBlock("VALUE")===t&&"email"===e.getField("VAR").getText()})),i=o.getAllBlocks().filter((function(e){return"variables_get"===e.type})),r=o.getAllBlocks().find((function(e){return"t2c_text_length"===e.type})),a=o.getAllBlocks().find((function(e){return"math_number"===e.type})),l=o.getAllBlocks().find((function(e){return"t2c_text_getsubstring"===e.type||"js_text_getsubstring"===e.type})),s=o.getAllBlocks().find((function(e){return"text_print"===e.type||"js_text_print"===e.type}));if(i.find((function(e){return"email"!==e.getField("VAR").getText()})))return"Make sure the variable get blocks are both set to email so they refer to the one storing the entered e-mail.";if(n&&"email"!==n.getField("VAR").getText())return"Make sure the name of the variable storing the user's input stays email.";if(l){if(-1!==i.indexOf(l.getInputTargetBlock("AT1")))return"You placed the email block in the starting position of the "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" block.  But email stores a string, not a number; what would it mean to start extracting text at position *NUMBER* coolcoder@gmail.com?";if(-1!==i.indexOf(l.getInputTargetBlock("AT2")))return"You placed the email block in the ending position of the "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" block.  But email stores a string, not a number; what would it mean to stop extracting text at position *NUMBER* coolcoder@gmail.com?";if(r&&l.getInputTargetBlock("AT1")===r)return"You placed the "+T2C.MSG.currentLanguage.TERMINAL_LENGTH+" block in the starting position of the "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" block.  But for say coolcoder@gmail.com, the last position is at "+("coolcoder@gmail.com".length-1).toString()+" and its length is "+"coolcoder@gmail.com".length+".  You certainly don't want to start extracting text at position 19, which doesn't even exist!";if(a&&l.getInputTargetBlock("AT2")===a)return"You cannot use a *specific* number for the ending position if you don't know how long the e-mail address is.  Change the block in the last position of the "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" block, accordingly.";if(a&&l.getInputTargetBlock("AT1")===a){var u=a.getFieldValue("NUM");if(11===u)return"The given starting position is incorrect.  Remember that the initial character starts at position (index) 0 and unlike the given ending position to "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+", the computer starts extracting text from the first position number you give it.";if(9===u)return"The given starting position is incorrect.  Remember that you want to start extracting text *after* the @ and unlike the given ending position to "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+", the computer starts extracting text from the first position number you give it.";if(u==="coolcoder@gmail.com".length)return"The first number given to "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" is the starting position, not the ending one.";if(10!==u)return"Incorrect number for the starting position.  Please try recounting the characters from the beginning of the string, starting from 0 until you get to the character after the @ sign."}}return s&&l&&s.getInputTargetBlock("TEXT")!==l?"As with the last exercise, you'll want to show a substring of the e-mail so the "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" should be placed in "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+".":s&&n&&s.getNextBlock()===n?"Since instructions are run from top to bottom, you can't display a substring of email before the user enters it!":s&&null===s.getPreviousBlock()?"Be sure to attach the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block below the "+T2C.MSG.currentLanguage.TERMINAL_LET+" block.":"Drag in and assemble the blocks of code so that the computer displays everything that appears *after* the @ in any entered e-mail address where the text before the @ is exactly 9 characters, such as coolcoder@gmail.com using the "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" and "+T2C.MSG.currentLanguage.TERMINAL_LENGTH+" blocks.  For this part, use a specific number for the starting position."}),{startPosition:he(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),d(n),h(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){var e=[1,1,2,3,1,1,1,1,1,1],t=o.getAllBlocks().filter((function(e){return"variables_get"===e.type||"t2c_text_length"===e.type}));alert("✔ Good, so did you type in coolcoder@google.com or some other e-mail address with 9 characters before the @, or did you enjoy breaking the rules and watching it fail?!!  Well, now it's time to make it work for those troublemakers so long as they're kind enough to enter an @.\nTo do this, we'll use our new "+T2C.MSG.currentLanguage.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT+" and will need some arithmetic as well."),se(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),ue(),a.clearToolbox(),["t2c_text_indexof","math_arithmetic_basic","text","variables_get","math_number","t2c_text_getsubstring","t2c_text_length","text_print","text_input","variables_set"].forEach((function(t,n){a.createToolboxBlock(t,!1),o.options.maxInstances[t]=e[n]})),t.forEach((function(e){return e.setCollapsed(!0)}))}})),n.addTask(new r((function(){var e=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"email"===e.getField("VAR").getText()})),t=o.getAllBlocks().find((function(t){return"t2c_text_length"===t.type&&-1!==e.indexOf(t.getInputTargetBlock("VALUE"))})),n=o.getAllBlocks().find((function(e){return"math_number"===e.type&&1===e.getFieldValue("NUM")})),i=o.getAllBlocks().find((function(e){return"text"===e.type&&"@"==e.getFieldValue("TEXT")})),r=o.getAllBlocks().find((function(t){return("t2c_text_indexof"===t.type||"js_text_indexof"===t.type)&&-1!==e.indexOf(t.getInputTargetBlock("VALUE"))&&t.getInputTargetBlock("FIND")===i})),a=o.getAllBlocks().find((function(e){return"math_arithmetic_basic"===e.type&&(e.getInputTargetBlock("A")===r&&e.getInputTargetBlock("B")===n||e.getInputTargetBlock("B")===r&&e.getInputTargetBlock("A")===n)&&"ADD"==e.getFieldValue("OP")})),l=o.getAllBlocks().find((function(n){return("t2c_text_getsubstring"===n.type||"js_text_getsubstring"===n.type)&&-1!==e.indexOf(n.getInputTargetBlock("STRING"))&&n.getInputTargetBlock("AT1")===a&&n.getInputTargetBlock("AT2")===t})),s=o.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&null===e.getNextBlock()&&e.getInputTargetBlock("TEXT")===l})),u=o.getAllBlocks().find((function(e){return"text"===e.type&&(-1!==(e.getFieldValue("TEXT")||"").toLowerCase().indexOf("email")||-1!==(e.getFieldValue("TEXT")||"").toLowerCase().indexOf("e-mail"))})),c=o.getAllBlocks().find((function(e){return("text_input"===e.type||"js_text_input"===e.type)&&e.getInputTargetBlock("TEXT")===u})),g=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getNextBlock()===s&&e.getInputTargetBlock("VALUE")===c&&"email"===e.getField("VAR").getText()}));return 3===e.length&&t&&n&&i&&r&&a&&l&&s&&u&&c&&g}),new s((function(){var e=o.getAllBlocks().find((function(e){return"text"===e.type&&(-1!==(e.getFieldValue("TEXT")||"").toLowerCase().indexOf("email")||-1!==(e.getFieldValue("TEXT")||"").toLowerCase().indexOf("e-mail"))})),t=o.getAllBlocks().find((function(t){return("text_input"===t.type||"js_text_input"===t.type)&&t.getInputTargetBlock("TEXT")===e})),n=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getInputTargetBlock("VALUE")===t&&"email"===e.getField("VAR").getText()})),i=o.getAllBlocks().filter((function(e){return"variables_get"===e.type})),r=o.getAllBlocks().find((function(e){return"t2c_text_length"===e.type})),a=o.getAllBlocks().find((function(e){return"math_number"===e.type})),l=o.getAllBlocks().find((function(t){return"text"===t.type&&t!==e})),s=o.getAllBlocks().find((function(e){return"t2c_text_indexof"===e.type||"js_text_indexof"===e.type})),u=o.getAllBlocks().find((function(e){return"math_arithmetic_basic"===e.type})),c=o.getAllBlocks().find((function(e){return"t2c_text_getsubstring"===e.type||"js_text_getsubstring"===e.type})),g=o.getAllBlocks().find((function(e){return"text_print"===e.type||"js_text_print"===e.type})),d="coolcoder@gmail.com";if(s){if(l&&s.getInputTargetBlock("VALUE")===l)return"The first space in the "+T2C.MSG.currentLanguage.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT+" block is for the string you want to search through (proverbial haystack), not the string you're looking for (proverbial needle) so you'll want to move the text block, accordingly.";if(-1!==i.indexOf(s.getInputTargetBlock("FIND")))return"The second space in the "+T2C.MSG.currentLanguage.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT+" block is for the string you're looking for (proverbial needle), not the one you want to search through (proverbial haystack) so you'll want to move the variable get block, accordingly.";if(l&&s.getInputTargetBlock("FIND")===l){var h=l.getFieldValue("TEXT")||"";if(""===h)return"Type in something the text (needle) you're searching for in the block with quotes";if("."===h)return"You don't know how many characters there may be before the period after the at sign as this can depend on the e-mail address so this won't work for calculating the starting position.";if("at"===h.toLowerCase())return"The literal 2-character string "+h.toLowerCase()+" will not necessarily appear in the address.  You don't need to use letters for the needle (string your searching for); you can use symbols as well.";if("@"!==h)return"It's possible that "+h+" won't necessarily appear in an e-mail address, or at least it won't help you calculate the desired starting position.  Try something else.";if(c&&c.getInputTargetBlock("AT1")===s)return"You'll need to perform a math operation on the position number of the @ since if you start extracting text at the position of the @, the string you get back will always start with an @!  For example, for "+d+", you'd start extracting text at position "+d.indexOf("@")+", which means you'd get "+d.substring(d.indexOf("@"))+".  What do you do with this number if you'd want to start at position number "+(d.indexOf("@")+1).toString()+", the position of the "+d.charAt(d.indexOf("@")+1)+" immediately after the @ instead?"}}if(u){if(i.find((function(e){return e===u.getInputTargetBlock("A")||e===u.getInputTargetBlock("B")})))return"The variable email holds a string such as "+d+", not a number so what would it mean to perform a math operation on it?  Remove it from the arithmetic block, accordingly.";if(s&&a&&(u.getInputTargetBlock("A")===s&&u.getInputTargetBlock("B")===a||u.getInputTargetBlock("B")===s&&u.getInputTargetBlock("A")===a)){var f=a.getFieldValue("NUM"),p=u.getFieldValue("OP");if(u.getInputTargetBlock("B")===a&&"MINUS"===p&&-1===f)return"Although you can subtract -1, it's clearer to add 1 so switch the operation to addition and the number from -1 to 1.";if(u.getInputTargetBlock("B")===a&&"MINUS"===p&&1===f)return"Subtracting 1 from the answer will move your position back one.  Do you want to start extracting text 1 place before?";if("ADD"!==p||1!==f)return"Using your given operation and number, the starting position you're calculating does not seem to work for every e-mail address in general.  Try (re)examining some e-mail addresses and the specific starting positions of the calculations for these examples to help you see your error."}}if(i.find((function(e){return"email"!==e.getField("VAR").getText()})))return"Make sure the variable get blocks are all set to email so they refer to the one storing the entered e-mail.";if(n&&"email"!==n.getField("VAR").getText())return"Make sure the name of the variable storing the user's input stays email.";if(c){if(-1!==i.indexOf(c.getInputTargetBlock("AT1")))return"You placed the email block in the starting position of the "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" block.  But email stores a string, not a number; what would it mean to start extracting text at position *NUMBER* coolcoder@gmail.com?";if(-1!==i.indexOf(c.getInputTargetBlock("AT2")))return"You placed the email block in the ending position of the "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" block.  But email stores a string, not a number; what would it mean to stop extracting text at position *NUMBER* coolcoder@gmail.com?";if(r&&c.getInputTargetBlock("AT1")===r)return"You placed the "+T2C.MSG.currentLanguage.TERMINAL_LENGTH+" block in the starting position of the "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" block.  But for say "+d+", the last position is at "+(d.length-1).toString()+" and its length is "+d.length+".  You certainly don't want to start extracting text at position 19, which doesn't even exist!";if(a&&c.getInputTargetBlock("AT2")===a)return"You cannot use a *specific* number for the ending position if you don't know how long the e-mail address is.  Change the block in the last position of the "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" block, accordingly."}return g&&c&&g.getInputTargetBlock("TEXT")!==c?"As with the last exercise, you'll want to show a substring of the e-mail so the "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" should be placed in "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+".":g&&n&&g.getNextBlock()===n?"Since instructions are run from top to bottom, you can't display a substring of email before the user enters it!":g&&null===g.getPreviousBlock()?"Be sure to attach the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block below the "+T2C.MSG.currentLanguage.TERMINAL_LET+" block.":"Use the new "+T2C.MSG.currentLanguage.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT+" and arithmetic blocks in the place of the starting position of the specific number 10 you currently have in the "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" block so that the computer displays everything that appears *after* the @ in any entered e-mail address, regardless of how long the text is before the @.\nHINT: If you didn't know what email was but you were able to ask for the position number of whatever character(s) you want, what position would you ask for?  Once you had that position, what math operation would you use to get the starting position of the string after the @?  Make sure your calculations work on coolcoder@google.com, jdoe@foo.edu, or any other e-mail address!"}),{startPosition:he(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),d(n),h(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){var e=[1,1,1,2,3,1,1,1,1,1,1],t=o.getAllBlocks().filter((function(e){return"text_print"===e.type||"js_text_print"===e.type}));alert("✔ Great work!  So now let's return to the original task, to get the text between the first @ and the first ., e.g., the google in coolcoder@google.com or the mail in expertsoftwareengineer@mail.co.uk.  To simplify, we'll assume the first . always follows the first @, which may not always be the case in an e-mail address (e.g., jane.doe@gmail.com).  So are you up to the task of typing it all in!  You'll use two "+T2C.MSG.currentLanguage.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT+" this time."),ue(),a.clearToolbox(),["type_in_between_at_and_period","t2c_text_indexof","math_arithmetic_basic","text","variables_get","math_number","t2c_text_getsubstring","t2c_text_length","text_print","text_input","variables_set"].forEach((function(t,n){a.createToolboxBlock(t,!1),o.options.maxInstances[t]=e[n]})),t.forEach((function(e){return e.setCollapsed(!0)}))}})),n.addTask(new r((function(){var e=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"email"===e.getField("VAR").getText()})),t=o.getAllBlocks().find((function(t){return"t2c_text_length"===t.type&&-1!==e.indexOf(t.getInputTargetBlock("VALUE"))})),n=o.getAllBlocks().filter((function(e){return"math_number"===e.type&&1===e.getFieldValue("NUM")})),i=o.getAllBlocks().filter((function(e){return"text"===e.type&&"@"==e.getFieldValue("TEXT")})),r=o.getAllBlocks().filter((function(t){return("t2c_text_indexof"===t.type||"js_text_indexof"===t.type)&&-1!==e.indexOf(t.getInputTargetBlock("VALUE"))&&-1!==i.indexOf(t.getInputTargetBlock("FIND"))})),a=o.getAllBlocks().filter((function(e){return"math_arithmetic_basic"===e.type&&(-1!==r.indexOf(e.getInputTargetBlock("A"))&&-1!==n.indexOf(e.getInputTargetBlock("B"))||-1!==r.indexOf(e.getInputTargetBlock("B"))&&e.getInputTargetBlock("A")===n)&&"ADD"==e.getFieldValue("OP")})),l=o.getAllBlocks().find((function(n){return("t2c_text_getsubstring"===n.type||"js_text_getsubstring"===n.type)&&-1!==e.indexOf(n.getInputTargetBlock("STRING"))&&-1!==a.indexOf(n.getInputTargetBlock("AT1"))&&n.getInputTargetBlock("AT2")===t})),s=o.getAllBlocks().find((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&null!==e.getPreviousBlock()&&e.getInputTargetBlock("TEXT")===l})),u=o.getAllBlocks().find((function(e){return"text"===e.type&&(-1!==(e.getFieldValue("TEXT")||"").toLowerCase().indexOf("email")||-1!==(e.getFieldValue("TEXT")||"").toLowerCase().indexOf("e-mail"))})),c=o.getAllBlocks().find((function(e){return("text_input"===e.type||"js_text_input"===e.type)&&e.getInputTargetBlock("TEXT")===u})),g=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getNextBlock()===s&&e.getInputTargetBlock("VALUE")===c&&"email"===e.getField("VAR").getText()})),d=o.getAllBlocks().find((function(e){return"text"===e.type&&"."==e.getFieldValue("TEXT")})),h=o.getAllBlocks().find((function(t){return("t2c_text_indexof"===t.type||"js_text_indexof"===t.type)&&-1!==e.indexOf(t.getInputTargetBlock("VALUE"))&&t.getInputTargetBlock("FIND")===d})),f=o.getAllBlocks().find((function(t){return("t2c_text_getsubstring"===t.type||"js_text_getsubstring"===t.type)&&-1!==e.indexOf(t.getInputTargetBlock("STRING"))&&-1!==a.indexOf(t.getInputTargetBlock("AT1"))&&t.getInputTargetBlock("AT2")===h})),p=o.getAllBlocks().find((function(e){return"text_print"===e.type&&e.getPreviousBlock()===s&&e.getInputTargetBlock("TEXT")===f}));return 6===e.length&&t&&2===n.length&&2===i.length&&2===r.length&&2===a.length&&l&&s&&u&&c&&g&&d&&h&&f&&p}),new s((function(){var e=o.getAllBlocks().find((function(e){return"text"===e.type&&(-1!==(e.getFieldValue("TEXT")||"").toLowerCase().indexOf("email")||-1!==(e.getFieldValue("TEXT")||"").toLowerCase().indexOf("e-mail"))})),t=o.getAllBlocks().find((function(t){return("text_input"===t.type||"js_text_input"===t.type)&&t.getInputTargetBlock("TEXT")===e})),n=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getInputTargetBlock("VALUE")===t&&"email"===e.getField("VAR").getText()})),i=o.getAllBlocks().filter((function(e){return"variables_get"===e.type})),r=(o.getAllBlocks().find((function(e){return"t2c_text_length"===e.type})),o.getAllBlocks().find((function(e){return"math_number"===e.type})),o.getAllBlocks().find((function(t){return"text"===t.type&&t!==e})),o.getAllBlocks().find((function(e){return"t2c_text_indexof"===e.type||"js_text_indexof"===e.type})),o.getAllBlocks().filter((function(e){return"math_arithmetic_basic"===e.type}))),a=(o.getAllBlocks().find((function(e){return"t2c_text_getsubstring"===e.type||"js_text_getsubstring"===e.type})),o.getAllBlocks().find((function(e){return"text_print"===e.type||"js_text_print"===e.type}))),l=o.getAllBlocks().find((function(e){return"text"===e.type&&"."==e.getFieldValue("TEXT")})),s=o.getAllBlocks().find((function(e){return("t2c_text_indexof"===e.type||"js_text_indexof"===e.type)&&-1!==i.indexOf(e.getInputTargetBlock("VALUE"))&&e.getInputTargetBlock("FIND")===l})),u=o.getAllBlocks().find((function(e){return("t2c_text_getsubstring"===e.type||"js_text_getsubstring"===e.type)&&-1!==i.indexOf(e.getInputTargetBlock("STRING"))&&-1!==r.indexOf(e.getInputTargetBlock("AT1"))&&e.getInputTargetBlock("AT2")===s})),c=o.getAllBlocks().find((function(e){return"text_print"===e.type&&e.getInputTargetBlock("TEXT")===u}));return c&&n&&c.getNextBlock()===n?"Since instructions are run from top to bottom, you can't display a substring of email before the user enters it!":c&&null===a.getPreviousBlock()?"Be sure to attach the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block below the previous "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block.":"Drag the type-in-code block, and attach it to the below the previously assembled "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block.  Then type the necessary code to get the text between the first @ and the first ., e.g., the google in coolcoder@google.com or the mail in expertsoftwareengineer@mail.co.uk.  HINT: Use "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" as you did before, but consider how you'd use a second "+T2C.MSG.currentLanguage.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT+" to *stop* at the correct position number this time as you'd no longer use "+T2C.MSG.currentLanguage.TERMINAL_LENGTH+" since you don't want to stop at the end.  As before, make sure your calculations simultaneously work on coolcoder@google.com (start #: 10, end before #: 16), expertsoftwareengineer@mail.co.uk (start #: 23, end before #: 27), and jdoe@foo.edu (start #: 5, end before #: 8), or any other e-mail address by substituting as you did at the beginning."}),{startPosition:he(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),d(n),h(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔✔✔ Outstanding!  And with that, Mission # 5 is accomplished!  In the next mission, we'll take an input of last name, first name and display it as first name last name.  E.g., Doe, Jane would result in Jane Doe.  No new blocks next time, just more challenges with the existing ones!  Until next time!"),ue(),a.clearToolbox(),["code_statement"].forEach((function(e,t){a.createToolboxBlock(e,!1),o.options.maxInstances[e]=maxBlocks[t]}))}})),n},function(e,t){var n=e||new c,o=t||Blockly.getMainWorkspace(),a=new le(o);o.setScale(1),Object(i.f)(o);var g=document.createElement("div");return g.innerText="👆",g.id="ptr",g.style.fontSize="x-large",g.style.position="absolute",g.style.zIndex="1001",document.getElementById("blockly-div").appendChild(g),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("In this mission, we'll take an input of last name, first name and display it as first name last name.  E.g., Doe, Jane would result in Jane Doe.  To remember how we can use the blocks we'll need for this task, let's redo the last code tracing exercise from the last mission."),o.clear(),Blockly.Xml.domToWorkspace(Blockly.Xml.textToDom('<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="J^{n+l{9P?kUYL]KA(p+">question</variable><variable id="_$%T7oxG9i~t(OA!X7BQ">needle</variable><variable id="pLvA^N8w,`$Wz.{3]Y)l">part1</variable><variable id=".;Y0_DaJCJ`w*@mXVR3h">part2</variable></variables><block type="variables_set" id="tey#7{]XsVkhG}b67Q2T" x="-319" y="-488"><field name="VAR" id="J^{n+l{9P?kUYL]KA(p+">question</field><value name="VALUE"><block type="text" id="=l59pm#xp*/yD-Zc|wg="><field name="TEXT">Where is the code?</field></block></value><next><block type="variables_set" id="V#~VUK$roOeC26EkmW?;"><field name="VAR" id="_$%T7oxG9i~t(OA!X7BQ">needle</field><value name="VALUE"><block type="text" id="Fm6?0,yRfGqw=H7jKVMb" collapsed="true"><field name="TEXT"> is </field></block></value><next><block type="variables_set" id="=;4w/TJI8U;roa?mfg#L"><field name="VAR" id="pLvA^N8w,`$Wz.{3]Y)l">part1</field><value name="VALUE"><block type="t2c_text_getsubstring" id="jS~Kj^9d5DIq~hf`z4jx"><value name="STRING"><block type="variables_get" id="xI+UJ`BR2IoA=:m2.B*?" collapsed="true"><field name="VAR" id="J^{n+l{9P?kUYL]KA(p+">question</field></block></value><value name="AT1"><block type="math_arithmetic_basic" id="G8=z4#vn~DVQ58@~r(=I" collapsed="true"><field name="OP">ADD</field><value name="A"><block type="t2c_text_indexof" id="P;qboVh8$3`*ZQ.DG(6u"><value name="VALUE"><block type="variables_get" id="ha.p:6)+1H/P*LaFY!{Z"><field name="VAR" id="J^{n+l{9P?kUYL]KA(p+">question</field></block></value><value name="FIND"><block type="variables_get" id="_sOj%ytZ)S9[LmWJWyy8"><field name="VAR" id="_$%T7oxG9i~t(OA!X7BQ">needle</field></block></value></block></value><value name="B"><block type="math_number" id="{NgZVPFe)E:fw$Yv(Dof"><field name="NUM">4</field></block></value></block></value><value name="AT2"><block type="math_arithmetic_basic" id="y|+8g+^-SfUn.Obq@)FY" collapsed="true"><field name="OP">MINUS</field><value name="A"><block type="t2c_text_length" id="IsT]+wz{|*qErOQ@|h#:"><value name="VALUE"><block type="variables_get" id="*|+P2mmKcMm)4~XpH.(D"><field name="VAR" id="J^{n+l{9P?kUYL]KA(p+">question</field></block></value></block></value><value name="B"><block type="math_number" id="PD)k:DHfFxBlAdLMs3T6"><field name="NUM">1</field></block></value></block></value></block></value><next><block type="variables_set" id="P:h{5-%+;riCuK7$;{!p"><field name="VAR" id=".;Y0_DaJCJ`w*@mXVR3h">part2</field><value name="VALUE"><block type="t2c_text_getsubstring" id="|4rEYR5]-S(.Se?Io$/A"><value name="STRING"><block type="variables_get" id=")i*xC}G_*9N~i=U+75J0" collapsed="true"><field name="VAR" id="J^{n+l{9P?kUYL]KA(p+">question</field></block></value><value name="AT1"><block type="math_number" id="Yob-c[3iQmj0xZ^FseA(" collapsed="true"><field name="NUM">1</field></block></value><value name="AT2"><block type="t2c_text_indexof" id="CeIb)%e|Z/75OUmz6P,;" collapsed="true"><value name="VALUE"><block type="variables_get" id="/o})GDz#dEvn;u4eTzP1"><field name="VAR" id="J^{n+l{9P?kUYL]KA(p+">question</field></block></value><value name="FIND"><block type="variables_get" id="1y!`dr5TL(iBH/9[IE${"><field name="VAR" id="_$%T7oxG9i~t(OA!X7BQ">needle</field></block></value></block></value></block></value><next><block type="text_print" id="%i_jCS,Xk~[/mjxs9`;2"><value name="TEXT"><block type="t2c_text_join" id="P8U0,xqxomPv[5Sl8lf=" collapsed="true"><value name="A"><block type="variables_get" id="F+gf7S+_roWS*{)ZRd24"><field name="VAR" id="pLvA^N8w,`$Wz.{3]Y)l">part1</field></block></value><value name="B"><block type="t2c_text_join" id="B1Y=oXh=^^orOCK#H$o7"><value name="A"><block type="variables_get" id="F%K+Hd[/:yd:JgboT*j9"><field name="VAR" id="_$%T7oxG9i~t(OA!X7BQ">needle</field></block></value><value name="B"><block type="variables_get" id="I`5?hxwqw~!_@INfi)=h"><field name="VAR" id=".;Y0_DaJCJ`w*@mXVR3h">part2</field></block></value></block></value></block></value><next><block type="text_print" id="^yimQQ{W%@n8Y{e|q?69"><value name="TEXT"><block type="t2c_text_join" id="wa4vc*MX?9P^9tg^%Feh"><value name="A"><block type="t2c_text_getsubstring" id="+.=9g9xvfL5c-dTK9e/^"><value name="STRING"><block type="variables_get" id="#3M#7)5e`eKu`]@29I.T" collapsed="true"><field name="VAR" id="J^{n+l{9P?kUYL]KA(p+">question</field></block></value><value name="AT1"><block type="math_arithmetic_basic" id="?s=kF-Eb~qnIS/i9S%$k"><field name="OP">ADD</field><value name="A"><block type="math_number" id="T)vE-]HRc9Cc$neCCi=A"><field name="NUM">0</field></block></value><value name="B"><block type="math_number" id="%k:EE(mi/TwO.T3CmdAH" collapsed="true"><field name="NUM">4</field></block></value></block></value><value name="AT2"><block type="math_arithmetic_basic" id="sdb|tpn1#Orzs:j3RbCr"><field name="OP">MINUS</field><value name="A"><block type="math_number" id="OH]@4.1rwF7n`JII|KiR"><field name="NUM">0</field></block></value><value name="B"><block type="math_number" id="RuN^dCq6h*Au:=1N{o?j" collapsed="true"><field name="NUM">1</field></block></value></block></value></block></value><value name="B"><block type="t2c_text_join" id="bVWo@VPftSJMF{BkTgV-"><value name="A"><block type="text" id="}2w#qm#X-Ac2dpu-I)E^"><field name="TEXT"></field></block></value><value name="B"><block type="t2c_text_getsubstring" id="HtF)g6MCQA.QWbpRxvU;"><value name="STRING"><block type="variables_get" id="h[-ZTV~_[D$IAx`)7giP" collapsed="true"><field name="VAR" id="J^{n+l{9P?kUYL]KA(p+">question</field></block></value><value name="AT1"><block type="math_number" id="G/8,n/wxJQyZ$*%u5RE@" collapsed="true"><field name="NUM">1</field></block></value><value name="AT2"><block type="math_number" id="x2)0#6b}DquVYhIbb;9r"><field name="NUM">0</field></block></value></block></value></block></value></block></value><next><block type="text_print" id="+:|Barcq-TFBDN|:$3qJ"><value name="TEXT"><block type="t2c_text_join" id="*w_1[Jk?M5:GnXhb:o!c"><value name="A"><block type="t2c_text_getsubstring" id="dB@$9@38c!o`tQ?s%LI."><value name="STRING"><block type="text" id="y50AfR/k,=v.MK7I%_GI"><field name="TEXT"></field></block></value><value name="AT1"><block type="math_number" id="Yu6:xNDzTKIt)X$k3c[("><field name="NUM">0</field></block></value><value name="AT2"><block type="math_number" id="Gfv3[8J_~D6Ki1%7j15k"><field name="NUM">0</field></block></value></block></value><value name="B"><block type="t2c_text_join" id="*RzX8o=3@RGBu,W%hZj("><value name="A"><block type="text" id="Ao~Y}]Vb2RHlwXD_zV%%"><field name="TEXT"></field></block></value><value name="B"><block type="t2c_text_getsubstring" id=")lV7J5:N.5!%as@|;@sd"><value name="STRING"><block type="text" id="1g.%GKzcul)Bp.[ipz,D"><field name="TEXT"></field></block></value><value name="AT1"><block type="math_number" id="p2`IFYQT}9R]~5s%{1`I" collapsed="true"><field name="NUM">1</field></block></value><value name="AT2"><block type="math_number" id="={)~-f]X#gx]F1C1]yV]"><field name="NUM">0</field></block></value></block></value></block></value></block></value><next><block type="text_print" id="}B=g!~iteAMEx$/D8PYf"><value name="TEXT"><block type="t2c_text_join" id="bVMuG!Ow(`|Ce_^m=Uv#"><value name="A"><block type="text" id="*Zku[rj1$}o$KCBLT)VQ"><field name="TEXT"></field></block></value><value name="B"><block type="t2c_text_join" id="sgboEU$y7?(kIDz|/Ks`"><value name="A"><block type="text" id="S+%!|P(T}ZgzI2;*/hiu"><field name="TEXT"></field></block></value><value name="B"><block type="text" id="l/zQv2B8pU[}8R17n84+"><field name="TEXT"></field></block></value></block></value></block></value><next><block type="text_print" id="XX4|@r/#apDP=(~l$T-J"><value name="TEXT"><block type="text" id="c=}Eo8_u?jBYLB~$Bh,-"><field name="TEXT"></field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></xml>'),o),Blockly.svgResize(o),o.getAllBlocks().forEach((function(e){return e.setMovable(!1)})),pe(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),me()}})),n.addTask(new r((function(){var e=o.getAllBlocks().filter((function(e){return"text"===e.type&&"the code is here"==e.getFieldValue("TEXT")})),t=o.getAllBlocks().filter((function(t){return"text_print"===t.type&&null===t.getNextBlock()&&-1!==e.indexOf(t.getInputTargetBlock("TEXT"))})),n=o.getAllBlocks().filter((function(e){return"text"===e.type&&"here"==e.getFieldValue("TEXT")})),i=o.getAllBlocks().filter((function(e){return"text"===e.type&&" is "==e.getFieldValue("TEXT")})),r=o.getAllBlocks().filter((function(e){return"t2c_text_join"===e.type&&-1!==i.indexOf(e.getInputTargetBlock("A"))&&-1!==n.indexOf(e.getInputTargetBlock("B"))})),a=o.getAllBlocks().filter((function(e){return"text"===e.type&&"the code"==e.getFieldValue("TEXT")})),l=o.getAllBlocks().filter((function(e){return"t2c_text_join"===e.type&&-1!==a.indexOf(e.getInputTargetBlock("A"))&&-1!==r.indexOf(e.getInputTargetBlock("B"))})),s=o.getAllBlocks().filter((function(e){return"text_print"===e.type&&-1!==t.indexOf(e.getNextBlock())&&-1!==l.indexOf(e.getInputTargetBlock("TEXT"))})),u=o.getAllBlocks().filter((function(e){return"math_number"===e.type&&"5"==e.getFieldValue("NUM")})),c=o.getAllBlocks().filter((function(e){return"math_number"===e.type&&"1"==e.getFieldValue("NUM")})),g=o.getAllBlocks().filter((function(e){return"text"===e.type&&"Where is the code?"==e.getFieldValue("TEXT")})),d=o.getAllBlocks().filter((function(e){return"t2c_text_getsubstring"===e.type&&-1!==g.indexOf(e.getInputTargetBlock("STRING"))&&-1!==c.indexOf(e.getInputTargetBlock("AT1"))&&-1!==u.indexOf(e.getInputTargetBlock("AT2"))})),h=o.getAllBlocks().filter((function(e){return"t2c_text_join"===e.type&&-1!==i.indexOf(e.getInputTargetBlock("A"))&&-1!==d.indexOf(e.getInputTargetBlock("B"))})),f=o.getAllBlocks().filter((function(e){return"math_number"===e.type&&"17"==e.getFieldValue("NUM")})),p=o.getAllBlocks().filter((function(e){return"math_number"===e.type&&"9"==e.getFieldValue("NUM")})),m=o.getAllBlocks().filter((function(e){return"t2c_text_getsubstring"===e.type&&-1!==g.indexOf(e.getInputTargetBlock("STRING"))&&-1!==p.indexOf(e.getInputTargetBlock("AT1"))&&-1!==f.indexOf(e.getInputTargetBlock("AT2"))})),y=o.getAllBlocks().filter((function(e){return"t2c_text_join"===e.type&&-1!==m.indexOf(e.getInputTargetBlock("A"))&&-1!==h.indexOf(e.getInputTargetBlock("B"))})),T=o.getAllBlocks().filter((function(e){return"text_print"===e.type&&-1!==s.indexOf(e.getNextBlock())&&-1!==y.indexOf(e.getInputTargetBlock("TEXT"))})),_=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"question"===e.getField("VAR").getText()})),b=o.getAllBlocks().filter((function(e){return"t2c_text_getsubstring"===e.type&&-1!==_.indexOf(e.getInputTargetBlock("STRING"))&&-1!==c.indexOf(e.getInputTargetBlock("AT1"))&&-1!==u.indexOf(e.getInputTargetBlock("AT2"))})),k=o.getAllBlocks().filter((function(e){return"t2c_text_join"===e.type&&-1!==i.indexOf(e.getInputTargetBlock("A"))&&-1!==b.indexOf(e.getInputTargetBlock("B"))})),x=o.getAllBlocks().filter((function(e){return"math_number"===e.type&&"18"==e.getFieldValue("NUM")})),B=o.getAllBlocks().filter((function(e){return"math_arithmetic_basic"===e.type&&-1!==x.indexOf(e.getInputTargetBlock("A"))&&-1!==c.indexOf(e.getInputTargetBlock("B"))&&"MINUS"==e.getFieldValue("OP")})),E=o.getAllBlocks().filter((function(e){return"math_number"===e.type&&"4"==e.getFieldValue("NUM")})),A=o.getAllBlocks().filter((function(e){return"math_arithmetic_basic"===e.type&&-1!==u.indexOf(e.getInputTargetBlock("A"))&&-1!==E.indexOf(e.getInputTargetBlock("B"))&&"ADD"==e.getFieldValue("OP")})),I=o.getAllBlocks().filter((function(e){return"t2c_text_getsubstring"===e.type&&-1!==_.indexOf(e.getInputTargetBlock("STRING"))&&-1!==A.indexOf(e.getInputTargetBlock("AT1"))&&-1!==B.indexOf(e.getInputTargetBlock("AT2"))})),v=o.getAllBlocks().filter((function(e){return"t2c_text_join"===e.type&&-1!==I.indexOf(e.getInputTargetBlock("A"))&&-1!==k.indexOf(e.getInputTargetBlock("B"))})),w=o.getAllBlocks().filter((function(e){return"text_print"===e.type&&-1!==T.indexOf(e.getNextBlock())&&-1!==v.indexOf(e.getInputTargetBlock("TEXT"))})),N=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"part2"===e.getField("VAR").getText()})),S=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"needle"===e.getField("VAR").getText()})),O=o.getAllBlocks().filter((function(e){return"t2c_text_join"===e.type&&-1!==S.indexOf(e.getInputTargetBlock("A"))&&-1!==N.indexOf(e.getInputTargetBlock("B"))})),L=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"part1"===e.getField("VAR").getText()})),M=o.getAllBlocks().filter((function(e){return"t2c_text_join"===e.type&&-1!==L.indexOf(e.getInputTargetBlock("A"))&&-1!==O.indexOf(e.getInputTargetBlock("B"))})),F=o.getAllBlocks().filter((function(e){return"text_print"===e.type&&-1!==w.indexOf(e.getNextBlock())&&-1!==M.indexOf(e.getInputTargetBlock("TEXT"))})),R=o.getAllBlocks().filter((function(e){return"t2c_text_indexof"===e.type&&-1!==_.indexOf(e.getInputTargetBlock("VALUE"))&&-1!==S.indexOf(e.getInputTargetBlock("FIND"))})),C=o.getAllBlocks().filter((function(e){return"t2c_text_getsubstring"===e.type&&-1!==_.indexOf(e.getInputTargetBlock("STRING"))&&-1!==c.indexOf(e.getInputTargetBlock("AT1"))&&-1!==R.indexOf(e.getInputTargetBlock("AT2"))})),V=o.getAllBlocks().filter((function(e){return"variables_set"===e.type&&-1!==F.indexOf(e.getNextBlock())&&-1!==C.indexOf(e.getInputTargetBlock("VALUE"))&&"part2"===e.getField("VAR").getText()})),P=o.getAllBlocks().filter((function(e){return"t2c_text_length"===e.type&&-1!==_.indexOf(e.getInputTargetBlock("VALUE"))})),U=o.getAllBlocks().filter((function(e){return"math_arithmetic_basic"===e.type&&-1!==P.indexOf(e.getInputTargetBlock("A"))&&-1!==c.indexOf(e.getInputTargetBlock("B"))&&"MINUS"==e.getFieldValue("OP")})),X=o.getAllBlocks().filter((function(e){return"math_arithmetic_basic"===e.type&&-1!==R.indexOf(e.getInputTargetBlock("A"))&&-1!==E.indexOf(e.getInputTargetBlock("B"))&&"ADD"==e.getFieldValue("OP")})),G=o.getAllBlocks().filter((function(e){return"t2c_text_getsubstring"===e.type&&-1!==_.indexOf(e.getInputTargetBlock("STRING"))&&-1!==X.indexOf(e.getInputTargetBlock("AT1"))&&-1!==U.indexOf(e.getInputTargetBlock("AT2"))})),j=o.getAllBlocks().filter((function(e){return"variables_set"===e.type&&-1!==V.indexOf(e.getNextBlock())&&-1!==G.indexOf(e.getInputTargetBlock("VALUE"))&&"part1"===e.getField("VAR").getText()})),D=o.getAllBlocks().filter((function(e){return"variables_set"===e.type&&-1!==j.indexOf(e.getNextBlock())&&-1!==i.indexOf(e.getInputTargetBlock("VALUE"))&&"needle"===e.getField("VAR").getText()})),W=o.getAllBlocks().filter((function(e){return"variables_set"===e.type&&-1!==D.indexOf(e.getNextBlock())&&-1!==g.indexOf(e.getInputTargetBlock("VALUE"))&&"question"===e.getField("VAR").getText()}));return 1===e.length&&1===t.length&&1===n.length&&4===i.length&&1===r.length&&1===a.length&&1===l.length&&1===s.length&&3===u.length&&5===c.length&&3===g.length&&1===d.length&&1===h.length&&1===f.length&&1===p.length&&1===m.length&&1===y.length&&1===T.length&&7===_.length&&1===b.length&&1===k.length&&1===x.length&&1===B.length&&2===E.length&&1===A.length&&1===I.length&&1===v.length&&1===w.length&&1===N.length&&3===S.length&&1===O.length&&1===L.length&&1===M.length&&1===F.length&&2===R.length&&1===C.length&&1===V.length&&1===P.length&&1===U.length&&1===X.length&&1===G.length&&1===j.length&&1===D.length&&1===W.length}),new s((function(){for(var e=o.getAllBlocks(!0),t=e.filter((function(e){return"t2c_text_getsubstring"===e.type||"js_text_getsubstring"===e.type})).map((function(e){return e.getInputTargetBlock("STRING")})).filter((function(e){return e&&"text"===e.type})),n=e.filter((function(e){return"t2c_text_join"===e.type||"text_join"===e.type})).map((function(e){return e.getInputTargetBlock("B")})).filter((function(e){return e&&("t2c_text_join"===e.type||"text_join"===e.type)})).map((function(e){return e.getInputTargetBlock("A")})).filter((function(e){return e&&"text"===e.type})),i=e.filter((function(e){return"t2c_text_getsubstring"===e.type||"js_text_getsubstring"===e.type})).map((function(e){return e.getInputTargetBlock("AT1")})).filter((function(e){return e&&"math_arithmetic_basic"===e.type})).map((function(e){return e.getInputTargetBlock("A")})).find((function(e){return e&&"math_number"===e.type})),r=e.filter((function(e){return"t2c_text_getsubstring"===e.type||"js_text_getsubstring"===e.type})).map((function(e){return e.getInputTargetBlock("AT2")})).filter((function(e){return e&&"math_arithmetic_basic"===e.type})).map((function(e){return e.getInputTargetBlock("A")})).find((function(e){return e&&"math_number"===e.type})),a=e.filter((function(e){return"t2c_text_join"===e.type||"text_join"===e.type})).map((function(e){return e.getInputTargetBlock("B")})).filter((function(e){return e&&("t2c_text_getsubstring"===e.type||"js_text_getsubstring"===e.type)})).map((function(e){return e.getInputTargetBlock("AT2")})).filter((function(e){return e&&"math_number"===e.type})),l=e.filter((function(e){return"t2c_text_join"===e.type||"text_join"===e.type})).map((function(e){return e.getInputTargetBlock("A")})).filter((function(e){return e&&("t2c_text_getsubstring"===e.type||"js_text_getsubstring"===e.type)})).map((function(e){return e.getInputTargetBlock("AT1")})).find((function(e){return e&&"math_number"===e.type})),s=e.filter((function(e){return"t2c_text_join"===e.type||"text_join"===e.type})).map((function(e){return e.getInputTargetBlock("A")})).filter((function(e){return e&&("t2c_text_getsubstring"===e.type||"js_text_getsubstring"===e.type)})).map((function(e){return e.getInputTargetBlock("AT2")})).find((function(e){return e&&"math_number"===e.type})),u=e.filter((function(e){return("t2c_text_join"===e.type||"text_join"===e.type)&&e.getParent()&&("text_print"===e.getParent().type||"js_text_print"===e.getParent().type)})).map((function(e){return e.getInputTargetBlock("A")})).find((function(e){return e&&"text"===e.type})),c=e.filter((function(e){return"t2c_text_join"===e.type||"text_join"===e.type})).map((function(e){return e.getInputTargetBlock("B")})).filter((function(e){return e&&("t2c_text_join"===e.type||"text_join"===e.type)})).map((function(e){return e.getInputTargetBlock("B")})).find((function(e){return e&&"text"===e.type})),g=e.find((function(e){return"text"===e.type&&e.getParent()&&("text_print"===e.getParent().type||"js_text_print"===e.getParent().type)})),d="Where is the code?",h=d.indexOf(" is "),f=0;f<=1;f++){var p=t[f];if(p&&p.getFieldValue("TEXT")&&p.getFieldValue("TEXT")!==d)return"The text before the "+(0===f?"first ":"second ")+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" on line 7 is incorrect.  Substitute question with the value that it's initially assigned to."}for(var m=0;m<=2;m++){var y=n[m];if(y&&y.getFieldValue("TEXT")&&" is "!==y.getFieldValue("TEXT"))return"The text after the first + (for string concatenation, NOT numbers) on line "+(m+6)+" is incorrect.  Substitute needle with the value that it's initially assigned to (*including* a single space at the beginning *and* end)."}if(i&&i.getFieldValue("NUM")&&i.getFieldValue("NUM")!==h)return"The first number on line 6 (in the addition block) is incorrect.  It should be the substitution of "+T2C.MSG.currentLanguage.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT+", which will be the *starting* position of the first occurrence of the value of needle.  Fix it accordingly.";if(r&&r.getFieldValue("NUM")&&r.getFieldValue("NUM")!==d.length)return"The third number on line 6 (in the subtraction block) should be the length of the value of question.  Fix it accordingly.";for(var T=0;T<=1;T++){var _=a[T];if(_&&_.getFieldValue("NUM")&&_.getFieldValue("NUM")!==h)return"The last number on line "+(T+6)+" is incorrect.  It should be the substitution of "+T2C.MSG.currentLanguage.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT+", which will be the *starting* position of the first occurrence of the value of needle.  Fix it accordingly."}return i&&i.getFieldValue("NUM")&&i.getFieldValue("NUM")===h&&l&&l.getFieldValue("NUM")&&l.getFieldValue("NUM")!==h+4?"The first number on line 7 should be the result of the addition with 4 from the previous line.  Fix it accordingly.":r&&r.getFieldValue("NUM")&&r.getFieldValue("NUM")===d.length&&s&&s.getFieldValue("NUM")&&s.getFieldValue("NUM")!==d.length-1?"The second number on line 7 should be the result of the subtraction by 1 from the previous line.  Fix it accordingly.":i&&i.getFieldValue("NUM")&&i.getFieldValue("NUM")===h&&l&&l.getFieldValue("NUM")&&l.getFieldValue("NUM")===h+4&&r&&r.getFieldValue("NUM")&&r.getFieldValue("NUM")===d.length&&s&&s.getFieldValue("NUM")&&s.getFieldValue("NUM")===d.length-1&&u&&u.getFieldValue("TEXT")&&u.getFieldValue("TEXT")!==d.substring(h+4,d.length-1)?"The first string on line 8 (before the text concatenation +) should be the result of the substitution of the first "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+".  Fix it accordingly.":a[1]&&a[1].getFieldValue("NUM")&&a[1].getFieldValue("NUM")===h&&c&&c.getFieldValue("TEXT")&&c.getFieldValue("TEXT")!==d.substring(1,h)?"The last string on line 8 (after both text concatenation +) should be the result of the substitution of the second "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+".  Fix it accordingly.":u&&u.getFieldValue("TEXT")&&u.getFieldValue("TEXT")===d.substring(h+4,d.length-1)&&n[2]&&n[2].getFieldValue("TEXT")&&" is "===n[2].getFieldValue("TEXT")&&c&&c.getFieldValue("TEXT")&&c.getFieldValue("TEXT")===d.substring(1,h)&&g&&g.getFieldValue("TEXT")&&g.getFieldValue("TEXT")!==d.substring(h+4,d.length-1)+" is "+d.substring(1,h)?"The string on the last line is incorrect; it should be the result of the substitution of the concatenation of the three strings above it on line 8.":"Replace all the blank string literals and 0's with the appropriate text and numbers that are substituted as the computer would from top to bottom so that every line of output is the same.  Try to do this without running the program until you get the message to do so (when you filled in everything correctly)."}),{startPosition:be(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),function(e){e.addTask(new r((function(){return document.getElementById("output-container").classList.contains("show-container")}),new u([new s((function(){return T2C.MSG.currentLanguage.BUTTON_RUN_CODE}),{startPosition:{x:document.getElementById("run-code-button").offsetLeft+document.getElementById("run-code-button").offsetWidth,y:document.getElementById("run-code-button").offsetTop+document.getElementById("run-code-button").offsetHeight}}),new l(g,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("run-code-button").offsetLeft+document.getElementById("run-code-button").offsetWidth/2,y:document.getElementById("run-code-button").offsetTop+document.getElementById("run-code-button").offsetHeight/2}})])))}(n),function(e,t){var n=0;function o(){t.style.color=n%50<25?"#a00":"#000",++n<200&&requestAnimationFrame(o)}e.addTask(new r((function(){return n>=200}),{start:function(){t.style.verticalAlign="top",requestAnimationFrame(o)},isComplete:function(){return!0},animate:function(){return!0}}))}(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("Good, so now we're ready for today's main mission.  But we're going to plan ahead!  When you finish these training missions and need to take on a challenging new coding problem without guidance, you may find yourself lost and typing code that gets you nowhere.  In these situations, it may help to work backward from your objective, which is exactly what we're going to do here.  Since we want to display the user's name as \"first last\", let's suppose we have their first and last names stored in the variables firstName and lastName and *use them* to display the person's full name separated by a space."),pe(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),me(),o.clear(),a.clearToolbox(),a.createToolboxBlock("type_in_display_first_last_name"),o.options.maxInstances.type_in_display_first_last_name=1}})),n.addTask(new r((function(){var e=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"lastName"===e.getField("VAR").getText()})),t=o.getAllBlocks().filter((function(e){return"text"===e.type&&" "==e.getFieldValue("TEXT")})),n=o.getAllBlocks().filter((function(n){return("text_join"===n.type||"t2c_text_join"===n.type)&&-1!==t.indexOf(n.getInputTargetBlock("A"))&&-1!==e.indexOf(n.getInputTargetBlock("B"))})),i=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"firstName"===e.getField("VAR").getText()})),r=o.getAllBlocks().filter((function(e){return("text_join"===e.type||"t2c_text_join"===e.type)&&-1!==i.indexOf(e.getInputTargetBlock("A"))&&-1!==n.indexOf(e.getInputTargetBlock("B"))})),a=o.getAllBlocks().filter((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&null===e.getNextBlock()&&-1!==r.indexOf(e.getInputTargetBlock("TEXT"))}));return 1===e.length&&1===t.length&&1===n.length&&1===i.length&&1===r.length&&1===a.length}),new s((function(){return'Drag the type-in-code block, and type the necessary code to display the person\'s first name and last name separated by a space, assuming the first and last names are stored in the variables, firstName and lastName, respectively.  E.g., if firstName = "Jane" and lastName = "Doe", you\'d want to display "Jane Doe".'}),{startPosition:be(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert('✔ Acchaa (Good), so now of course we need to get the first and last names.  Let\'s get the last name first.  The input will be something like "Doe, Jane" so the last name will be a consecutive series of characters from part of this string...');for(var e="Which of the following can be used to get a consecutive series of characters from part of this string? (Enter a, b, c, or d.)\nA. "+T2C.MSG.currentLanguage.TERMINAL_GETCHARACTERNUMBER+"\nB. "+T2C.MSG.currentLanguage.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT+"\nC. "+T2C.MSG.currentLanguage.TERMINAL_LENGTH+"\nD. "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER,t=prompt(e);"string"==typeof t&&!t.toLowerCase().startsWith("d");)t=prompt("No, "+t[0]+" is not correct.  Please try again.  "+e);alert((t?"Yes":"OK, we'll tell you")+", D "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+' is the correct answer.  Now this requires the string to extract text from and both starting and ending *numbers*, the first one telling the computer where to start extracting text from and the second telling it where to stop.  For an input of "Doe, Jane", the last name starts at the beginning and ends at the position of the comma.  So let\'s assume we have the input stored in enteredName and position of the comma in commaPosition and store the last name in a variable lastName, accordingly.'),pe(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),me(),a.clearToolbox(),a.createToolboxBlock("type_in_set_last_name"),o.options.maxInstances.type_in_set_last_name=1}})),n.addTask(new r((function(){var e=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"lastName"===e.getField("VAR").getText()})),t=o.getAllBlocks().filter((function(e){return"text"===e.type&&" "===e.getFieldValue("TEXT")})),n=o.getAllBlocks().filter((function(n){return("t2c_text_join"===n.type||"text_join"===n.type)&&-1!==t.indexOf(n.getInputTargetBlock("A"))&&-1!==e.indexOf(n.getInputTargetBlock("B"))})),i=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"firstName"===e.getField("VAR").getText()})),r=o.getAllBlocks().filter((function(e){return("t2c_text_join"===e.type||"text_join"===e.type)&&-1!==i.indexOf(e.getInputTargetBlock("A"))&&-1!==n.indexOf(e.getInputTargetBlock("B"))})),a=o.getAllBlocks().filter((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&null===e.getNextBlock()&&-1!==r.indexOf(e.getInputTargetBlock("TEXT"))})),l=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"commaPosition"===e.getField("VAR").getText()})),s=o.getAllBlocks().filter((function(e){return"math_number"===e.type&&0===e.getFieldValue("NUM")})),u=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"enteredName"===e.getField("VAR").getText()})),c=o.getAllBlocks().filter((function(e){return("t2c_text_getsubstring"===e.type||"js_text_getsubstring"===e.type)&&-1!==u.indexOf(e.getInputTargetBlock("STRING"))&&-1!==s.indexOf(e.getInputTargetBlock("AT1"))&&-1!==l.indexOf(e.getInputTargetBlock("AT2"))})),g=o.getAllBlocks().filter((function(e){return"variables_set"===e.type&&-1!==a.indexOf(e.getNextBlock())&&-1!==c.indexOf(e.getInputTargetBlock("VALUE"))&&"lastName"===e.getField("VAR").getText()}));return 1===e.length&&1===t.length&&1===n.length&&1===i.length&&1===r.length&&1===a.length&&1===l.length&&1===s.length&&1===u.length&&1===c.length&&1===g.length}),new s((function(){var e=o.getAllBlocks().find((function(e){return"variables_set"===e.type})),t=o.getAllBlocks().find((function(e){return"text_print"===e.type||"js_text_print"===e.type}));return t&&e&&t.getNextBlock()===e?"The "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block declaring lastName needs to go above the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block so the computer knows what lastName is when attempting to display the user's full name, which references lastName!  Remember that statements are run from top to bottom.":t&&e&&t.getPreviousBlock()!==e?"Place the new "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block that sets lastName above the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block so the computer knows what lastName is when attempting to display the user's full name, which references lastName.":"Drag the type-in-code block, and attach it above the previous "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+' block.  Then type the necessary code to store the user\'s last name in the variable lastName, *assuming* we have the input in the form "last name, first name" stored in the variable enteredName (e.g., enteredName = "Doe, Jane") *AND* the position of the comma stored in commaPosition (e.g., for "Doe, Jane", commaPosition = 3).'}),{startPosition:be(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert('✔ Bahut acchaa (Very good), so now let\'s get the first name.  The input will be something like "Doe, Jane" so the first name will also be a consecutive series of characters from part of this string so we can once again use '+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+".  You can figure out how you could get the numerical starting and ending positions from enteredString and commaPosition, right?"),pe(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),me(),a.clearToolbox(),a.createToolboxBlock("type_in_set_first_name"),o.options.maxInstances.type_in_set_first_name=1}})),n.addTask(new r((function(){var e=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"lastName"===e.getField("VAR").getText()})),t=o.getAllBlocks().filter((function(e){return"text"===e.type&&" "===e.getFieldValue("TEXT")})),n=o.getAllBlocks().filter((function(n){return("t2c_text_join"===n.type||"text_join"===n.type)&&-1!==t.indexOf(n.getInputTargetBlock("A"))&&-1!==e.indexOf(n.getInputTargetBlock("B"))})),i=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"firstName"===e.getField("VAR").getText()})),r=o.getAllBlocks().filter((function(e){return("t2c_text_join"===e.type||"text_join"===e.type)&&-1!==i.indexOf(e.getInputTargetBlock("A"))&&-1!==n.indexOf(e.getInputTargetBlock("B"))})),a=o.getAllBlocks().filter((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&null===e.getNextBlock()&&-1!==r.indexOf(e.getInputTargetBlock("TEXT"))})),l=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"commaPosition"===e.getField("VAR").getText()})),s=o.getAllBlocks().filter((function(e){return"math_number"===e.type&&0===e.getFieldValue("NUM")})),u=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"enteredName"===e.getField("VAR").getText()})),c=o.getAllBlocks().filter((function(e){return("t2c_text_getsubstring"===e.type||"js_text_getsubstring"===e.type)&&-1!==u.indexOf(e.getInputTargetBlock("STRING"))&&-1!==s.indexOf(e.getInputTargetBlock("AT1"))&&-1!==l.indexOf(e.getInputTargetBlock("AT2"))})),g=o.getAllBlocks().filter((function(e){return"variables_set"===e.type&&-1!==a.indexOf(e.getNextBlock())&&-1!==c.indexOf(e.getInputTargetBlock("VALUE"))&&"lastName"===e.getField("VAR").getText()})),d=o.getAllBlocks().filter((function(e){return"t2c_text_length"===e.type&&-1!==u.indexOf(e.getInputTargetBlock("VALUE"))})),h=o.getAllBlocks().filter((function(e){return"math_number"===e.type&&2===e.getFieldValue("NUM")})),f=o.getAllBlocks().filter((function(e){return"math_arithmetic_basic"===e.type&&-1!==l.indexOf(e.getInputTargetBlock("A"))&&-1!==h.indexOf(e.getInputTargetBlock("B"))&&"ADD"==e.getFieldValue("OP")})),p=o.getAllBlocks().filter((function(e){return("t2c_text_getsubstring"===e.type||"js_text_getsubstring"===e.type)&&-1!==u.indexOf(e.getInputTargetBlock("STRING"))&&-1!==f.indexOf(e.getInputTargetBlock("AT1"))&&-1!==d.indexOf(e.getInputTargetBlock("AT2"))})),m=o.getAllBlocks().filter((function(e){return"variables_set"===e.type&&-1!==g.indexOf(e.getNextBlock())&&-1!==p.indexOf(e.getInputTargetBlock("VALUE"))&&"firstName"===e.getField("VAR").getText()}));return 1===e.length&&1===t.length&&1===n.length&&1===i.length&&1===r.length&&1===a.length&&2===l.length&&1===s.length&&3===u.length&&1===c.length&&1===g.length&&1===d.length&&1===h.length&&1===f.length&&1===p.length&&1===m.length}),new s((function(){var e=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&"firstName"===e.getField("VAR").getText()})),t=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&"lastName"===e.getField("VAR").getText()})),n=o.getAllBlocks().find((function(e){return"text_print"===e.type||"js_text_print"===e.type}));return e&&n&&n.getNextBlock()===e?"The "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block declaring firstName needs to go above the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block so the computer knows what firstName is when attempting to display the user's full name, which references firstName!  Remember that statements are run from top to bottom.":e&&e.getNextBlock()!==t?"Place the new "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block that sets firstName above the "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block storing lastName.":"Drag the type-in-code block, and attach it above the previous "+T2C.MSG.currentLanguage.TERMINAL_LET+' block.  Then type the necessary code to store the user\'s first name in the variable firstName, *assuming* we have the input in the form "last name, first name" stored in the variable enteredName (e.g., enteredName = "Doe, Jane") *AND* the position of the comma stored in commaPosition (e.g., for "Doe, Jane", commaPosition = 3).  Remember that there\'s a space after the comma.'}),{startPosition:be(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔ Mahaan (Great)!  So for both the first and last name, we needed the position of the comma in the input, which we assume is being stored in enteredName.  You know how to tell the computer to find the position number of the (first) comma in enteredName and store it in the variable commaPosition, right?"),pe(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),me(),a.clearToolbox(),a.createToolboxBlock("type_in_set_comma_pos"),o.options.maxInstances.type_in_set_comma_pos=1}})),n.addTask(new r((function(){var e=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"lastName"===e.getField("VAR").getText()})),t=o.getAllBlocks().filter((function(e){return"text"===e.type&&" "===e.getFieldValue("TEXT")})),n=o.getAllBlocks().filter((function(n){return("t2c_text_join"===n.type||"text_join"===n.type)&&-1!==t.indexOf(n.getInputTargetBlock("A"))&&-1!==e.indexOf(n.getInputTargetBlock("B"))})),i=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"firstName"===e.getField("VAR").getText()})),r=o.getAllBlocks().filter((function(e){return("t2c_text_join"===e.type||"text_join"===e.type)&&-1!==i.indexOf(e.getInputTargetBlock("A"))&&-1!==n.indexOf(e.getInputTargetBlock("B"))})),a=o.getAllBlocks().filter((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&null===e.getNextBlock()&&-1!==r.indexOf(e.getInputTargetBlock("TEXT"))})),l=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"commaPosition"===e.getField("VAR").getText()})),s=o.getAllBlocks().filter((function(e){return"math_number"===e.type&&0===e.getFieldValue("NUM")})),u=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"enteredName"===e.getField("VAR").getText()})),c=o.getAllBlocks().filter((function(e){return("t2c_text_getsubstring"===e.type||"js_text_getsubstring"===e.type)&&-1!==u.indexOf(e.getInputTargetBlock("STRING"))&&-1!==s.indexOf(e.getInputTargetBlock("AT1"))&&-1!==l.indexOf(e.getInputTargetBlock("AT2"))})),g=o.getAllBlocks().filter((function(e){return"variables_set"===e.type&&-1!==a.indexOf(e.getNextBlock())&&-1!==c.indexOf(e.getInputTargetBlock("VALUE"))&&"lastName"===e.getField("VAR").getText()})),d=o.getAllBlocks().filter((function(e){return"t2c_text_length"===e.type&&-1!==u.indexOf(e.getInputTargetBlock("VALUE"))})),h=o.getAllBlocks().filter((function(e){return"math_number"===e.type&&2===e.getFieldValue("NUM")})),f=o.getAllBlocks().filter((function(e){return"math_arithmetic_basic"===e.type&&-1!==l.indexOf(e.getInputTargetBlock("A"))&&-1!==h.indexOf(e.getInputTargetBlock("B"))&&"ADD"==e.getFieldValue("OP")})),p=o.getAllBlocks().filter((function(e){return("t2c_text_getsubstring"===e.type||"js_text_getsubstring"===e.type)&&-1!==u.indexOf(e.getInputTargetBlock("STRING"))&&-1!==f.indexOf(e.getInputTargetBlock("AT1"))&&-1!==d.indexOf(e.getInputTargetBlock("AT2"))})),m=o.getAllBlocks().filter((function(e){return"variables_set"===e.type&&-1!==g.indexOf(e.getNextBlock())&&-1!==p.indexOf(e.getInputTargetBlock("VALUE"))&&"firstName"===e.getField("VAR").getText()})),y=o.getAllBlocks().filter((function(e){return"text"===e.type&&(","==e.getFieldValue("TEXT")||", "==e.getFieldValue("TEXT"))})),T=o.getAllBlocks().filter((function(e){return("t2c_text_indexof"===e.type||"js_text_indexof"===e.type)&&-1!==u.indexOf(e.getInputTargetBlock("VALUE"))&&-1!==y.indexOf(e.getInputTargetBlock("FIND"))})),_=o.getAllBlocks().filter((function(e){return"variables_set"===e.type&&-1!==m.indexOf(e.getNextBlock())&&-1!==T.indexOf(e.getInputTargetBlock("VALUE"))&&"commaPosition"===e.getField("VAR").getText()}));return 1===e.length&&1===t.length&&1===n.length&&1===i.length&&1===r.length&&1===a.length&&2===l.length&&1===s.length&&4===u.length&&1===c.length&&1===g.length&&1===d.length&&1===h.length&&1===f.length&&1===p.length&&1===m.length&&1===y.length&&1===T.length&&1===_.length}),new s((function(){var e=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&"commaPosition"===e.getField("VAR").getText()})),t=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&"firstName"===e.getField("VAR").getText()})),n=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&"lastName"===e.getField("VAR").getText()})),i=o.getAllBlocks().find((function(e){return"text_print"===e.type||"js_text_print"===e.type}));return e&&e.getPreviousBlock()===i?"The "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block declaring commaPosition must go above the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block because the computer uses commaPosition in firstName and in lastName, both which need commaPosition to determine what they are.  Since instructions are run from top to bottom, it won't be able to determine firstName and lastName, which are used in the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" otherwise!":e&&e.getPreviousBlock()===t?"The "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block declaring commaPosition must go above the "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block setting firstName, because the computer uses commaPosition to determine what firstName is.  Since instructions are run from top to bottom, it won't know what commaPosition means, otherwise!":e&&e.getPreviousBlock()===n?"The "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block declaring commaPosition must go above the "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block setting lastName, because the computer uses commaPosition to determine what lastName is.  Since instructions are run from top to bottom, it won't know what commaPosition means, otherwise!":e&&null===e.getNextBlock()?"Place the new "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block that sets commaPosition above the "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block storing firstName.":"Drag the type-in-code block, and attach it above the previous "+T2C.MSG.currentLanguage.TERMINAL_LET+" block.  Then type the necessary code to store the position number of the (first) comma from the value of enteredName in the variable commaPosition."}),{startPosition:be(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔ Excellent!  So now all we have left is to ask the user to enter a name in the form last name, first name and store it in the variable enteredName and we'll be done!"),pe(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),me(),a.clearToolbox(),a.createToolboxBlock("type_in_get_last_first_name_input"),o.options.maxInstances.type_in_get_last_first_name_input=1}})),n.addTask(new r((function(){var e=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"lastName"===e.getField("VAR").getText()})),t=o.getAllBlocks().filter((function(e){return"text"===e.type&&" "===e.getFieldValue("TEXT")})),n=o.getAllBlocks().filter((function(n){return("t2c_text_join"===n.type||"text_join"===n.type)&&-1!==t.indexOf(n.getInputTargetBlock("A"))&&-1!==e.indexOf(n.getInputTargetBlock("B"))})),i=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"firstName"===e.getField("VAR").getText()})),r=o.getAllBlocks().filter((function(e){return("t2c_text_join"===e.type||"text_join"===e.type)&&-1!==i.indexOf(e.getInputTargetBlock("A"))&&-1!==n.indexOf(e.getInputTargetBlock("B"))})),a=o.getAllBlocks().filter((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&null===e.getNextBlock()&&-1!==r.indexOf(e.getInputTargetBlock("TEXT"))})),l=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"commaPosition"===e.getField("VAR").getText()})),s=o.getAllBlocks().filter((function(e){return"math_number"===e.type&&0===e.getFieldValue("NUM")})),u=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"enteredName"===e.getField("VAR").getText()})),c=o.getAllBlocks().filter((function(e){return("t2c_text_getsubstring"===e.type||"js_text_getsubstring"===e.type)&&-1!==u.indexOf(e.getInputTargetBlock("STRING"))&&-1!==s.indexOf(e.getInputTargetBlock("AT1"))&&-1!==l.indexOf(e.getInputTargetBlock("AT2"))})),g=o.getAllBlocks().filter((function(e){return"variables_set"===e.type&&-1!==a.indexOf(e.getNextBlock())&&-1!==c.indexOf(e.getInputTargetBlock("VALUE"))&&"lastName"===e.getField("VAR").getText()})),d=o.getAllBlocks().filter((function(e){return"t2c_text_length"===e.type&&-1!==u.indexOf(e.getInputTargetBlock("VALUE"))})),h=o.getAllBlocks().filter((function(e){return"math_number"===e.type&&2===e.getFieldValue("NUM")})),f=o.getAllBlocks().filter((function(e){return"math_arithmetic_basic"===e.type&&-1!==l.indexOf(e.getInputTargetBlock("A"))&&-1!==h.indexOf(e.getInputTargetBlock("B"))&&"ADD"==e.getFieldValue("OP")})),p=o.getAllBlocks().filter((function(e){return("t2c_text_getsubstring"===e.type||"js_text_getsubstring"===e.type)&&-1!==u.indexOf(e.getInputTargetBlock("STRING"))&&-1!==f.indexOf(e.getInputTargetBlock("AT1"))&&-1!==d.indexOf(e.getInputTargetBlock("AT2"))})),m=o.getAllBlocks().filter((function(e){return"variables_set"===e.type&&-1!==g.indexOf(e.getNextBlock())&&-1!==p.indexOf(e.getInputTargetBlock("VALUE"))&&"firstName"===e.getField("VAR").getText()})),y=o.getAllBlocks().filter((function(e){return"text"===e.type&&(","==e.getFieldValue("TEXT")||", "==e.getFieldValue("TEXT"))})),T=o.getAllBlocks().filter((function(e){return("t2c_text_indexof"===e.type||"js_text_indexof"===e.type)&&-1!==u.indexOf(e.getInputTargetBlock("VALUE"))&&-1!==y.indexOf(e.getInputTargetBlock("FIND"))})),_=o.getAllBlocks().filter((function(e){return"variables_set"===e.type&&-1!==m.indexOf(e.getNextBlock())&&-1!==T.indexOf(e.getInputTargetBlock("VALUE"))&&"commaPosition"===e.getField("VAR").getText()})),b=o.getAllBlocks().filter((function(e){return"text"===e.type&&"string"==typeof e.getFieldValue("TEXT")&&-1!==e.getFieldValue("TEXT").indexOf("name")})),k=o.getAllBlocks().filter((function(e){return("text_input"===e.type||"js_text_input"===e.type)&&-1!==b.indexOf(e.getInputTargetBlock("TEXT"))})),x=o.getAllBlocks().filter((function(e){return"variables_set"===e.type&&-1!==_.indexOf(e.getNextBlock())&&-1!==k.indexOf(e.getInputTargetBlock("VALUE"))&&"enteredName"===e.getField("VAR").getText()}));return 1===e.length&&1===t.length&&1===n.length&&1===i.length&&1===r.length&&1===a.length&&2===l.length&&1===s.length&&4===u.length&&1===c.length&&1===g.length&&1===d.length&&1===h.length&&1===f.length&&1===p.length&&1===m.length&&1===y.length&&1===T.length&&1===_.length&&1===b.length&&1===k.length&&1===x.length}),new s((function(){var e=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&"enteredName"===e.getField("VAR").getText()})),t=(o.getAllBlocks().find((function(e){return"variables_set"===e.type&&"commaPosition"===e.getField("VAR").getText()})),o.getAllBlocks().find((function(e){return"variables_set"===e.type&&"firstName"===e.getField("VAR").getText()})),o.getAllBlocks().find((function(e){return"variables_set"===e.type&&"lastName"===e.getField("VAR").getText()})),o.getAllBlocks().find((function(e){return"text_print"===e.type||"js_text_print"===e.type})));if(e&&t&&t.getNextBlock()===e)return"The "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block setting enteredName must go above the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block because the computer uses enteredName in firstName and in lastName, both which need enteredName to determine what they are.  Since instructions are run from top to bottom, it won't be able to determine firstName and lastName, which are used in the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" otherwise!";if(e&&null!==e.getPreviousBlock()){var n="variables_set"===e.getPreviousBlock().type&&e.getPreviousBlock().getField("VAR").getText();return"The "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block setting enteredName must go above the "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block setting "+n+" because the computer uses enteredName to determine what "+n+" is.  Since instructions are run from top to bottom, it won't know what enteredName means, otherwise!"}return e&&null===e.getNextBlock()?"Place the new "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block that sets enteredName above the "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block storing commaPosition.":"Drag the type-in-code block, and attach it above the previous "+T2C.MSG.currentLanguage.TERMINAL_LET+" block.  Then type the necessary code to ask the user for their full name in the form last, first, including the space after the comma (e.g., as Doe, Jane) and storing his/her inputted name in enteredName."}),{startPosition:be(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔✔✔ Outstanding!  And with that, Mission # 6 is accomplished!  Can you believe you finished the problem already?  You see how working backward can take a potentially challenging problem and make it a lot simpler?  In the next mission 7, you'll continue your training turning s's into dollar signs with a little cutting and pasting using the same types of blocks from this mission.  However, next time, you'll be typing code in straight up JavaScript!  Your ready?  Until next time!"),me(),a.clearToolbox(),["code_statement"].forEach((function(e,t){a.createToolboxBlock(e,!1),o.options.maxInstances[e]=maxBlocks[t]}))}})),n},function(e,t){var n=e||new c,o=t||Blockly.getMainWorkspace(),a=new le(o),g="Mississippi".indexOf("s"),d="Mississippi".substring(0,g),h="Mississippi".substring(g+1),f=d+"$"+h;o.setScale(1),Object(i.f)(o);var p=document.createElement("div");function m(e){var t=e.options.maxInstances;e.options.maxInstances={},e.getAllBlocks().forEach((function(t){e.options.maxInstances[t.type]=++e.options.maxInstances[t.type]||1})),Object.keys(t).forEach((function(n){e.options.maxInstances[n]=e.options.maxInstances[n]||t[n]}))}return p.innerText="👆",p.id="ptr",p.style.fontSize="x-large",p.style.position="absolute",p.style.zIndex="1001",document.getElementById("blockly-div").appendChild(p),n.addTask(new r((function(){return T2C.MSG.currentLanguage===T2C.MSG.JS}),{start:function(){var e=T2C.MSG.currentLanguage===T2C.MSG.JS?"":"So to start, select JavaScript from the dropdown menu at the top and watch how the blocks in the toolbox transform to their JavaScript equivalents.";a.clearToolbox(),["text_print","text_input","t2c_text_indexof","t2c_text_getsubstring","variables_set","variables_get"].forEach((function(e,t){a.createToolboxBlock(e,!1),o.options.maxInstances[e]=0})),alert("In this mission, you'll ask the user for a string with at least one (lowercase) s and then output the entered string with the first s replaced by $.  E.g., for Mississippi, the output would be "+f+".  This task can be accomplished similar to the way the last one was, but this time you're going to work in pure JavaScript.  "+e),o.clear(),Blockly.svgResize(o),xe(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),Be()},isComplete:function(){return!0},animate:function(){return!0},finish:function(){}})),n.addTask(new r((function(){return!0}),{start:function(){alert("Theek hai (OK), so since you got the setup from last time for a similar problem, this time we'll work in the usual direction from the start of the program where we ask the user to enter a string and store it in a variable, which we'll call enteredTextWithS this time.  In pure JavaScript, we use "+T2C.MSG.JS.TERMINAL_GETINPUTBYASKING+" for "+T2C.MSG.EN.TERMINAL_GETINPUTBYASKING+".  As before, you'll drag in a type-in-code block, and type in the code."),o.clear(),Blockly.svgResize(o),xe(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),Be(),a.createToolboxBlock("type_in_get_input_with_s"),o.options.maxInstances.type_in_get_input_with_s=1},isComplete:function(){return!0},animate:function(){return!0},finish:function(){}})),n.addTask(new r((function(){var e=o.getAllBlocks().filter((function(e){return"text"===e.type&&"string"==typeof e.getFieldValue("TEXT")&&-1!==e.getFieldValue("TEXT").toLowerCase().indexOf("with an s")})),t=o.getAllBlocks().filter((function(t){return("text_input"===t.type||"js_text_input"===t.type)&&-1!==e.indexOf(t.getInputTargetBlock("TEXT"))})),n=o.getAllBlocks().filter((function(e){return"variables_set"===e.type&&-1!==t.indexOf(e.getInputTargetBlock("VALUE"))&&"enteredTextWithS"===e.getField("VAR").getText()}));return 1===e.length&&1===t.length&&1===n.length}),new s((function(){return"Drag in the type-in-code block, and type the necessary code to ask the user for a string with an s and store it in a variable enteredTextWithS.  Be sure the message contains the text 'with an s' to let the user know that his/her string needs at least one s and to use the JavaScript "+T2C.MSG.JS.TERMINAL_GETINPUTBYASKING+" instead of "+T2C.MSG.EN.TERMINAL_GETINPUTBYASKING+"."}),{startPosition:ve(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔ Acchaa (Good), so last time we got the position of the comma so we could get the last name which came before it and the first name which came two places after.  Do you remember what we used to do this?  Just to make it more interesting, we'll give you the choices in JavaScript this time and see if you can figure out the equivalences.");for(var e="Which of the following can be used to get the position of a needle (string) appearing in another one (haystack)? (Enter a, b, c, or d.)\nA. "+T2C.MSG.currentLanguage.TERMINAL_GETCHARACTERNUMBER+"\nB. "+T2C.MSG.currentLanguage.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT+"\nC. "+T2C.MSG.currentLanguage.TERMINAL_LENGTH+"\nD. "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER,t=prompt(e);"string"==typeof t&&!t.toLowerCase().startsWith("b");)t=prompt("No, "+t[0]+" is not correct.  Please try again.  "+e);alert((t?"Yes":"OK, we'll tell you")+", B "+T2C.MSG.currentLanguage.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT+" is the correct answer.  The solution to the last problem could be thought of as taking a piece of paper with say |Doe, Jane|, making cuts around the comma |Doe|, |Jane| using "+T2C.MSG.currentLanguage.TERMINAL_FINDFIRSTOCCURRENCEOFTEXT+" to determine where to cut, "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" to get the pieces, and + to paste the ones we want to keep (with perhaps a new piece (the space)).  No rearrangement is needed here, but the idea is the same.  So let's start by determining/storing the position number to cut at."),xe(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),Be(),a.clearToolbox(),["js_text_print","js_text_input","js_text_indexof","js_text_getsubstring","variables_set","variables_get","text"].forEach((function(e,t){a.createToolboxBlock(e,!1),o.options.maxInstances[e]=0})),m(o),a.createToolboxBlock("type_in_set_s_pos"),o.options.maxInstances.type_in_set_s_pos=1}})),n.addTask(new r((function(){var e=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"enteredTextWithS"===e.getField("VAR").getText()})),t=o.getAllBlocks().filter((function(e){return"text"===e.type&&"s"===e.getFieldValue("TEXT")})),n=o.getAllBlocks().filter((function(n){return("t2c_text_indexof"===n.type||"js_text_indexof"===n.type)&&-1!==e.indexOf(n.getInputTargetBlock("VALUE"))&&-1!==t.indexOf(n.getInputTargetBlock("FIND"))})),i=o.getAllBlocks().filter((function(e){return"variables_set"===e.type&&-1!==n.indexOf(e.getInputTargetBlock("VALUE"))&&"sPosition"===e.getField("VAR").getText()})),r=o.getAllBlocks().filter((function(e){return"text"===e.type&&"string"==typeof e.getFieldValue("TEXT")&&-1!==e.getFieldValue("TEXT").toLowerCase().indexOf("with an s")})),a=o.getAllBlocks().filter((function(e){return("text_input"===e.type||"js_text_input"===e.type)&&-1!==r.indexOf(e.getInputTargetBlock("TEXT"))})),l=o.getAllBlocks().filter((function(e){return"variables_set"===e.type&&-1!==i.indexOf(e.getNextBlock())&&-1!==a.indexOf(e.getInputTargetBlock("VALUE"))&&"enteredTextWithS"===e.getField("VAR").getText()}));return 1===e.length&&1===t.length&&1===n.length&&1===i.length&&1===r.length&&1===a.length&&1===l.length}),new s((function(){var e=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&"enteredTextWithS"===e.getField("VAR").getText()})),t=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&"sPosition"===e.getField("VAR").getText()}));return t&&t.getNextBlock()===e?"The "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block declaring sPosition must go below the "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block setting enteredTextWithS because it won't be able to find the position of the s in the entered string if it hasn't been entered yet!  Remember instructions are run from top to bottom.":t&&null===t.getPreviousBlock()?"Place the "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block declaring sPosition below the "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block setting enteredTextWithS, because the computer uses this variable to determine what sPosition is.":"Drag the type-in-code block, and attach it below the previous "+T2C.MSG.currentLanguage.TERMINAL_LET+" block.  Then type the necessary code to store the position number of the (first) _ from the value of enteredTextWithS in the variable called _Position filling in the blank with the character(s) in the same case (lower or upper) that you're searching for."}),{startPosition:ve(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert('✔ Bahut acchaa (Very good), so now let\'s get the text before the first s.  E.g., for "Mississippi", we\'d want "'+d+'".  The equivalent of '+T2C.MSG.EN.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" in "+T2C.MSG.currentLanguage.LANGUAGE_NAME+" is "+T2C.MSG.currentLanguage.TERMINAL_GETTEXTFROMPOSITIONNUMBER+" except you'll only use one set of parentheses with the starting and ending positions separated by a comma.  You can figure out how you could get the numerical starting and ending positions from enteredTextWithS and sPosition in "+T2C.MSG.currentLanguage.LANGUAGE_NAME+", right?"),xe(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),Be(),a.removeToolboxBlocks((function(e){return"type_in_set_s_pos"===e.type})),m(o),a.createToolboxBlock("type_in_set_before_s"),o.options.maxInstances.type_in_set_before_s=1}})),n.addTask(new r((function(){var e=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"enteredTextWithS"===e.getField("VAR").getText()})),t=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"sPosition"===e.getField("VAR").getText()})),n=o.getAllBlocks().filter((function(e){return"math_number"===e.type&&0===e.getFieldValue("NUM")})),i=o.getAllBlocks().filter((function(o){return("t2c_text_getsubstring"===o.type||"js_text_getsubstring"===o.type)&&-1!==e.indexOf(o.getInputTargetBlock("STRING"))&&-1!==n.indexOf(o.getInputTargetBlock("AT1"))&&-1!==t.indexOf(o.getInputTargetBlock("AT2"))})),r=o.getAllBlocks().filter((function(e){return"variables_set"===e.type&&-1!==i.indexOf(e.getInputTargetBlock("VALUE"))&&"beforeS"===e.getField("VAR").getText()})),a=o.getAllBlocks().filter((function(e){return"text"===e.type&&"s"===e.getFieldValue("TEXT")})),l=o.getAllBlocks().filter((function(t){return("t2c_text_indexof"===t.type||"js_text_indexof"===t.type)&&-1!==e.indexOf(t.getInputTargetBlock("VALUE"))&&-1!==a.indexOf(t.getInputTargetBlock("FIND"))})),s=o.getAllBlocks().filter((function(e){return"variables_set"===e.type&&-1!==r.indexOf(e.getNextBlock())&&-1!==l.indexOf(e.getInputTargetBlock("VALUE"))&&"sPosition"===e.getField("VAR").getText()})),u=o.getAllBlocks().filter((function(e){return"text"===e.type&&"string"==typeof e.getFieldValue("TEXT")&&-1!==e.getFieldValue("TEXT").toLowerCase().indexOf("with an s")})),c=o.getAllBlocks().filter((function(e){return("text_input"===e.type||"js_text_input"===e.type)&&-1!==u.indexOf(e.getInputTargetBlock("TEXT"))})),g=o.getAllBlocks().filter((function(e){return"variables_set"===e.type&&-1!==s.indexOf(e.getNextBlock())&&-1!==c.indexOf(e.getInputTargetBlock("VALUE"))&&"enteredTextWithS"===e.getField("VAR").getText()}));return 2===e.length&&1===t.length&&1===n.length&&1===i.length&&1===r.length&&1===a.length&&1===l.length&&1===s.length&&1===u.length&&1===c.length&&1===g.length}),new s((function(){o.getAllBlocks().find((function(e){return"variables_set"===e.type&&"enteredTextWithS"===e.getField("VAR").getText()})),o.getAllBlocks().find((function(e){return"variables_set"===e.type&&"sPosition"===e.getField("VAR").getText()}));var e=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&"beforeS"===e.getField("VAR").getText()}));if(e&&null!==e.getNextBlock()){var t="variables_set"===e.getNextBlock().type&&e.getNextBlock().getField("VAR").getText();return"The "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block setting beforeS must go below the "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block setting "+t+" because the computer uses this one to determine what beforeS is.  Since instructions are run from top to bottom, it won't know what  "+t+" means, otherwise!"}return e&&null===e.getPreviousBlock()?"Place the "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block declaring beforeS below the "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block setting sPosition, because the computer uses this variable to determine what beforeS is.":"Drag the type-in-code block, and attach it below the previous "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block setting sPosition.  Then type the necessary code to store the text coming before the first s of the user input in beforeS (assuming there was an s).  E.g., for Mississippi, have it store "+d}),{startPosition:ve(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert('✔ Mahaan (Great)!  So now let\'s get the text after the s.  E.g., for "Mississippi", we\'d want "'+h+'".'),xe(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),Be(),a.removeToolboxBlocks((function(e){return"type_in_set_before_s"===e.type})),m(o),a.createToolboxBlock("type_in_set_after_s"),o.options.maxInstances.type_in_set_after_s=1}})),n.addTask(new r((function(){var e=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"enteredTextWithS"===e.getField("VAR").getText()})),t=o.getAllBlocks().filter((function(t){return"t2c_text_length"===t.type&&-1!==e.indexOf(t.getInputTargetBlock("VALUE"))})),n=o.getAllBlocks().filter((function(e){return"math_number"===e.type&&1===e.getFieldValue("NUM")})),i=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"sPosition"===e.getField("VAR").getText()})),r=o.getAllBlocks().filter((function(e){return"math_arithmetic_basic"===e.type&&-1!==i.indexOf(e.getInputTargetBlock("A"))&&-1!==n.indexOf(e.getInputTargetBlock("B"))&&"ADD"==e.getFieldValue("OP")})),a=o.getAllBlocks().filter((function(n){return("t2c_text_getsubstring"===n.type||"js_text_getsubstring"===n.type)&&-1!==e.indexOf(n.getInputTargetBlock("STRING"))&&-1!==r.indexOf(n.getInputTargetBlock("AT1"))&&-1!==t.indexOf(n.getInputTargetBlock("AT2"))})),l=o.getAllBlocks().filter((function(e){return"variables_set"===e.type&&-1!==a.indexOf(e.getInputTargetBlock("VALUE"))&&"afterS"===e.getField("VAR").getText()})),s=o.getAllBlocks().filter((function(e){return"math_number"===e.type&&0===e.getFieldValue("NUM")})),u=o.getAllBlocks().filter((function(t){return("t2c_text_getsubstring"===t.type||"js_text_getsubstring"===t.type)&&-1!==e.indexOf(t.getInputTargetBlock("STRING"))&&-1!==s.indexOf(t.getInputTargetBlock("AT1"))&&-1!==i.indexOf(t.getInputTargetBlock("AT2"))})),c=o.getAllBlocks().filter((function(e){return"variables_set"===e.type&&-1!==u.indexOf(e.getInputTargetBlock("VALUE"))&&"beforeS"===e.getField("VAR").getText()})),g=o.getAllBlocks().filter((function(e){return"text"===e.type&&"s"==e.getFieldValue("TEXT")})),d=o.getAllBlocks().filter((function(t){return("t2c_text_indexof"===t.type||"js_text_indexof"===t.type)&&-1!==e.indexOf(t.getInputTargetBlock("VALUE"))&&-1!==g.indexOf(t.getInputTargetBlock("FIND"))})),h=o.getAllBlocks().filter((function(e){return"variables_set"===e.type&&-1!==c.indexOf(e.getNextBlock())&&-1!==d.indexOf(e.getInputTargetBlock("VALUE"))&&"sPosition"===e.getField("VAR").getText()})),f=o.getAllBlocks().filter((function(e){return"text"===e.type&&"string"==typeof e.getFieldValue("TEXT")&&-1!==e.getFieldValue("TEXT").toLowerCase().indexOf("with an s")})),p=o.getAllBlocks().filter((function(e){return("text_input"===e.type||"js_text_input"===e.type)&&-1!==f.indexOf(e.getInputTargetBlock("TEXT"))})),m=o.getAllBlocks().filter((function(e){return"variables_set"===e.type&&-1!==h.indexOf(e.getNextBlock())&&-1!==p.indexOf(e.getInputTargetBlock("VALUE"))&&"enteredTextWithS"===e.getField("VAR").getText()}));return 4===e.length&&1===t.length&&1===n.length&&2===i.length&&1===r.length&&1===a.length&&1===l.length&&1===s.length&&1===u.length&&1===c.length&&1===g.length&&1===d.length&&1===h.length&&1===f.length&&1===p.length&&1===m.length}),new s((function(){o.getAllBlocks().find((function(e){return"variables_set"===e.type&&"enteredTextWithS"===e.getField("VAR").getText()})),o.getAllBlocks().find((function(e){return"variables_set"===e.type&&"sPosition"===e.getField("VAR").getText()}));var e=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&"afterS"===e.getField("VAR").getText()})),t=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&"beforeS"===e.getField("VAR").getText()}));if(e&&null!==e.getNextBlock()&&e.getNextBlock()!==t){var n="variables_set"===e.getNextBlock().type&&e.getNextBlock().getField("VAR").getText();return"The "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block setting afterS must go below the "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block setting "+n+" because the computer uses this one to determine what afterS is.  Since instructions are run from top to bottom, it won't know what  "+n+" means, otherwise!"}return!e||e.getNextBlock()!==t&&null!==e.getPreviousBlock()?"Drag the type-in-code block, and attach it below the previous "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block setting beforeS.  Then type the necessary code to store the text coming after the first s of the user input in afterS (assuming there was an s).":"Place the new "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block setting afterS below the previous "+T2C.MSG.currentLanguage.TERMINAL_LET+" block setting beforeS.  E.g., for an entered string of Mississippi, you'd display "+h+"."}),{startPosition:ve(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔✔ Excellent, so now we display the result of pasting, which will be the same in "+T2C.MSG.currentLanguage.LANGUAGE_NAME+" that it was in "+T2C.MSG.EN.LANGUAGE_NAME+".  E.g., for an input of Mississippi , we'd have a beforeS of "+d+", an afterS of "+h+" and would want "+f+"."),xe(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),Be(),a.removeToolboxBlocks((function(e){return"type_in_set_after_s"===e.type})),m(o),a.createToolboxBlock("type_in_display_s_replaced_with_dollar"),o.options.maxInstances.type_in_display_s_replaced_with_dollar=1}})),n.addTask(new r((function(){var e=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"afterS"===e.getField("VAR").getText()})),t=o.getAllBlocks().filter((function(e){return"text"===e.type&&"$"==e.getFieldValue("TEXT")})),n=o.getAllBlocks().filter((function(n){return"t2c_text_join"===n.type&&-1!==t.indexOf(n.getInputTargetBlock("A"))&&-1!==e.indexOf(n.getInputTargetBlock("B"))})),i=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"beforeS"===e.getField("VAR").getText()})),r=o.getAllBlocks().filter((function(e){return"t2c_text_join"===e.type&&-1!==i.indexOf(e.getInputTargetBlock("A"))&&-1!==n.indexOf(e.getInputTargetBlock("B"))})),a=o.getAllBlocks().filter((function(e){return("text_print"===e.type||"js_text_print"===e.type)&&null===e.getNextBlock()&&-1!==r.indexOf(e.getInputTargetBlock("TEXT"))})),l=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"enteredTextWithS"===e.getField("VAR").getText()})),s=o.getAllBlocks().filter((function(e){return"t2c_text_length"===e.type&&-1!==l.indexOf(e.getInputTargetBlock("VALUE"))})),u=o.getAllBlocks().filter((function(e){return"math_number"===e.type&&1===e.getFieldValue("NUM")})),c=o.getAllBlocks().filter((function(e){return"variables_get"===e.type&&"sPosition"===e.getField("VAR").getText()})),g=o.getAllBlocks().filter((function(e){return"math_arithmetic_basic"===e.type&&-1!==c.indexOf(e.getInputTargetBlock("A"))&&-1!==u.indexOf(e.getInputTargetBlock("B"))&&"ADD"==e.getFieldValue("OP")})),d=o.getAllBlocks().filter((function(e){return("t2c_text_getsubstring"===e.type||"js_text_getsubstring"===e.type)&&-1!==l.indexOf(e.getInputTargetBlock("STRING"))&&-1!==g.indexOf(e.getInputTargetBlock("AT1"))&&-1!==s.indexOf(e.getInputTargetBlock("AT2"))})),h=o.getAllBlocks().filter((function(e){return"variables_set"===e.type&&-1!==d.indexOf(e.getInputTargetBlock("VALUE"))&&"afterS"===e.getField("VAR").getText()&&-1!==a.indexOf(e.getNextBlock())})),f=o.getAllBlocks().filter((function(e){return"math_number"===e.type&&0===e.getFieldValue("NUM")})),p=o.getAllBlocks().filter((function(e){return("t2c_text_getsubstring"===e.type||"js_text_getsubstring"===e.type)&&-1!==l.indexOf(e.getInputTargetBlock("STRING"))&&-1!==f.indexOf(e.getInputTargetBlock("AT1"))&&-1!==c.indexOf(e.getInputTargetBlock("AT2"))})),m=o.getAllBlocks().filter((function(e){return"variables_set"===e.type&&-1!==p.indexOf(e.getInputTargetBlock("VALUE"))&&"beforeS"===e.getField("VAR").getText()&&-1!==h.indexOf(e.getNextBlock())})),y=o.getAllBlocks().filter((function(e){return"text"===e.type&&"s"==e.getFieldValue("TEXT")})),T=o.getAllBlocks().filter((function(e){return("t2c_text_indexof"===e.type||"js_text_indexof"===e.type)&&-1!==l.indexOf(e.getInputTargetBlock("VALUE"))&&-1!==y.indexOf(e.getInputTargetBlock("FIND"))})),_=o.getAllBlocks().filter((function(e){return"variables_set"===e.type&&-1!==m.indexOf(e.getNextBlock())&&-1!==T.indexOf(e.getInputTargetBlock("VALUE"))&&"sPosition"===e.getField("VAR").getText()})),b=o.getAllBlocks().filter((function(e){return"text"===e.type&&"string"==typeof e.getFieldValue("TEXT")&&-1!==e.getFieldValue("TEXT").toLowerCase().indexOf("with an s")})),k=o.getAllBlocks().filter((function(e){return("text_input"===e.type||"js_text_input"===e.type)&&-1!==b.indexOf(e.getInputTargetBlock("TEXT"))})),x=o.getAllBlocks().filter((function(e){return"variables_set"===e.type&&-1!==_.indexOf(e.getNextBlock())&&-1!==k.indexOf(e.getInputTargetBlock("VALUE"))&&"enteredTextWithS"===e.getField("VAR").getText()}));return 1===e.length&&1===t.length&&1===n.length&&1===i.length&&1===r.length&&1===a.length&&4===l.length&&1===s.length&&1===u.length&&2===c.length&&1===g.length&&1===d.length&&1===h.length&&1===f.length&&1===p.length&&1===m.length&&1===y.length&&1===T.length&&1===_.length&&1===b.length&&1===k.length&&1===x.length}),new s((function(){var e=o.getAllBlocks().find((function(e){return"variables_set"===e.type&&"enteredTextWithS"===e.getField("VAR").getText()})),t=o.getAllBlocks().find((function(e){return"text_print"===e.type||"js_text_print"===e.type}));if(e&&t&&t.getNextBlock()===e)return"The "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block must go below the "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block setting enteredTextWithS because the computer uses enteredTextWithS in beforeS and afterS, both which need enteredTextWithS to determine what they are.  Since instructions are run from top to bottom, it won't be able to determine beforeS and afterS, which are used in the "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" otherwise!";if(t&&null!==t.getNextBlock()){var n="variables_set"===t.getNextBlock().type&&t.getNextBlock().getField("VAR").getText();return"The "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block must go below the "+T2C.MSG.currentLanguage.TERMINAL_LET+" variable block setting "+n+" because the computer uses  "+n+" in what it displays!  Since instructions are run from top to bottom, it won't know what  "+n+" means, otherwise!"}return t&&null===t.getPreviousBlock()?"Place the new "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY+" block below the previous "+T2C.MSG.currentLanguage.TERMINAL_LET+" block setting afterS.":"Drag the type-in-code block, and type the necessary code to display the user's entered string with its first s replaced by a $ (assuming the user typed in a string with at least one s).  E.g., for an entered string of Mississippi, you'd display "+f+"."}),{startPosition:ve(o,null,{},50,document.getElementById("top-header").offsetHeight+50)}))),function(e){e.addTask(new r((function(){return document.getElementById("output-container").classList.contains("show-container")}),new u([new s((function(){return T2C.MSG.currentLanguage.BUTTON_RUN_CODE}),{startPosition:{x:document.getElementById("run-code-button").offsetLeft+document.getElementById("run-code-button").offsetWidth,y:document.getElementById("run-code-button").offsetTop+document.getElementById("run-code-button").offsetHeight}}),new l(p,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("run-code-button").offsetLeft+document.getElementById("run-code-button").offsetWidth/2,y:document.getElementById("run-code-button").offsetTop+document.getElementById("run-code-button").offsetHeight/2}})])))}(n),function(e,t){var n=0;function o(){t.style.color=n%50<25?"#a00":"#000",++n<200&&requestAnimationFrame(o)}e.addTask(new r((function(){return n>=200}),{start:function(){t.style.verticalAlign="top",requestAnimationFrame(o)},isComplete:function(){return!0},animate:function(){return!0}}))}(n,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),n.addTask(new r((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔✔✔ Outstanding!  And with that, Mission # 7 is accomplished and you just typed an entire program in pure JavaScript!  That wasn't too bad was it?  In the next mission 8, you'll get a person's first/last initials from their first and last name.  As you did in this mission, you'll be typing code in pure JavaScript except you'll be returning to the "+T2C.MSG.JS.TERMINAL_GETCHARACTERNUMBER+" to get single characters at given positions.  Phir milenge (See you again)!"),Be(),a.clearToolbox(),["code_statement"].forEach((function(e,t){a.createToolboxBlock(e,!1),o.options.maxInstances[e]=maxBlocks[t]}))}})),n}];window.addEventListener("DOMContentLoaded",(function(){var e=window.location&&"string"==typeof window.location.href&&parseInt(window.location.href.substring(window.location.href.indexOf("level=")+6))||0;console.log("Loading level",e),0<=e&&e<Ne.length&&Ne[e]().runTasks()}))}]);