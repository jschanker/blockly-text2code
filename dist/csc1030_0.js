"use strict";var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==(void 0===e?"undefined":_typeof(e))&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=21)}([function(e,t,n){function o(e,t,n){var o=e&&e.getInput(t),r=n&&n.outputConnection;o&&r&&o.connection.connect(r)}function r(e){Blockly.Xml.clearWorkspaceAndLoadFromXml(Blockly.Xml.workspaceToDom(e),e),Blockly.svgResize(e)}function i(e,t){e.nextConnection&&t.previousConnection&&e.nextConnection.connect(t.previousConnection)}function s(e,t){var n=e.newBlock(t);return n.initSvg(),n.moveTo(new Blockly.utils.Coordinate(e.getMetrics().viewLeft,e.getMetrics().viewTop)),n}function a(e,t){e&&t&&t.moveBy(e.getRelativeToSurfaceXY().x-t.getRelativeToSurfaceXY().x,e.getRelativeToSurfaceXY().y-t.getRelativeToSurfaceXY().y)}function l(e){var t=e.getMetrics();return e.getAllBlocks().filter((function(e){var n=e.getBoundingRectangle();return n.left<t.viewLeft||n.right>t.viewLeft+t.viewWidth||n.top<t.viewTop||n.bottom>t.viewTop+t.viewHeight}))}function u(e){var t=T2C.MSG.currentLanguage===T2C.MSG.PY?"Python":"JavaScript";l(e).filter((function(e){return e.getParent()&&!e.nextConnection&&!e.isCollapsed()})).slice().forEach((function(n){if(!n.isDisposed()){var o=s(e,"code_expression");c(o,Blockly[t].blockToCode(n)[0]||Blockly[t].blockToCode(n),"EXP"),o.setCollapsed(!0),n.getParent().getInputWithBlock(n).connection.connect(o.outputConnection),n.dispose(!0)}})),r(e),l(e).length>0&&e.zoomToFit()}function c(e,t,n){var o=e.workspace,r=t;e.type.toLowerCase().startsWith("variables_")&&"VAR"===n&&(r=-1===o.getAllVariableNames().indexOf(t)?o.createVariable(t).getId():o.getVariable(t).getId()),e.setFieldValue(r,n)}function _(e){if(!e)return null;for(var t=e.getParent();t&&!t.previousConnection;)t=t.getParent();return t}function p(e){for(var t=e;!t.nextConnection&&t.getParent();)t=t.getParent();for(;t.getNextBlock();)t=t.getNextBlock();return t}function g(e,t,n){var o=e.getParent(),r=null,i=null,s=-1,a=null;return e.inputList.forEach((function(e){e.fieldRow.forEach((function(e){t.getField(e.name)&&c(t,e.getValue(),e.name)}))})),o?(s=(i=(r=o.getInputWithBlock(e))?r.connection:o.nextConnection).targetConnection.type)===Blockly.OUTPUT_VALUE?i.connect(t.outputConnection):s===Blockly.PREVIOUS_STATEMENT&&(a=t.previousConnection):t.moveBy(e.getRelativeToSurfaceXY().x-t.getRelativeToSurfaceXY().x,e.getRelativeToSurfaceXY().y-t.getRelativeToSurfaceXY().y),e.getChildren().slice().forEach((function(n){if(e.getNextBlock()!==n){var o=e.getInputWithBlock(n),r=t.getInput(o.name);r&&(o=r.connection.connect(n.outputConnection))}else p(t).nextConnection&&p(t).nextConnection.connect(n.previousConnection)})),a&&i.connect(a),n&&e.dispose(),t}n.d(t,"j",(function(){return o})),n.d(t,"f",(function(){return r})),n.d(t,"i",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return u})),n.d(t,"h",(function(){return c})),n.d(t,"c",(function(){return _})),n.d(t,"b",(function(){return p})),n.d(t,"g",(function(){return g}))},function(e,t,n){t.a=function(){function e(t,n){_classCallCheck(this,e),this.lhs_=t,this.rhs_=n}return _createClass(e,[{key:"lhs",get:function(){return this.lhs_}},{key:"rhs",get:function(){return this.rhs_}}]),e}()},function(e,t,n){function o(e,t,n){return e instanceof Array&&t instanceof Array?e.reduce((function(e,o){return e.concat(t.map((function(e){return n?o.concat(e):[o,e]})))}),[]):[]}function r(e){return 0===e.length?[]:1===e.length?e[0].map((function(e){return[e]})):e.reduce((function(e,t,n){return o(e,t,n>1)}))}n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}))},function(e,t,n){var o=function(){function e(t){_classCallCheck(this,e),this.blockTemplate_=JSON.parse(t),this.args_=[],this.blockVal_=null}return _createClass(e,[{key:"evaluate_",value:function(t){var n=this;if(t instanceof e)return t;if("string"==typeof t){var o=t.split(/(%\d+)/).map((function(e){var t=e.startsWith("%")&&parseInt(e.substring(1));return t?n.evaluate_(n.args_[t-1]):e}));return o.find((function(t){return t instanceof e}))||o.join("")}if(Array.isArray(t))return t.map(this.evaluate_.bind(this));var r={};return Object.keys(t).forEach((function(e){r[e]=n.evaluate_(t[e])})),r}},{key:"hasBeenSet_",value:function(e){return!/"%(\d+)"/.test(e)}},{key:"keys",value:function(e){var t=this;return this.blockVal_[e].filter((function(e){return t.hasBeenSet_(e)}))}},{key:"args",set:function(e){this.args_=e,this.blockVal_=this.evaluate_(this.blockTemplate_)}},{key:"type",get:function(){return this.blockVal_&&this.blockVal_.type}},{key:"inputs",get:function(){return this.blockVal_&&this.blockVal_.inputs}},{key:"fields",get:function(){return this.blockVal_&&this.blockVal_.fields}},{key:"blocks",get:function(){return this.blockVal_&&this.blockVal_.blocks}}]),e}();t.a=o},function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var o=JSON.parse('{"rules":{"wholeNumberExp":{"wholeNumberSum":["wholeNumberExp","wholeNumberAddMinusOp","wholeNumberTerm"],"wholeNumberTermSingle":["wholeNumberTerm"],"__2__wholeNumberSum":["wholeNumberExp","wholeNumberAddMinusOp"]},"wholeNumberTerm":{"wholeNumberTermSingleGroupedExp":["openParenthesis","wholeNumberTerm","closeParenthesis"],"wholeNumberTermTwoGroupedExp":["openParenthesis","wholeNumberExp","wholeNumberGroupedOp","wholeNumberTerm","closeParenthesis"],"wholeNumberTermProduct":["wholeNumberTerm","wholeNumberTimesDividedByOp","wholeNumberTerm"],"wholeNumberTermAtomic":["wholeNumberAtomic"],"__2__wholeNumberTermSingleGroupedExp":["openParenthesis","wholeNumberTerm"],"__2__wholeNumberTermTwoGroupedExp":["openParenthesis","wholeNumberExp"],"__3__wholeNumberTermTwoGroupedExp":["openParenthesis","wholeNumberExp","wholeNumberGroupedOp"],"__4__wholeNumberTermTwoGroupedExp":["openParenthesis","wholeNumberExp","wholeNumberGroupedOp","wholeNumberTerm"],"__2__wholeNumberTermProduct":["wholeNumberTerm","wholeNumberTimesDividedByOp"]},"wholeNumberAtomic":{"wholeNumberLiteral":"token_","identifierGet":["identifier"],"wholeNumberStringFunc":["stringExpWholeNumber"]},"wholeNumberGroupedOp":{"wholeNumberSumTwo":["wholeNumberAddMinusOp"],"wholeNumberProductTwo":["wholeNumberTimesDividedByOp"]},"wholeNumberAddMinusOp":{"wholeNumberPlus":"+","wholeNumberMinus":"-"},"wholeNumberTimesDividedByOp":{"wholeNumberTimes":"*","wholeNumberDividedBy":"/"},"expression":{"expressionText":["stringExp"],"expressionNumber":["wholeNumberExp"]},"statement":{"statementSingle":["expression"],"statementVariable":["variableStatement"],"statementPrint":["stringDisplay"],"statementSemicolon":["statement","semicolon"],"statementBlockExp":["expression","statementSeparator","statement"],"statementBlockVariable":["variableStatement","statementSeparator","statement"],"statementBlockPrint":["stringDisplay","statementSeparator","statement"]},"statementSeparator":{"semicolonEnd":["semicolon"],"newLineEnd":["newLine"],"carriageReturnEnd":["carriageReturn"],"semicolonMultiSeparator":["semicolon","statementSeparator"],"newLineMultiSeparator":["newLine","statementSeparator"],"carriageReturnMultiSeparator":["carriageReturn","statementSeparator"]},"semicolon":"token_","newLine":"\\n","carriageReturn":"\\r","stringExp":{"identifierGet":["identifier"],"stringGetInputExp":["stringGetInput","openParenthesis","stringExp","closeParenthesis"],"js_stringGetInputExp":["stringPrompt","openParenthesis","stringExp","closeParenthesis"],"stringGroupedExp":["openParenthesis","stringExp","closeParenthesis"],"stringConcatenationFullExpression":["stringExp","plusStr","stringExp"],"stringCharAtFullExpression":["stringExp","dot","getCharacterNumber","openParenthesis","wholeNumberExp","closeParenthesis"],"py_stringCharAtFullExpression":["stringExp","openBracket","wholeNumberExp","closeBracket"],"js_stringCharAtFullExpression":["stringExp","dot","getCharacterNumberJS","openParenthesis","wholeNumberExp","closeParenthesis"],"stringAfterTextFullExpression":["stringExp","dot","getAfterText","openParenthesis","stringExp","closeParenthesis"],"stringBeforeTextFullExpression":["stringExp","dot","getBeforeText","openParenthesis","stringExp","closeParenthesis"],"stringSubstringFullExpression":["stringExp","dot","getTextFrom","openParenthesis","wholeNumberExp","closeParenthesis","dot","getTextTo","openParenthesis","wholeNumberExp","stringSubstringCloseParenthesisOptionalTail"],"py_stringSubstringFullExpression":["stringExp","openBracket","wholeNumberExp","colon","wholeNumberExp","closeBracket"],"js_stringSubstringFullExpression":["stringExp","dot","getSubstringJS","openParenthesis","wholeNumberExp","comma","wholeNumberExp","closeParenthesis"],"stringLiteral":"token_","__2__stringGetInputExp":["stringGetInput","openParenthesis"],"__3__stringGetInputExp":["stringGetInput","openParenthesis","stringExp"],"__2__js_stringGetInputExp":["stringPrompt","openParenthesis"],"__3__js_stringGetInputExp":["stringPrompt","openParenthesis","stringExp"],"__2__stringGroupedExp":["openParenthesis","stringExp"],"__2__stringConcatenationFullExpression":["stringExp","plusStr"],"__2__stringCharAtFullExpression":["stringExp","dot"],"__3__stringCharAtFullExpression":["stringExp","dot","getCharacterNumber"],"__4__stringCharAtFullExpression":["stringExp","dot","getCharacterNumber","openParenthesis"],"__5__stringCharAtFullExpression":["stringExp","dot","getCharacterNumber","openParenthesis","wholeNumberExp"],"__2__py_stringCharAtFullExpression":["stringExp","openBracket"],"__3__py_stringCharAtFullExpression":["stringExp","openBracket","wholeNumberExp"],"__2__js_stringCharAtFullExpression":["stringExp","dot"],"__3__js_stringCharAtFullExpression":["stringExp","dot","getCharacterNumberJS"],"__4__js_stringCharAtFullExpression":["stringExp","dot","getCharacterNumberJS","openParenthesis"],"__5__js_stringCharAtFullExpression":["stringExp","dot","getCharacterNumberJS","openParenthesis","wholeNumberExp"],"__2__stringAfterTextFullExpression":["stringExp","dot"],"__3__stringAfterTextFullExpression":["stringExp","dot","getAfterText"],"__4__stringAfterTextFullExpression":["stringExp","dot","getAfterText","openParenthesis"],"__5__stringAfterTextFullExpression":["stringExp","dot","getAfterText","openParenthesis","stringExp"],"__2__stringBeforeTextFullExpression":["stringExp","dot"],"__3__stringBeforeTextFullExpression":["stringExp","dot","getBeforeText"],"__4__stringBeforeTextFullExpression":["stringExp","dot","getBeforeText","openParenthesis"],"__5__stringBeforeTextFullExpression":["stringExp","dot","getBeforeText","openParenthesis","stringExp"],"__2__stringSubstringFullExpression":["stringExp","dot"],"__3__stringSubstringFullExpression":["stringExp","dot","getTextFrom"],"__4__stringSubstringFullExpression":["stringExp","dot","getTextFrom","openParenthesis"],"__5__stringSubstringFullExpression":["stringExp","dot","getTextFrom","openParenthesis","wholeNumberExp"],"__6__stringSubstringFullExpression":["stringExp","dot","getTextFrom","openParenthesis","wholeNumberExp","closeParenthesis"],"__7__stringSubstringFullExpression":["stringExp","dot","getTextFrom","openParenthesis","wholeNumberExp","closeParenthesis","dot"],"__8__stringSubstringFullExpression":["stringExp","dot","getTextFrom","openParenthesis","wholeNumberExp","closeParenthesis","dot","getTextTo"],"__9__stringSubstringFullExpression":["stringExp","dot","getTextFrom","openParenthesis","wholeNumberExp","closeParenthesis","dot","getTextTo","openParenthesis"],"__10__stringSubstringFullExpression":["stringExp","dot","getTextFrom","openParenthesis","wholeNumberExp","closeParenthesis","dot","getTextTo","openParenthesis","wholeNumberExp"],"__2__py_stringSubstringFullExpression":["stringExp","openBracket"],"__3__py_stringSubstringFullExpression":["stringExp","openBracket","wholeNumberExp"],"__4__py_stringSubstringFullExpression":["stringExp","openBracket","wholeNumberExp","colon"],"__5__py_stringSubstringFullExpression":["stringExp","openBracket","wholeNumberExp","colon","wholeNumberExp"],"__2__js_stringSubstringFullExpression":["stringExp","dot"],"__3__js_stringSubstringFullExpression":["stringExp","dot","getSubstringJS"],"__4__js_stringSubstringFullExpression":["stringExp","dot","getSubstringJS","openParenthesis"],"__5__js_stringSubstringFullExpression":["stringExp","dot","getSubstringJS","openParenthesis","wholeNumberExp"],"__6__js_stringSubstringFullExpression":["stringExp","dot","getSubstringJS","openParenthesis","wholeNumberExp","comma"],"__7__js_stringSubstringFullExpression":["stringExp","dot","getSubstringJS","openParenthesis","wholeNumberExp","comma","wholeNumberExp"]},"stringExpWholeNumber":{"stringFindFirstFullExpression":["stringExp","dot","findFirstOccurrenceOfText","openParenthesis","stringExp","stringFindFirstCloseParenthesisOptionalTail"],"js_stringFindFirstFullExpression":["stringExp","dot","jsIndexOf","openParenthesis","stringExp","closeParenthesis"],"stringExpLength":["stringExp","dot","length"],"py_stringExpLength":["len","openParenthesis","stringExp","closeParenthesis"],"__2__stringFindFirstFullExpression":["stringExp","dot"],"__3__stringFindFirstFullExpression":["stringExp","dot","findFirstOccurrenceOfText"],"__4__stringFindFirstFullExpression":["stringExp","dot","findFirstOccurrenceOfText","openParenthesis"],"__5__stringFindFirstFullExpression":["stringExp","dot","findFirstOccurrenceOfText","openParenthesis","stringExp"],"__2__js_stringFindFirstFullExpression":["stringExp","dot"],"__3__js_stringFindFirstFullExpression":["stringExp","dot","jsIndexOf"],"__4__js_stringFindFirstFullExpression":["stringExp","dot","jsIndexOf","openParenthesis"],"__5__js_stringFindFirstFullExpression":["stringExp","dot","jsIndexOf","openParenthesis","stringExp"],"__2__stringExpLength":["stringExp","dot"],"__2__py_stringExpLength":["len","openParenthesis"],"__3__py_stringExpLength":["len","openParenthesis","stringExp"]},"stringDisplay":{"js_ConsoleLogStatement":["console","dot","log","openParenthesis","expression","closeParenthesis"],"displayStatement":["display","openParenthesis","expression","closeParenthesis"],"__2__js_ConsoleLogStatement":["console","dot"],"__3__js_ConsoleLogStatement":["console","dot","log"],"__4__js_ConsoleLogStatement":["console","dot","log","openParenthesis"],"__5__js_ConsoleLogStatement":["console","dot","log","openParenthesis","expression"],"__2__displayStatement":["display","openParenthesis"],"__3__displayStatement":["display","openParenthesis","expression"]},"stringSubstringCloseParenthesisOptionalTail":{"stringSubstringCloseParenthesisNoTail":["closeParenthesis"],"stringSubstringCloseParenthesisTail":["closeParenthesis","dot","substringTail"],"__2__stringSubstringCloseParenthesisTail":["closeParenthesis","dot"]},"stringFindFirstCloseParenthesisOptionalTail":{"stringFindFirstCloseParenthesisNoTail":["closeParenthesis"],"stringFindFirstCloseParenthesisTail":["closeParenthesis","dot","findFirstTail"],"__2__stringFindFirstCloseParenthesisTail":["closeParenthesis","dot"]},"dot":"token_","console":"console","log":"log","display":"display","openParenthesis":"token_","closeParenthesis":"token_","openBracket":"token_","closeBracket":"token_","comma":"token_","stringGetInput":"getInputByAsking","stringPrompt":"prompt","length":"length","len":"len","getTextFrom":"getTextFromPositionNUMBER","getTextTo":"toPositionNUMBER","getSubstringJS":"substring","jsIndexOf":"indexOf","findFirstOccurrenceOfText":"positionNumberOfTEXT","findLastOccurrenceOfText":"lastPositionNumberOfTEXT","getAfterText":"getAfterTEXT","getBeforeText":"getBeforeTEXT","plusStr":"+","getCharacterNumber":"getCharacterNUMBER","getCharacterNumberJS":"charAt","toNumber":"toNumber","substringTail":"tak_paen","findFirstTail":"ke_sthiti_sankhya","variableStatement":{"variableAssignment":["variablesLet","identifier","equalsSign","expression"],"variableAssignmentNoLet":["identifier","equalsSign","expression"],"__2__variableAssignment":["variablesLet","identifier"],"__3__variableAssignment":["variablesLet","identifier","equalsSign"],"__2__variableAssignmentNoLet":["identifier","equalsSign"]},"variablesLet":"let","equalsSign":"=","identifier":"token_"},"terminals":["wholeNumberPlus","wholeNumberMinus","wholeNumberTimes","wholeNumberDividedBy","semicolon","newLine","carriageReturn","findFirstOccurrenceOfText","jsIndexOf","findLastOccurrenceOfText","getAfterText","getBeforeText","plusStr","getCharacterNumber","getCharacterNumberJS","toNumber","getTextFrom","getSubstringJS","getTextTo","stringGetInput","stringPrompt","console","log","display","length","substringTail","findFirstTail","variablesLet","equalsSign"]}'),r=JSON.parse('{"stringLiteral":{"pattern":"\\"([^\\"]*)\\"|\'([^\']*)\'","order":1},"identifier":{"pattern":"([_\\\\$A-Za-z|ऄ-ह|ऽ|ॐ|क़-ॡ|ॱ-ॿ][\\\\w\\\\$|ऀ-ॣ|०-९|ॱ-ॿ]*)","order":2},"positiveDecimal":{"pattern":"(\\\\d+\\\\.[1-9]\\\\d+)","order":3},"wholeNumberLiteral":{"pattern":"\\\\d+|\\\\d*\\\\.[0]+","order":6},"dot":{"pattern":"(\\\\.)","order":7},"openParenthesis":{"pattern":"(\\\\()","order":8},"closeParenthesis":{"pattern":"(\\\\))","order":9},"openBracket":{"pattern":"(\\\\[)","order":10},"closeBracket":{"pattern":"(\\\\])","order":11},"comma":{"pattern":"(\\\\,)","order":12},"semicolon":{"pattern":"(\\\\;)","order":13},"colon":{"pattern":"(:)","order":14},"negativeDecimalMOVEDFROMFOURFORNOW":{"pattern":"(-\\\\d+\\\\.[1-9]\\\\d+)","order":15},"negativeIntegerMOVEDFROMFIVEFORNOW":{"pattern":"-[1-9]\\\\d*|-[1-9]\\\\d*\\\\.[0]+","order":16}}')},function(e,t,n){n.d(t,"a",(function(){return o}));var o=JSON.parse('{"wholeNumberLiteral":{"type":"math_number","fields":{"NUM":"%1"}},"wholeNumberSum":{"type":"math_arithmetic_basic","fields":{"OP":"%2"},"inputs":{"A":"%1","B":"%3"}},"wholeNumberTermTwoGroupedExp":{"type":"math_arithmetic_basic","fields":{"OP":"%3"},"inputs":{"A":"%2","B":"%4"}},"wholeNumberTermProduct":{"type":"math_arithmetic_basic","fields":{"OP":"%2"},"inputs":{"A":"%1","B":"%3"}},"wholeNumberPlus":"ADD","wholeNumberMinus":"MINUS","wholeNumberTimes":"MULTIPLY","wholeNumberDividedBy":"DIVIDE","wholeNumberTermSingleGroupedExp":"%2","statementBlockExp":{"blocks":["%1","%3"]},"statementBlockVariable":{"blocks":["%1","%3"]},"statementBlockPrint":{"blocks":["%1","%3"]},"stringLiteral":{"type":"text","fields":{"TEXT":"%1"}},"stringGetInputExp":{"type":"text_input","inputs":{"TEXT":"%3"}},"js_stringGetInputExp":{"type":"js_text_input","inputs":{"TEXT":"%3"}},"displayStatement":{"type":"text_print","inputs":{"TEXT":"%3"}},"js_ConsoleLogStatement":{"type":"js_text_print","inputs":{"TEXT":"%5"}},"stringExpLength":{"type":"t2c_text_length","inputs":{"VALUE":"%1"}},"py_stringExpLength":{"type":"t2c_text_length","inputs":{"VALUE":"%3"}},"stringFindFirstFullExpression":{"type":"t2c_text_indexof","inputs":{"VALUE":"%1","FIND":"%5"}},"js_stringFindFirstFullExpression":{"type":"js_text_indexof","inputs":{"VALUE":"%1","FIND":"%5"}},"stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":"%5","AT2":"%10"}},"stringCharAtFullExpression":{"type":"%3","inputs":{"VALUE":"%1","AT":"%5"}},"py_stringCharAtFullExpression":{"type":"t2c_text_charat","inputs":{"VALUE":"%1","AT":"%3"}},"js_stringCharAtFullExpression":{"type":"js_text_charat","inputs":{"VALUE":"%1","AT":"%5"}},"py_stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":"%3","AT2":"%5"}},"js_stringSubstringFullExpression":{"type":"js_text_getsubstring","inputs":{"STRING":"%1","AT1":"%5","AT2":"%7"}},"stringAfterTextFullExpression":{"type":"t2c_text_after","inputs":{"TEXT":"%1","SUB":"%5"}},"stringBeforeTextFullExpression":{"type":"t2c_text_before","inputs":{"TEXT":"%1","SUB":"%5"}},"stringConcatenationFullExpression":{"type":"t2c_text_join","inputs":{"A":"%1","B":"%3"}},"stringGroupedExp":"%2","plusStr":"t2c_text_join","findFirstOccurrenceOfText":"t2c_text_indexof","getCharacterNumber":"t2c_text_charat","getCharacterNumberJS":"js_text_charat","getSubstringJS":"js_text_getsubstring","jsIndexOf":"js_text_indexof","getTextFrom":"t2c_text_getsubstring","getAfterText":"t2c_text_after","getBeforeText":"t2c_text_before","identifierGet":{"type":"variables_get","fields":{"VAR":"%1"}},"variableAssignment":{"type":"variables_set","fields":{"VAR":"%2"},"inputs":{"VALUE":"%4"}},"variableAssignmentNoLet":{"type":"variables_set","fields":{"VAR":"%1"},"inputs":{"VALUE":"%3"}},"__2__wholeNumberSum":{"type":"math_arithmetic_basic","fields":{"OP":"%2"},"inputs":{"A":"%1","B":{"type":"code_expression"}}},"__2__wholeNumberTermSingleGroupedExp":"%2","__2__wholeNumberTermTwoGroupedExp":{"type":"math_arithmetic_basic","fields":{"OP":{"type":"code_expression"}},"inputs":{"A":"%2","B":{"type":"code_expression"}}},"__3__wholeNumberTermTwoGroupedExp":{"type":"math_arithmetic_basic","fields":{"OP":"%3"},"inputs":{"A":"%2","B":{"type":"code_expression"}}},"__4__wholeNumberTermTwoGroupedExp":{"type":"math_arithmetic_basic","fields":{"OP":"%3"},"inputs":{"A":"%2","B":"%4"}},"__2__wholeNumberTermProduct":{"type":"math_arithmetic_basic","fields":{"OP":"%2"},"inputs":{"A":"%1","B":{"type":"code_expression"}}},"__2__stringGetInputExp":{"type":"text_input","inputs":{"TEXT":{"type":"code_expression"}}},"__3__stringGetInputExp":{"type":"text_input","inputs":{"TEXT":"%3"}},"__2__js_stringGetInputExp":{"type":"js_text_input","inputs":{"TEXT":{"type":"code_expression"}}},"__3__js_stringGetInputExp":{"type":"js_text_input","inputs":{"TEXT":"%3"}},"__2__stringGroupedExp":"%2","__2__stringConcatenationFullExpression":{"type":"t2c_text_join","inputs":{"A":"%1","B":{"type":"code_expression"}}},"__2__stringCharAtFullExpression":{"type":{"type":"code_expression"},"inputs":{"VALUE":"%1","AT":{"type":"code_expression"}}},"__3__stringCharAtFullExpression":{"type":"%3","inputs":{"VALUE":"%1","AT":{"type":"code_expression"}}},"__4__stringCharAtFullExpression":{"type":"%3","inputs":{"VALUE":"%1","AT":{"type":"code_expression"}}},"__5__stringCharAtFullExpression":{"type":"%3","inputs":{"VALUE":"%1","AT":"%5"}},"__2__py_stringCharAtFullExpression":{"type":"t2c_text_charat","inputs":{"VALUE":"%1","AT":{"type":"code_expression"}}},"__3__py_stringCharAtFullExpression":{"type":"t2c_text_charat","inputs":{"VALUE":"%1","AT":"%3"}},"__2__js_stringCharAtFullExpression":{"type":"js_text_charat","inputs":{"VALUE":"%1","AT":{"type":"code_expression"}}},"__3__js_stringCharAtFullExpression":{"type":"js_text_charat","inputs":{"VALUE":"%1","AT":{"type":"code_expression"}}},"__4__js_stringCharAtFullExpression":{"type":"js_text_charat","inputs":{"VALUE":"%1","AT":{"type":"code_expression"}}},"__5__js_stringCharAtFullExpression":{"type":"js_text_charat","inputs":{"VALUE":"%1","AT":"%5"}},"__2__stringAfterTextFullExpression":{"type":"t2c_text_after","inputs":{"TEXT":"%1","SUB":{"type":"code_expression"}}},"__3__stringAfterTextFullExpression":{"type":"t2c_text_after","inputs":{"TEXT":"%1","SUB":{"type":"code_expression"}}},"__4__stringAfterTextFullExpression":{"type":"t2c_text_after","inputs":{"TEXT":"%1","SUB":{"type":"code_expression"}}},"__5__stringAfterTextFullExpression":{"type":"t2c_text_after","inputs":{"TEXT":"%1","SUB":"%5"}},"__2__stringBeforeTextFullExpression":{"type":"t2c_text_before","inputs":{"TEXT":"%1","SUB":{"type":"code_expression"}}},"__3__stringBeforeTextFullExpression":{"type":"t2c_text_before","inputs":{"TEXT":"%1","SUB":{"type":"code_expression"}}},"__4__stringBeforeTextFullExpression":{"type":"t2c_text_before","inputs":{"TEXT":"%1","SUB":{"type":"code_expression"}}},"__5__stringBeforeTextFullExpression":{"type":"t2c_text_before","inputs":{"TEXT":"%1","SUB":"%5"}},"__2__stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":{"type":"code_expression"},"AT2":{"type":"code_expression"}}},"__3__stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":{"type":"code_expression"},"AT2":{"type":"code_expression"}}},"__4__stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":{"type":"code_expression"},"AT2":{"type":"code_expression"}}},"__5__stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":"%5","AT2":{"type":"code_expression"}}},"__6__stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":"%5","AT2":{"type":"code_expression"}}},"__7__stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":"%5","AT2":{"type":"code_expression"}}},"__8__stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":"%5","AT2":{"type":"code_expression"}}},"__9__stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":"%5","AT2":{"type":"code_expression"}}},"__10__stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":"%5","AT2":"%10"}},"__2__py_stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":{"type":"code_expression"},"AT2":{"type":"code_expression"}}},"__3__py_stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":"%3","AT2":{"type":"code_expression"}}},"__4__py_stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":"%3","AT2":{"type":"code_expression"}}},"__5__py_stringSubstringFullExpression":{"type":"t2c_text_getsubstring","inputs":{"STRING":"%1","AT1":"%3","AT2":"%5"}},"__2__js_stringSubstringFullExpression":{"type":"js_text_getsubstring","inputs":{"STRING":"%1","AT1":{"type":"code_expression"},"AT2":{"type":"code_expression"}}},"__3__js_stringSubstringFullExpression":{"type":"js_text_getsubstring","inputs":{"STRING":"%1","AT1":{"type":"code_expression"},"AT2":{"type":"code_expression"}}},"__4__js_stringSubstringFullExpression":{"type":"js_text_getsubstring","inputs":{"STRING":"%1","AT1":{"type":"code_expression"},"AT2":{"type":"code_expression"}}},"__5__js_stringSubstringFullExpression":{"type":"js_text_getsubstring","inputs":{"STRING":"%1","AT1":"%5","AT2":{"type":"code_expression"}}},"__6__js_stringSubstringFullExpression":{"type":"js_text_getsubstring","inputs":{"STRING":"%1","AT1":"%5","AT2":{"type":"code_expression"}}},"__7__js_stringSubstringFullExpression":{"type":"js_text_getsubstring","inputs":{"STRING":"%1","AT1":"%5","AT2":"%7"}},"__2__stringFindFirstFullExpression":{"type":"t2c_text_indexof","inputs":{"VALUE":"%1","FIND":{"type":"code_expression"}}},"__3__stringFindFirstFullExpression":{"type":"t2c_text_indexof","inputs":{"VALUE":"%1","FIND":{"type":"code_expression"}}},"__4__stringFindFirstFullExpression":{"type":"t2c_text_indexof","inputs":{"VALUE":"%1","FIND":{"type":"code_expression"}}},"__5__stringFindFirstFullExpression":{"type":"t2c_text_indexof","inputs":{"VALUE":"%1","FIND":"%5"}},"__2__js_stringFindFirstFullExpression":{"type":"js_text_indexof","inputs":{"VALUE":"%1","FIND":{"type":"code_expression"}}},"__3__js_stringFindFirstFullExpression":{"type":"js_text_indexof","inputs":{"VALUE":"%1","FIND":{"type":"code_expression"}}},"__4__js_stringFindFirstFullExpression":{"type":"js_text_indexof","inputs":{"VALUE":"%1","FIND":{"type":"code_expression"}}},"__5__js_stringFindFirstFullExpression":{"type":"js_text_indexof","inputs":{"VALUE":"%1","FIND":"%5"}},"__2__stringExpLength":{"type":"t2c_text_length","inputs":{"VALUE":"%1"}},"__2__py_stringExpLength":{"type":"t2c_text_length","inputs":{"VALUE":{"type":"code_expression"}}},"__3__py_stringExpLength":{"type":"t2c_text_length","inputs":{"VALUE":"%3"}},"__2__js_ConsoleLogStatement":{"type":"js_text_print","inputs":{"TEXT":{"type":"code_expression"}}},"__3__js_ConsoleLogStatement":{"type":"js_text_print","inputs":{"TEXT":{"type":"code_expression"}}},"__4__js_ConsoleLogStatement":{"type":"js_text_print","inputs":{"TEXT":{"type":"code_expression"}}},"__5__js_ConsoleLogStatement":{"type":"js_text_print","inputs":{"TEXT":"%5"}},"__2__displayStatement":{"type":"text_print","inputs":{"TEXT":{"type":"code_expression"}}},"__3__displayStatement":{"type":"text_print","inputs":{"TEXT":"%3"}},"__2__variableAssignment":{"type":"variables_set","fields":{"VAR":"%2"},"inputs":{"VALUE":{"type":"code_expression"}}},"__3__variableAssignment":{"type":"variables_set","fields":{"VAR":"%2"},"inputs":{"VALUE":{"type":"code_expression"}}},"__2__variableAssignmentNoLet":{"type":"variables_set","fields":{"VAR":"%1"},"inputs":{"VALUE":{"type":"code_expression"}}}}')},function(e,t,n){n(3);var o=n(0);t.a=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t.workspace,i=function e(t,n){var r;if(t&&t.type)return r=Object(o.e)(n,t.type),t.inputs&&Object.keys(t.inputs).forEach((function(i){Object(o.j)(r,i,e(t.inputs[i],n))})),t&&t.fields&&Object.keys(t.fields).forEach((function(e){Object(o.h)(r,t.fields[e],e)})),r;if(t&&Array.isArray(t.blocks)){for(var i=t.blocks.map((function(t){return e(t,n)})),s=0;s<i.length-1;s++)i[s].getNextBlock()||i[s+1].getPreviousBlock()||Object(o.i)(i[s],i[s+1]);return i[0]}}(e,r);return Object(o.g)(t,i,!0),n&&Object(o.f)(r),i}},function(e,t,n){t.a=function(){function e(t){_classCallCheck(this,e),this.tokens_=t,this.tokensRegExp_=Object.keys(t).map((function(e){return{key:e,value:RegExp(t[e].pattern),order:t[e].order}})),this.tokensRegExp_.sort((function(e,t){return e.order-t.order}))}return _createClass(e,[{key:"isToken",value:function(e){return!1}},{key:"isTokenType",value:function(e){return-1!==Object.keys(this.tokens_).indexOf(e)}},{key:"tokenize",value:function(e){var t=this;return function e(n){if(""===n.trim())return[];for(var o=void 0,r=0;r<t.tokensRegExp_.length&&!(o=t.tokensRegExp_[r].value.exec(n));)r++;if(o){var i=o instanceof Array?o.slice(1).find((function(e){return null!=e})):null,s=null!=i?i:n.substring(o.index,o.index+o[0].length);return e(n.substring(0,o.index)).concat([{tokenType:t.tokensRegExp_[r].key,value:s}]).concat(e(n.substring(o.index+o[0].length)))}return n.trim().split("").filter((function(e){return-1===e.search(/\s/)})).map((function(e){return Object({tokenType:"none",value:e})}))}(e)}}]),e}()},function(e,t,n){var o=n(1),r=n(2);t.a=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"convertToBlockParseTrees",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.rhsides.map((function(i){return"string"==typeof i?[new o.a(e.lhs,i)]:Object(r.a)(i.map((function(e){return t.convertToBlockParseTrees(e,n)}))).map((function(t){return new o.a(e.lhs,t)}))})).reduce((function(e,t){return e.concat(t)}),[]).slice(0,n)}}]),e}()},function(e,t,n){var o=n(1),r=n(3);t.a=function(){function e(t){_classCallCheck(this,e),this.interpretations_=t}return _createClass(e,[{key:"evaluate",value:function(e){if(null===e||e instanceof o.a){if(e){var t="string"==typeof e.rhs?[e.rhs.replace(/\"/g,"'")]:e.rhs.map(this.evaluate.bind(this)),n=this.interpretations_[e.lhs];if("string"==typeof n)return n;if(n){var i=new r.a(JSON.stringify(n));return i.args=t,i}return t[0]}return""}throw console.assert(null!==e&&!(e instanceof o.a),{msg:"Non-null is invalid root type",expectedType:o.a,actual:e}),new Error("Invalid root type")}}]),e}()},function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var o=n(0);function r(e){var t=e.workspace;"js_text_print"===e.type||"js_text_input"===e.type?Object(o.g)(e,Object(o.e)(t,e.type.substring(3)),!0):"js_text_indexof"===e.type||"js_text_charat"===e.type||"js_text_getsubstring"===e.type?Object(o.g)(e,Object(o.e)(t,e.type.replace("js","t2c")),!0):"text_length"===e.type&&Object(o.g)(e,Object(o.e)(t,"t2c_"+e.type),!0)}function i(e){var t=e.workspace;if("text_print"===e.type)Object(o.g)(e,Object(o.e)(t,"js_text_print"),!0);else if("text_input"===e.type)Object(o.g)(e,Object(o.e)(t,"js_text_input"),!0);else if("t2c_text_indexof"===e.type)Object(o.g)(e,Object(o.e)(t,"js_text_indexof"),!0);else if("t2c_text_charat"===e.type)Object(o.g)(e,Object(o.e)(t,"js_text_charat"),!0);else if("t2c_text_length"===e.type)Object(o.g)(e,Object(o.e)(t,"text_length"),!0);else if("t2c_text_getsubstring"===e.type)Object(o.g)(e,Object(o.e)(t,"js_text_getsubstring"),!0);else if("t2c_text_before"===e.type){var n=e.getInputTargetBlock("SUB"),r=e.getInputTargetBlock("TEXT"),i=null,s=Object(o.e)(t,"js_text_getsubstring"),a=Object(o.e)(t,"math_number"),l=Object(o.e)(t,"js_text_indexof");if(Object(o.h)(a,0,"NUM"),r)if("text"===r.type)i=Object(o.e)(t,r.type),Object(o.h)(i,r.getFieldValue("TEXT"),"TEXT"),l.getInput("VALUE").connection.connect(i.outputConnection),s.getInput("STRING").connection.connect(r.outputConnection);else if("variables_get"===r.type)i=Object(o.e)(t,r.type),Object(o.h)(i,r.getFieldValue("VAR"),"VAR"),l.getInput("VALUE").connection.connect(i.outputConnection),s.getInput("STRING").connection.connect(r.outputConnection);else{var u=createNewTempVariable(t),c=Object(o.e)(t,"variables_set");Object(o.h)(c,u,"VAR"),Object(o.j)(c,"VALUE",r);var _=Object(o.e)(t,"variables_get");Object(o.h)(_,u,"VAR");var p=copyBlock(_);if(Object(o.j)(l,"VALUE",p),Object(o.j)(s,"STRING",_),m=Object(o.c)(e)){var g=m.previousConnection.targetBlock();g&&c.previousConnection.connect(g.nextConnection),m.previousConnection.connect(c.nextConnection)}}n&&Object(o.j)(l,"FIND",n),Object(o.j)(s,"AT1",a),Object(o.j)(s,"AT2",l),e.outputConnection.targetConnection?e.outputConnection.targetConnection.connect(s.outputConnection):Object(o.d)(e,s),e.dispose()}else if("t2c_text_after"===e.type){e.getParent(),s=Object(o.e)(t,"js_text_getsubstring"),r=e.getInputTargetBlock("TEXT"),n=e.getInputTargetBlock("SUB"),l=Object(o.e)(t,"js_text_indexof");var d=Object(o.e)(t,"text_length"),f=Object(o.e)(t,"text_length"),h=Object(o.e)(t,"math_arithmetic_basic");if(Object(o.h)(h,"ADD","OP"),r){if("text"!==r.type&&"variables_get"!==r.type){var m,y=Object(o.e)(t,"variables_set");if(u=createNewTempVariable(t),Object(o.h)(y,u,"VAR"),Object(o.j)(y,"VALUE",r),m=Object(o.c)(e)){var x=m.previousConnection.targetBlock();x&&y.previousConnection.connect(x.nextConnection),m.previousConnection.connect(y.nextConnection)}r=Object(o.e)(t,"variables_get"),Object(o.h)(r,u,"VAR"),Object(o.j)(s,"STRING",r)}else Object(o.j)(s,"STRING",r);Object(o.j)(l,"VALUE",copyBlock(r)),Object(o.j)(d,"VALUE",copyBlock(r))}if(n){if("text"!==n.type&&"variables_get"!==n.type){var E=Object(o.e)(t,"variables_set"),T=createNewTempVariable(t);Object(o.h)(E,T,"VAR"),Object(o.j)(E,"VALUE",n);var b=Object(o.c)(e);if(b){var B=b.previousConnection.targetBlock();B&&E.previousConnection.connect(B.nextConnection),b.previousConnection.connect(E.nextConnection)}n=Object(o.e)(t,"variables_get"),Object(o.h)(n,T,"VAR")}if("variables_get"===n.type)Object(o.j)(h,"B",f),Object(o.j)(f,"VALUE",copyBlock(n));else{var k=Object(o.e)(t,"math_number");Object(o.h)(k,n.getFieldValue("TEXT").length,"NUM"),Object(o.j)(h,"B",k),f.dispose()}Object(o.j)(l,"FIND",n)}else Object(o.j)(h,"B",f);Object(o.j)(h,"A",l),Object(o.j)(s,"AT1",h),Object(o.j)(s,"AT2",d),e.outputConnection.targetConnection?e.outputConnection.targetConnection.connect(s.outputConnection):Object(o.d)(e,s),e.dispose()}}},function(e,t,n){var o=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];_classCallCheck(this,e),this.lhs_=t,this.rhsides_=n}return _createClass(e,[{key:"merge",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;console.assert(this.lhs_===e.lhs_,{msg:"This lhs of "+this.lhs_+" does not match node's lhs of "+e.lhs_}),this.rhsides_.length<n&&(t=this.rhsides_).push.apply(t,_toConsumableArray(e.rhsides_))}},{key:"lhs",get:function(){return this.lhs_}},{key:"rhsides",get:function(){return this.rhsides_}}],[{key:"concatToEach",value:function(t,n,o){return new e(t,n.rhsides_.map((function(e){return e.concat(o)})))}}]),e}(),r=function(){function e(t,n){_classCallCheck(this,e),this.root_=new o(t,[Array.isArray(n)?n.map((function(e){return e.root_})):n])}return _createClass(e,[{key:"rhsConcat",value:function(t,n){var r=new e(t,[]);return r.root_=o.concatToEach(t,this.root_,n.root_),r}},{key:"parseTrees",value:function(e){return e.convertToBlockParseTrees(this.root_)}},{key:"rootLHS",get:function(){return this.root_.lhs}}],[{key:"mergeForests",value:function(e){var t=e.slice();t.sort((function(e,t){return e.root_.lhs===t.root_.lhs?0:e.root_.lhs<t.root_.lhs?-1:1}));for(var n=[],o=0;o<t.length;o++)0===o||n[n.length-1].root_.lhs!==t[o].root_.lhs?n.push(t[o]):n[n.length-1].root_.merge(t[o].root_);return n}}]),e}(),i=n(2);t.a=function(){function e(t,n,o){_classCallCheck(this,e),this.lexer_=t,this.createRuleSetFromGrammar_(n),o=o||[],console.warn("NEW RULE SET:",this.ruleSets_),this.terminals_=n.terminals,this.maxDepth_=0}return _createClass(e,[{key:"addRule_",value:function(e,t,n){if((n=n||this.ruleSets_)[e]){var o=Array.from(n[e]).filter((function(e){return Array.isArray(e)})).map((function(e){return JSON.stringify(e)}));Array.isArray(t)&&-1!==o.indexOf(JSON.stringify(t))||n[e].add(t)}else n[e]=new Set([t])}},{key:"flattenNonessentialUnitRules_",value:function(e){var t=this,n=Object.keys(this.ruleSets_),o=n.filter((function(t){return-1===e.indexOf(t)}));console.warn("Required symbols",e),console.warn("Nonessential",o),o.forEach((function(e,r){console.warn("Current: ",e,r,"out of",o.length,"processed");var s=Array.from(t.ruleSets_[e]).filter((function(e){return Array.isArray(e)&&1===e.length})),a=s.map((function(e){return"string"==typeof e?e:e[0]}));n.forEach((function(n){var o=[],r=[];Array.from(t.ruleSets_[n]).filter((function(e){return Array.isArray(e)})).forEach((function(t){var n=[],s=!1;t.forEach((function(t,o){t!==e?0===o?n.push([t]):n.forEach((function(e){return e.push(t)})):(s=!0,n=0===o?a.map((function(e){return[e]})):Object(i.b)(n,a).map((function(e){return e[0].concat(e[1])})))})),s&&r.push(t),o.push.apply(o,_toConsumableArray(n))})),o.forEach((function(e){return t.addRule_(n,e)})),s.length===t.ruleSets_[e].size&&r.forEach((function(e){if(!t.ruleSets_[n].delete(e))throw new Error(e)}))})),s.forEach((function(n){if(!t.ruleSets_[e].delete(n))throw new Error("No delete")}))}))}},{key:"getTranslations_",value:function(e){return Object.keys(T2C.MSG).map((function(t){return T2C.MSG[t][Object.keys(T2C.MSG[t]).find((function(t){return t==="TERMINAL_"+e.toUpperCase()}))]})).filter((function(e){return void 0!==e}))}},{key:"createRuleSetFromGrammar_",value:function(e){var t=this;this.ruleSets_={},Object.keys(e.rules).forEach((function(n){var o=[n],r=e.rules[n];"string"==typeof r||r instanceof Array?("string"==typeof r&&o.push(r),t.addRule_(n,r)):Object.keys(r).forEach((function(e){t.addRule_(n,[e]),t.addRule_(e,r[e]),o.push(e),"string"==typeof r[e]&&o.push(r[e])})),o.forEach((function(e){return t.getTranslations_(e).forEach((function(e){return t.addRule_(n,e)}))}))}))}},{key:"maxPathLengthToTerminalOrSplit_",value:function(e){var t,n=this,o=(e?[e]:Object.keys(this.ruleSets_)).map((function(e){return n.ruleSets_[e]?Array.from(n.ruleSets_[e]).filter((function(e){return Array.isArray(e)&&1===e.length&&n.ruleSets_[e[0]]})).map((function(t){return[e].concat(n.maxPathLengthToTerminalOrSplit_(t[0]))})):[e]})),r=e?o[0]:(t=[]).concat.apply(t,_toConsumableArray(o));return 0===r.length?[e]:r.reduce((function(e,t){return e.length>t.length?e:t}))}},{key:"getOppositeRules_",value:function(){var e=this,t={};return Object.keys(this.ruleSets_).forEach((function(n){Array.from(e.ruleSets_[n]).forEach((function(o){if(Array.isArray(o))if(1===o.length)e.addRule_(o[0],n,t);else{var r=n;o.slice(0,o.length-1).forEach((function(n,i){var s=o.length-i-1==1?o[0]:JSON.stringify(o.slice(0,o.length-i-1));e.addRule_(JSON.stringify([s,o[o.length-i-1]]),r,t),r=s}))}else e.addRule_(o,n,t)}))})),t}},{key:"getUnitRules_",value:function(e,t,n){for(var o=[],i=e,s=function(e){var n=[];i.forEach((function(e){t[e.rootLHS]&&Array.from(t[e.rootLHS]).filter((function(t){return t!==e.rootLHS})).forEach((function(t){return n.push(new r(t,[e]))}))})),o.push.apply(o,n),i=n},a=0;a<n&&i.length>0;a++)s();return o}},{key:"parseBottomUpCYK",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"statement";if(""===e)return[];Object.values(this.ruleSets_).reduce((function(e,t){return e+t.size}),0);var o=this.lexer_.tokenize(e),s=this.maxPathLengthToTerminalOrSplit_("statement"),a=this.getOppositeRules_();console.warn("TOKEN ARRAY:",o,s.length);for(var l=[o.map((function(e){return Array.from(a[e.value]||[]).concat(e.tokenType).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(t){return new r(t,e.value)}))}))],u=0;u<o.length;u++){var c;(c=l[0][u]).push.apply(c,_toConsumableArray(this.getUnitRules_(l[0][u],a,s.length))),l[0][u]=r.mergeForests(l[0][u])}for(var _=1;_<o.length;_++){for(var p=[],g=0;g<o.length-_;g++){for(var d,f=[],h=0;h<_;h++){var m=Object(i.b)(l[h][g],l[_-1-h][g+h+1]);f.push.apply(f,_toConsumableArray(m))}p.push(r.mergeForests(f.map((function(e){return{lhsides:a[JSON.stringify([e[0].rootLHS,e[1].rootLHS])],rhs:e}})).filter((function(e){return void 0!==e.lhsides})).map((function(e){return Array.from(e.lhsides).map((function(t){return e.rhs[0].rootLHS.startsWith("[")?e.rhs[0].rhsConcat(t,e.rhs[1]):new r(t,e.rhs)}))})).reduce((function(e,t){return e.concat(t)}),[]))),(d=p[g]).push.apply(d,_toConsumableArray(this.getUnitRules_(p[g],a,s.length))),p[g]=r.mergeForests(p[g])}l.push(p)}console.warn("LEVELS",l);var y=l[l.length-1][0].find((function(e){return e.rootLHS===n})),x=y?y.parseTrees(t):[];return console.warn("RESULT",x),x}},{key:"matchLanguageToken_",value:function(e,t){return Object.keys(T2C.MSG).map((function(e){return e.toUpperCase()})).some((function(n){return T2C.MSG[n]&&T2C.MSG[n]["TERMINAL_"+e.toUpperCase()]===t.value}))}},{key:"flattenOneLevel_",value:function(e){return e.reduce((function(e,t){return e.concat(t)}),[])}},{key:"joinEachItemToFront_",value:function(e,t){return this.flattenOneLevel_(t.map((function(t){return e.map((function(e){return[e].concat(t)}))})))}},{key:"getRHSOfTokenMatch_",value:function(e,t){var n=this;return-1!==this.lexer_.isTokenType(e)&&t.tokenType===e||-1!==this.terminals_.indexOf(e)&&Array.from(this.ruleSets_[e]).some((function(e){return e===t.value||n.matchLanguageToken_(e,t)}))?t.value:null}},{key:"isTerminal_",value:function(e){return-1!==this.terminals_.indexOf(e)||this.lexer_.isTokenType(e)}},{key:"parseTopDown",value:function(e){var t=this;console.log(this.ruleSets_);var n=Object.values(this.ruleSets_).reduce((function(e,t){return e+t.size}),0),o=this.lexer_.tokenize(e),r=new Memoizer,i=this.maxPathLengthToTerminalOrSplit_("statement");console.log("ARRAY:",i,i.length,n);console.log("Token Array:",o);var s=r.compute((function e(n,s,a,l){if(0===l||n instanceof Array&&0===n.length||n instanceof Array&&n.length>a-s+1)return[];if("string"==typeof n&&t.isTerminal_(n)){if(s!==a)return[];var u=t.getRHSOfTokenMatch_(n,o[s]);return u?[{lhs:n,rhs:[u]}]:[]}if("string"==typeof n)return t.flattenOneLevel_(Array.from(t.ruleSets_[n]).map((function(t){var o=r.compute(e,[t,s,a,l-1],0);return o.some((function(e){return e.length!==t.length}))?(console.log("throwing out",n,JSON.stringify(o),t),console.log("problem",t,o,o.find((function(e){return e.length!==t.length}))),null):o.map((function(e){return{lhs:n,rhs:e}}))})).filter((function(e){return e})));if(n instanceof Array&&1===n.length){var c=r.compute(e,[n[0],s,a,l]);return c.length>0?c.map((function(e){return[e]})):[]}for(var _=[],p=s;p<a;p++){var g=r.compute(e,[n[0],s,p,i.length]);if(g.length>0){var d=r.compute(e,[n.slice(1),p+1,a,i.length]);d.length>0&&_.push.apply(_,_toConsumableArray(t.joinEachItemToFront_(g,d)))}}return _}),["statement",0,o.length-1,i.length]);return r.clear(),s}}]),e}()},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"getParseTree",(function(){return getParseTree})),__webpack_require__.d(__webpack_exports__,"handleParseTreeToBlocks",(function(){return handleParseTreeToBlocks})),__webpack_require__.d(__webpack_exports__,"parseAndConvertToBlocks",(function(){return parseAndConvertToBlocks}));var _grammar_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),_tokenizer_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_parser_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11),_parse_tree_block_connector_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),_block_interpretations_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5),_block_evaluator_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9),_block_generator_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6),_block_converters_javascript_text_exact_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(10),_block_utility_functions_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(0);Blockly.COLLAPSE_CHARS=200;var isMobile=Blockly.utils.userAgent.MOBILE||Blockly.utils.userAgent.ANDROID||Blockly.utils.userAgent.IPAD,getParseTree=function(e){console.warn("Attempting to parse",e);var t=T2C.MSG&&T2C.MSG.currentLanguage===T2C.MSG.PY?e.replace(/[\r\n]+/g,";"):e,n=shared.parser.parseBottomUpCYK(t,shared.parseTreeBlockConnector)[0];return n&&console.log("Parse Tree:",n),n},handleParseTreeToBlocks=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=shared.evaluator.evaluate(e);console.log("Evaluation: ",o,t),t=t||Object(_block_utility_functions_js__WEBPACK_IMPORTED_MODULE_8__.e)(shared.workspace);var r=Object(_block_generator_js__WEBPACK_IMPORTED_MODULE_6__.a)(o,t,n);return console.log(r),r},parseAndConvertToBlocks=function(e,t){if(console.warn(t.type,t),!this.isCollapsed()&&(e.updateAutocomplete&&e.updateAutocomplete(this.getFieldValue("EXP"),e.OPTIONS,e.shownOPTIONS,(function(e){return console.warn("Parsing Partial",e),shared.parser.parseBottomUpCYK(e,shared.parseTreeBlockConnector).length>0})),this.getFieldValue("AUTOCPLT")&&Object(_block_utility_functions_js__WEBPACK_IMPORTED_MODULE_8__.h)(this,this.getFieldValue("AUTOCPLT")+"\n","EXP"),e.editing&&(this.getFieldValue("EXP").endsWith("\r")||this.getFieldValue("EXP").endsWith("\n"))||e.editing&&"workspaceClick"===t.element)){var n=getParseTree(this.getFieldValue("EXP"));if(n){e.editing=!1;var o=handleParseTreeToBlocks(n,this,!1);shared.workspace.getAllBlocks().filter((function(e){return!e.getParent()&&("code_expression"===e.type||"code_statement"===e.type)})).forEach((function(e){return e.dispose()}));var r=shared.workspace.getAllBlocks().find((function(e){return"code_expression"===e.type||"code_statement"===e.type}));if(r)Object(_block_utility_functions_js__WEBPACK_IMPORTED_MODULE_8__.a)(shared.workspace),r=shared.workspace.getAllBlocks().find((function(e){return"code_expression"===e.type||"code_statement"===e.type})),isMobile||r.getField("EXP").showEditor_();else{console.warn("Replacing block",o);var i=Object(_block_utility_functions_js__WEBPACK_IMPORTED_MODULE_8__.b)(o),s=Object(_block_utility_functions_js__WEBPACK_IMPORTED_MODULE_8__.e)(shared.workspace,"code_statement");i.nextConnection&&Object(_block_utility_functions_js__WEBPACK_IMPORTED_MODULE_8__.i)(i,s),Object(_block_utility_functions_js__WEBPACK_IMPORTED_MODULE_8__.f)(shared.workspace),Object(_block_utility_functions_js__WEBPACK_IMPORTED_MODULE_8__.a)(shared.workspace),s=shared.workspace.getAllBlocks().find((function(e){return"code_statement"===e.type})),isMobile||s.getField("EXP").showEditor_()}}else e.editing&&"workspaceClick"===t.element&&alert("There seems to be a problem with the code you entered.  Check that your spelling is correct, that you use lowercase and capital letters as required, that every open parenthesis ( has a matching closed one ), that you use quotation marks as needed, and other potential issues with syntax.")}},shared=function(){var init=function(){window.addEventListener("DOMContentLoaded",(function(e){if(!document.getElementById("blockly-div").getAttribute("hasWorkspace")){document.getElementById("blockly-div").setAttribute("hasWorkspace",!0),shared.toolbox=document.getElementById("toolbox");var t={toolbox:toolbox,collapse:!0,comments:!1,disable:!1,maxBlocks:1/0,trashcan:!0,horizontalLayout:!0,toolboxPosition:"start",css:!0,media:"https://blockly-demo.appspot.com/static/media/",rtl:!1,scrollbars:!0,sounds:!0,oneBasedIndex:!0,zoom:{controls:!0,startScale:Math.min(window.innerWidth/800,1),minScale:Math.min(window.innerWidth/800,.3)}};shared.workspace=Blockly.inject("blockly-div",t),console.warn(shared.workspace.getWidth()),Object(_block_utility_functions_js__WEBPACK_IMPORTED_MODULE_8__.e)(shared.workspace,"code_statement"),Object(_block_utility_functions_js__WEBPACK_IMPORTED_MODULE_8__.f)(shared.workspace);var n=shared.workspace.getAllBlocks().find((function(e){return"code_statement"===e.type}));isMobile||n.getField("EXP").showEditor_();var o=function(){var e=document.getElementById("language").value;T2C.MSG.currentLanguage=T2C.MSG[e.toUpperCase()],updateToolbox(T2C.MSG.currentLanguage),Blockly.Msg.VARIABLES_SET=T2C.MSG.currentLanguage===T2C.MSG.PY?"%1 = %2":"let %1 = %2;",updateTexts(),Object(_block_utility_functions_js__WEBPACK_IMPORTED_MODULE_8__.f)(shared.workspace||Blockly.getMainWorkspace()),document.getElementById("outputAppearsBelow").innerText=T2C.MSG.currentLanguage.HEADING_OUTPUT_APPEARS_BELOW,document.getElementById("bottomText")&&(document.getElementById("bottomText").innerText=T2C.MSG.currentLanguage.HEADING_BOTTOM_TEXT)};if(window.location&&"string"==typeof window.location.href){var r=window.location.href.indexOf("lang=")+5,i=window.location.href.substring(r,r+2);4!==r&&(document.getElementById("language").value=i,o())}window.addEventListener("resize",(function(){document.getElementById("top-header").style.height=Math.max(.1*window.innerHeight,50)+"px",document.getElementById("all-content").style.height=Math.min(.9*window.innerHeight,window.innerHeight-50)+"px",Blockly.svgResize(shared.workspace)})),document.getElementById("language").addEventListener("change",(function(){o();var e=shared.workspace||Blockly.getMainWorkspace();e.getAllBlocks().forEach(_block_converters_javascript_text_exact_js__WEBPACK_IMPORTED_MODULE_7__.a),Object(_block_utility_functions_js__WEBPACK_IMPORTED_MODULE_8__.f)(e)})),document.getElementById("run-code-button")&&(document.getElementById("run-code-button").addEventListener("click",(function(){document.getElementById("output-container").classList.remove("hide-container"),document.getElementById("output-container").classList.add("show-container"),document.getElementById("consoleDisplay")&&(document.getElementById("consoleDisplay").textContent=""),T2C.MSG.currentLanguage===T2C.MSG.PY&&(T2C.MSG.currentLanguage=T2C.MSG.JS),document.getElementById("textCodeBox").value=runCode(),T2C.MSG.currentLanguage=T2C.MSG[document.getElementById("language").value.toUpperCase()],document.getElementById("xmlData").value=generateXML()})),document.getElementById("save-code-button").addEventListener("click",(function(){document.getElementById("text-code-container").classList.remove("hide-container"),document.getElementById("text-code-container").classList.add("show-container"),document.getElementById("textCodeBox").value=generateCode(),document.getElementById("xmlData").value=generateXML(),document.getElementById("load-save-text-code").textContent=T2C.MSG.currentLanguage.BUTTON_SAVE_TEXT_CODE,document.getElementById("load-save-xml").textContent=T2C.MSG.currentLanguage.BUTTON_SAVE_XML})),document.getElementById("load-code-button").addEventListener("click",(function(){document.getElementById("text-code-container").classList.remove("hide-container"),document.getElementById("text-code-container").classList.add("show-container"),document.getElementById("textCodeBox").value="",document.getElementById("xmlData").value="",document.getElementById("load-save-text-code").textContent=T2C.MSG.currentLanguage.BUTTON_LOAD_TEXT_CODE,document.getElementById("load-save-xml").textContent=T2C.MSG.currentLanguage.BUTTON_LOAD_XML})),document.getElementById("load-save-text-code").addEventListener("click",(function(){if(document.getElementById("load-save-text-code").textContent===T2C.MSG.currentLanguage.BUTTON_LOAD_TEXT_CODE){var e=T2C.MSG.currentLanguage.CONFIRM_CONVERT_TEXT_TO_BLOCKS,t=getParseTree(document.getElementById("textCodeBox").value);t&&confirm(e)?(shared.workspace.clear(),handleParseTreeToBlocks(t)):t||alert("There seems to be a problem with the code you entered.  Check that your spelling is correct, that you use lowercase and capital letters as required, that every open parenthesis ( has a matching closed one ), that you use quotation marks as needed, and other potential issues with syntax.")}else{var n=document.getElementById("textCodeBox").value;navigator.clipboard.writeText(n).then((function(){alert("Code successfully copied to clipboard")}),(function(){document.getElementById("textCodeBox").select(),alert("Code unable to be copied to clipboard.  Please do this manually.")}))}})),document.getElementById("load-save-xml").addEventListener("click",(function(){if(document.getElementById("load-save-xml").textContent===T2C.MSG.currentLanguage.BUTTON_LOAD_XML)generateBlocksFromXML();else{var e=document.getElementById("xmlData").value;navigator.clipboard.writeText(e).then((function(){alert("XML successfully copied to clipboard")}),(function(){document.getElementById("xmlData").select(),alert("XML unable to be copied to clipboard.  Please do this manually.")}))}})),document.getElementById("output-container").addEventListener("click",(function(e){"table-cell"===e.target.className&&(document.getElementById("output-container").classList.remove("show-container"),document.getElementById("output-container").classList.add("hide-container"))})),document.getElementById("text-code-container").addEventListener("click",(function(e){"table-cell"===e.target.className&&(document.getElementById("text-code-container").classList.remove("show-container"),document.getElementById("text-code-container").classList.add("hide-container"))})))}}));var e=new _tokenizer_js__WEBPACK_IMPORTED_MODULE_1__.a(_grammar_js__WEBPACK_IMPORTED_MODULE_0__.b);return{lexer:e,parser:new _parser_js__WEBPACK_IMPORTED_MODULE_2__.a(e,_grammar_js__WEBPACK_IMPORTED_MODULE_0__.a,Object.keys(_block_interpretations_js__WEBPACK_IMPORTED_MODULE_4__.a).concat("statement")),parseTreeBlockConnector:new _parse_tree_block_connector_js__WEBPACK_IMPORTED_MODULE_3__.a,evaluator:new _block_evaluator_js__WEBPACK_IMPORTED_MODULE_5__.a(_block_interpretations_js__WEBPACK_IMPORTED_MODULE_4__.a)}},shared=init();function varsToLets(e){var t=e.indexOf("var")+4,n=e.indexOf(";",t),o=[],r=e;return t>3&&(o=e.substring(t,n).split(", "),r=e.substring(0,t-4)+e.substring(n+1)),o.forEach((function(e){r=r.replace("\n"+e+" = ","\nlet "+e+" = ")})),r.trim()}function generateCode(){var e=T2C.MSG.currentLanguage===T2C.MSG.PY?"Python":"JavaScript";Blockly.Python.tempFinish=Blockly.Python.finish,Blockly.Python.finish=function(e){return e};var t=Blockly[e].workspaceToCode(shared.workspace||Blockly.getMainWorkspace());return Blockly.Python.finish=Blockly.Python.tempFinish,"Python"===e?t:varsToLets(t)}function generateXML(){var e=Blockly.Xml.workspaceToDom(shared.workspace);return Blockly.Xml.domToPrettyText(e)}function generateBlocksFromXML(){var e=shared.workspace||Blockly.getMainWorkspace(),t=document.getElementById("xmlData").value,n=null;try{n=Blockly.Xml.textToDom(t)}catch(e){if(!window.confirm(e))return}n&&(e.clear(),Blockly.Xml.domToWorkspace(n,e)),Blockly.svgResize(e)}function runCode(){var code=generateCode();console.realLog=console.log;try{document.getElementById("consoleDisplay").textContent="",console.log=function(){document.getElementById("consoleDisplay").appendChild(document.createTextNode(Array.prototype.join.call(arguments," ")+"\n"))},eval(code)}catch(e){-1!=e.toString().indexOf("Reference")?alert(e.toString()+"\nMake sure variables are defined before they're used.  This means the variable definition let ____ = ____ needs to appear ABOVE."):alert(e.toString())}return console.log=console.realLog,code}function updateToolbox(e){shared.workspace.updateToolbox(shared.toolbox)}function updateTexts(){document.getElementById("text-code-container").querySelectorAll("textarea").forEach((function(e){e.placeholder=T2C.MSG.currentLanguage[e.name]}))}return shared}()},,,,,,,,,function(e,t,n){n.r(t);var o=n(12),r=n(0),i=function(){function e(t,n){_classCallCheck(this,e),this.taskCondition_=t,this.directions_=n}return _createClass(e,[{key:"areDirectionsCompleted",value:function(){return this.directions_.isComplete()}},{key:"startDirections",value:function(){this.directions_.start()}},{key:"finish",value:function(){this.directions_.finish instanceof Function&&this.directions_.finish()}},{key:"showDirectionStep",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.directions_.animate(e)}},{key:"isTaskCompleted",value:function(){return this.taskCondition_()}}]),e}(),s=function(){function e(t,n){_classCallCheck(this,e),this.obj_=t,this.options_=n}return _createClass(e,[{key:"start",value:function(){this.numOfMoves_=0,this.totalSteps_=this.value_(this.options_.totalSteps),this.startPosition_=this.value_(this.options_.startPosition),this.endPosition_=this.value_(this.options_.endPosition)||{x:this.startPosition_.x+this.value_(this.options_.velocity).x*this.totalSteps_,y:this.startPosition_.y+this.value_(this.options_.velocity).y*this.totalSteps_},this.velocity_={x:(this.endPosition_.x-this.startPosition_.x)/this.totalSteps_,y:(this.endPosition_.y-this.startPosition_.y)/this.totalSteps_},this.obj_.style.left=this.startPosition_.x+"px",this.obj_.style.top=this.startPosition_.y+"px"}},{key:"isComplete",value:function(){return this.numOfMoves_>=this.totalSteps_}},{key:"finish",value:function(){this.options_.finish instanceof Function&&this.options_.finish()}},{key:"animate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=Math.min(e,this.totalSteps_-this.numOfMoves_);this.obj_.style.left=parseFloat(this.obj_.style.left)+this.velocity_.x*t+"px",this.obj_.style.top=parseFloat(this.obj_.style.top)+this.velocity_.y*t+"px",this.numOfMoves_+=e}},{key:"value_",value:function(e){return e instanceof Function?e():e}}]),e}(),a=function(){function e(t,n){_classCallCheck(this,e),this.obj_=t,this.options_=n}return _createClass(e,[{key:"start",value:function(){this.numOfSteps_=0,this.totalSteps_=this.value_(this.options_.totalSteps),this.startPosition_=this.value_(this.options_.startPosition),this.toggleSteps_=this.value_(this.options_.toggleSteps),this.obj_.style.left=this.startPosition_.x+"px",this.obj_.style.top=this.startPosition_.y+"px"}},{key:"isComplete",value:function(){return this.numOfSteps_>=this.totalSteps_}},{key:"animate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=Math.min(e,this.totalSteps_-this.numOfSteps_);this.obj_.style.display=this.numOfSteps_%(2*this.toggleSteps_)<this.toggleSteps_?"none":"block",this.numOfSteps_+=t}},{key:"finish",value:function(){this.obj_.style.display="block",this.options_.finish instanceof Function&&this.options_.finish()}},{key:"value_",value:function(e){return e instanceof Function?e():e}}]),e}(),l=function(){function e(t,n){var o=this;_classCallCheck(this,e),this.options_=n,this.helpButton_=document.createElement("button"),this.helpButton_.innerText="?",this.helpButton_.style.fontSize="x-large",this.helpButton_.style.fontWeight="bold",this.helpButton_.style.borderRadius="5px",this.helpButton_.style.borderColor="#000",this.helpButton_.style.backgroundColor="#ccc",this.helpButton_.style.position="absolute",this.helpButton_.style.zIndex="1050",this.helpButton_.style.minWidth="50px",this.helpButton_.style.minHeight="50px",this.helpButton_.style.textAlign="center",this.helpButton_.addEventListener("click",(function(){alert(o.value_(t))})),this.helpButton_.id="help",this.started_=!1}return _createClass(e,[{key:"start",value:function(){this.startPosition_=this.value_(this.options_.startPosition),this.helpButton_.style.left=this.startPosition_.x+"px",this.helpButton_.style.top=this.startPosition_.y+"px",document.body.appendChild(this.helpButton_),this.started_=!0}},{key:"isComplete",value:function(){return this.started_}},{key:"finish",value:function(){document.body.removeChild(this.helpButton_),this.options_.finish instanceof Function&&this.options_.finish()}},{key:"animate",value:function(){}},{key:"value_",value:function(e){return e instanceof Function?e():e}}]),e}(),u=function(){function e(t){_classCallCheck(this,e),this.animations_=t,this.currentAnimation_=0}return _createClass(e,[{key:"start",value:function(){this.animations_[0].start()}},{key:"isComplete",value:function(){return this.animations_.every((function(e){return e.isComplete()}))}},{key:"finish",value:function(){this.animations_.filter((function(e){return e.finish instanceof Function})).forEach((function(e){return e.finish()}))}},{key:"animate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.animations_[this.currentAnimation_].animate(e),this.animations_[this.currentAnimation_].isComplete()&&(this.currentAnimation_++,this.currentAnimation_<this.animations_.length&&this.animations_[this.currentAnimation_].start())}}]),e}(),c=function(){function e(){_classCallCheck(this,e),this.tasks_=[]}return _createClass(e,[{key:"addTask",value:function(e){this.tasks_.push(e)}},{key:"runTasks",value:function(){var e=this;this.tasks_.length;var t=0,n=0;this.tasks_[0].startDirections();requestAnimationFrame((function o(r){r-n>=5&&(e.tasks_[t].areDirectionsCompleted()||e.tasks_[t].isTaskCompleted()?e.tasks_[t].isTaskCompleted()&&(e.tasks_[t].finish(),++t<e.tasks_.length&&e.tasks_[t].startDirections(),n=r):e.tasks_[t].showDirectionStep(1),n+=5),t<e.tasks_.length&&requestAnimationFrame(o),console.log("Running Task",t)}))}}]),e}();function _(e){return Array.from(document.querySelectorAll("rect")).filter((function(e){return e.getAttribute("fill-opacity")}))[e]}function p(e){e.style.verticalAlign="middle",e.style.color="#000"}function g(){document.getElementById("output-container").classList.remove("show-container"),document.getElementById("output-container").classList.add("hide-container"),document.getElementById("text-code-container").classList.remove("show-container"),document.getElementById("text-code-container").classList.add("hide-container")}Blockly.Python.type_in_display_string_literal=Blockly.JavaScript.type_in_display_string_literal=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_display_string_literal={validate:function(e){var t=Object.values(T2C.MSG).map((function(e){return e.TERMINAL_DISPLAY})).filter((function(e){return"string"==typeof e})).find((function(t){return t.startsWith(e)||e.startsWith(t)})),n=t&&t.length<=e.length&&e.substring(t.length).trim(),o=n&&n.substring(1).trim();return t?n&&n.length&&!n.startsWith("(")?(alert("You're missing an opening parenthesis after "+t),t):!o||o.startsWith('"')||o.startsWith("'")?e:(alert('Make sure the text you want to display is between " and " so the computer just displays it without trying to figure out what you mean!'),t+"("):(alert("Check the spelling, case, and punctuation of what you're entering; it should identically match with "+T2C.MSG.currentLanguage.TERMINAL_DISPLAY),null)},init:function(){var e=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(t){if(e.getFieldValue("EXP").endsWith("\r")||e.getFieldValue("EXP").endsWith("\n")||e.getFieldValue("EXP").length>0&&"workspaceClick"===t.element){if(!e.validate(e.getFieldValue("EXP"))||!e.getFieldValue("EXP").endsWith(")")&&!e.getFieldValue("EXP").endsWith(";"))return;var n=Object(o.getParseTree)(e.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,e):alert("Try checking what you entered again for mistakes.")}}}},Blockly.Python.type_in_welcome_message=Blockly.JavaScript.type_in_welcome_message=Blockly.JavaScript.code_statement,Blockly.Blocks.type_in_welcome_message={validate:function(e){var t=e.trim(),n=t.length?t.substring(1).search(/[^\\]['|"]/)+2:-1,o=n>1?t.substring(0,n):t,r=n>1?t.substring(n+1):t;return t.length?t.startsWith('"')||t.startsWith("'")?n>1&&!"+firstName+".startsWith(r.trim().replace(/\s+\+|\+\s+/g,"+"))&&!r.trim().replace(/\s+\+|\+\s+/g,"+").startsWith("+firstName+")?(alert("Be sure that the variable name firstName appears outside of quotation marks since you want its value, not literally firstName and that you include + before and after it to join the welcome at the beginning and the punctuation mark at the end."),o):e:(alert('Since you will be starting your message with text to be displayed as is such as Welcome, be sure you let the computer know this by surrounding what appears first with " and "'),null):void 0},init:function(){var e=this;this.appendDummyInput("STRING").appendField(new Blockly.FieldTextInput("",this.validate),"EXP"),this.setInputsInline(!1),this.setOutput(!0),this.setPreviousStatement(!1),this.setNextStatement(!1),this.setColour(60),this.setTooltip(T2C.MSG.currentLanguage.TYPEIN_STATEMENT_TOOLTIP),this.onchange=function(t){if(e.getFieldValue("EXP").endsWith("\r")||e.getFieldValue("EXP").endsWith("\n")||e.getFieldValue("EXP").length>0&&"workspaceClick"===t.element){if(!e.validate(e.getFieldValue("EXP")))return;if(e.getFieldValue("EXP").trim().endsWith('"')||e.getFieldValue("EXP").trim().endsWith("'")){var n=Object(o.getParseTree)(e.getFieldValue("EXP"));n?Object(o.handleParseTreeToBlocks)(n,e):alert("Try checking what you entered again for mistakes.")}}}}},window.addEventListener("DOMContentLoaded",(function(){var e=Blockly.getMainWorkspace();e.clear(),e.options.maxInstances={text_print:1,text:1,type_in_display_string_literal:1},e.setScale(1),Object(r.f)(e);var t=Array.from(document.querySelectorAll("rect")).filter((function(e){return e.getAttribute("fill-opacity")})),n=t[0],o=t[1];console.warn("TEXT",o);var d=document.createElement("div");d.innerText="👆",d.id="ptr",d.style.fontSize="x-large",d.style.position="absolute",d.style.zIndex="1001",document.getElementById("blockly-div").appendChild(d);var f="",h=!1,m=!1;function y(e){e.addTask(new i((function(){return document.getElementById("output-container").classList.contains("show-container")}),new u([new l((function(){return T2C.MSG.currentLanguage.BUTTON_RUN_CODE}),{startPosition:{x:document.getElementById("run-code-button").offsetLeft+document.getElementById("run-code-button").offsetWidth,y:document.getElementById("run-code-button").offsetTop+document.getElementById("run-code-button").offsetHeight}}),new a(d,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("run-code-button").offsetLeft+document.getElementById("run-code-button").offsetWidth/2,y:document.getElementById("run-code-button").offsetTop+document.getElementById("run-code-button").offsetHeight/2}})])))}function x(e,t){var n=0;function o(){t.style.color=n%50<25?"#a00":"#000",++n<200&&requestAnimationFrame(o)}e.addTask(new i((function(){return n>=200}),{start:function(){t.style.verticalAlign="top",requestAnimationFrame(o)},isComplete:function(){return!0},animate:function(){return!0}}))}var E=new c;E.addTask(new i((function(){return e.getAllBlocks().find((function(e){return"text_print"===e.type&&Blockly.selected!==e}))}),new s(d,{totalSteps:50,startPosition:{x:n.x.baseVal.value+n.width.baseVal.value/2,y:document.getElementById("top-header").offsetHeight+n.y.baseVal.value+n.height.baseVal.value/2},velocity:{x:0,y:2}}))),E.addTask(new i((function(){return e.getAllBlocks().find((function(e){return"text"===e.type&&e.getParent()&&"text_print"===e.getParent().type}))}),new s(d,{totalSteps:50,startPosition:{x:o.x.baseVal.value+o.width.baseVal.value/2,y:document.getElementById("top-header").offsetHeight+o.y.baseVal.value+n.height.baseVal.value/2},endPosition:function(){var t=e.getAllBlocks().find((function(e){return"text_print"===e.type})),n=t.getBoundingRectangle();return{x:n.left+t.width/2+d.offsetWidth/4,y:document.getElementById("top-header").offsetHeight+n.top+Blockly.getMainWorkspace().getMetrics().flyoutHeight+t.height/2-d.offsetHeight/4}}}))),E.addTask(new i((function(){return e.getAllBlocks().find((function(e){return"text"===e.type&&e.getFieldValue("TEXT")}))}),new u([new l((function(){return T2C.MSG.currentLanguage.TYPE_SOMETHING}),{startPosition:function(){var t=e.getAllBlocks().find((function(e){return"text"===e.type}));return t.getBoundingRectangle(),{x:t.getBoundingRectangle().left+t.width/2+d.offsetWidth,y:document.getElementById("top-header").offsetHeight+t.getBoundingRectangle().top+Blockly.getMainWorkspace().getMetrics().flyoutHeight+t.height+d.offsetHeight}}}),new a(d,{totalSteps:100,toggleSteps:25,startPosition:function(){var t=e.getAllBlocks().find((function(e){return"text"===e.type}));return t.getBoundingRectangle(),{x:t.getBoundingRectangle().left+t.width/2-d.offsetWidth/4,y:document.getElementById("top-header").offsetHeight+t.getBoundingRectangle().top+Blockly.getMainWorkspace().getMetrics().flyoutHeight+t.height/2}}})]))),y(E),x(E,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),E.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔ Congratulations! You just created and ran your first program!"),p(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),g();var t=document.createElement("block");t.setAttribute("type","type_in_display_string_literal"),document.getElementById("toolbox").prepend(t),e.options.maxInstances.type_in_display_string_literal=1,e.updateToolbox(document.getElementById("toolbox"))}})),E.addTask(new i((function(){return e.getAllBlocks().find((function(e){return"text_print"===e.type&&e.getNextBlock()&&"type_in_display_string_literal"===e.getNextBlock().type}))}),new s(d,{totalSteps:150,startPosition:function(){var e=_(0);return console.warn(e),{x:e.x.baseVal.value+e.width.baseVal.value/2,y:document.getElementById("top-header").offsetHeight+n.y.baseVal.value+n.height.baseVal.value/2}},endPosition:function(){var t=e.getAllBlocks().find((function(e){return"text_print"===e.type})),n=t.getBoundingRectangle();return{x:n.left+d.offsetWidth/4,y:document.getElementById("top-header").offsetHeight+n.top+Blockly.getMainWorkspace().getMetrics().flyoutHeight+t.height}}}))),E.addTask(new i((function(){return e.getAllBlocks().find((function(e){return"text_print"===e.type&&e.getNextBlock()&&"text_print"===e.getNextBlock().type&&e.getNextBlock().getInputTargetBlock("TEXT")&&"text"===e.getNextBlock().getInputTargetBlock("TEXT").type}))}),new u([new l((function(){return"Type in code matching above block but with different text to display.  I.e., Type\n"+T2C.MSG.currentLanguage.TEXT_PRINT_TITLE.replace("%1",'"your new message"')+"\nreplacing your new message with whatever you want to display.  Be exact with parentheses, quotation marks, etc.  Tap off the block when you're done."}),{startPosition:function(){var t=e.getAllBlocks().find((function(e){return"type_in_display_string_literal"===e.type}));return t.getBoundingRectangle(),{x:t.getBoundingRectangle().left+t.width/2+d.offsetWidth,y:document.getElementById("top-header").offsetHeight+t.getBoundingRectangle().top+Blockly.getMainWorkspace().getMetrics().flyoutHeight+t.height+d.offsetHeight}}}),new a(d,{totalSteps:200,toggleSteps:50,startPosition:function(){var t=e.getAllBlocks().find((function(e){return"type_in_display_string_literal"===e.type}));return t.getBoundingRectangle(),{x:t.getBoundingRectangle().left,y:document.getElementById("top-header").offsetHeight+t.getBoundingRectangle().bottom+Blockly.getMainWorkspace().getMetrics().flyoutHeight}}})]))),E.addTask(new i((function(){return document.getElementById("output-container").classList.contains("show-container")}),new u([{start:function(){e.options.maxInstances.type_in_display_string_literal=0,e.updateToolbox(document.getElementById("toolbox"))},isComplete:function(){return!0},animate:function(){return!0}},new l((function(){return T2C.MSG.currentLanguage.BUTTON_RUN_CODE}),{startPosition:{x:document.getElementById("run-code-button").offsetLeft+document.getElementById("run-code-button").offsetWidth,y:document.getElementById("run-code-button").offsetTop+document.getElementById("run-code-button").offsetHeight}}),new a(d,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("run-code-button").offsetLeft+document.getElementById("run-code-button").offsetWidth/2,y:document.getElementById("run-code-button").offsetTop+document.getElementById("run-code-button").offsetHeight/2}})]))),x(E,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),E.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔ Awesome! You just typed code for and ran your first program!"),p(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),g(),["variables_get","variables_set"].forEach((function(t){var n=document.createElement("block");n.setAttribute("type",t),document.getElementById("toolbox").prepend(n),e.options.maxInstances[t]=1})),e.updateToolbox(document.getElementById("toolbox"))}})),E.addTask(new i((function(){return e.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getNextBlock()&&"text_print"===e.getNextBlock().type}))}),new s(d,{totalSteps:150,startPosition:function(){var e=_(0);return{x:e.x.baseVal.value+e.width.baseVal.value/2,y:document.getElementById("top-header").offsetHeight+e.y.baseVal.value+e.height.baseVal.value/2}},endPosition:function(){var t=e.getAllBlocks().find((function(e){return"text_print"===e.type})).getBoundingRectangle();return{x:t.left+d.offsetWidth/4,y:document.getElementById("top-header").offsetHeight+t.top+Blockly.getMainWorkspace().getMetrics().flyoutHeight}}}))),E.addTask(new i((function(){return e.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getInputTargetBlock("VALUE")&&"text"===e.getInputTargetBlock("VALUE").type}))}),new s(d,{totalSteps:150,startPosition:function(){var t=e.getAllBlocks().find((function(e){return"text"===e.type})),n=t.getBoundingRectangle();return{x:n.left+t.width/2,y:document.getElementById("top-header").offsetHeight+n.top+t.height/2+Blockly.getMainWorkspace().getMetrics().flyoutHeight}},endPosition:function(){var t=e.getAllBlocks().find((function(e){return"variables_set"===e.type})),n=t.getBoundingRectangle();return{x:n.left+3*t.width/4,y:document.getElementById("top-header").offsetHeight+n.top+t.height/2+Blockly.getMainWorkspace().getMetrics().flyoutHeight}}}))),E.addTask(new i((function(){return e.getAllBlocks().find((function(e){return"text_print"===e.type&&e.getInputTargetBlock("TEXT")&&"variables_get"===e.getInputTargetBlock("TEXT").type}))}),new s(d,{totalSteps:150,startPosition:function(){var e=_(1);return{x:e.x.baseVal.value+e.width.baseVal.value/2,y:document.getElementById("top-header").offsetHeight+e.y.baseVal.value+e.height.baseVal.value/2}},endPosition:function(){var t=e.getAllBlocks().find((function(e){return"text_print"===e.type&&!e.getInputTargetBlock("TEXT")})),n=t.getBoundingRectangle();return{x:n.left+t.width/2+d.offsetWidth/4,y:document.getElementById("top-header").offsetHeight+n.top+t.height/2+Blockly.getMainWorkspace().getMetrics().flyoutHeight}}}))),y(E),x(E,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),E.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("👍 Great!  Notice how the output is the same as before, but in this program, we store one of the lines of text to display in a variable first.  Variables are useful for storing stuff we'll want to use later."),p(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),g();var t=document.createElement("block");t.setAttribute("type","text_input"),document.getElementById("toolbox").prepend(t),e.options.maxInstances.text_input=1,e.updateToolbox(document.getElementById("toolbox"))}})),E.addTask(new i((function(){return e.getAllBlocks().find((function(e){return"variables_set"===e.type&&e.getInputTargetBlock("VALUE")&&"text_input"===e.getInputTargetBlock("VALUE").type}))}),new s(d,{totalSteps:150,startPosition:function(){var e=_(0);return{x:e.x.baseVal.value+e.width.baseVal.value/2,y:document.getElementById("top-header").offsetHeight+e.y.baseVal.value+e.height.baseVal.value/2}},endPosition:function(){var t=e.getAllBlocks().find((function(e){return"variables_set"===e.type})),n=t.getBoundingRectangle();return{x:n.left+3*t.width/4,y:document.getElementById("top-header").offsetHeight+n.top+t.height/2+Blockly.getMainWorkspace().getMetrics().flyoutHeight}}}))),E.addTask(new i((function(){return e.getAllBlocks().find((function(e){return"variables_set"===e.type&&"firstName"===e.getField("VAR").getText()}))}),new u([new l((function(){return"You will be asking the user for his/her first name, and this variable will store it.  Rename the variable:\nfirstName\nThis variable is in camel case, which is a convention in Python and JavaScript.  This means that the first letter of each word after the first is capitalized."}),{startPosition:function(){var t=e.getAllBlocks().find((function(e){return"variables_set"===e.type}));return t.getBoundingRectangle(),{x:t.getBoundingRectangle().left+d.offsetWidth,y:document.getElementById("top-header").offsetHeight+t.getBoundingRectangle().top+Blockly.getMainWorkspace().getMetrics().flyoutHeight+t.height}}}),new a(d,{totalSteps:100,toggleSteps:25,startPosition:function(){var t=e.getAllBlocks().find((function(e){return"variables_set"===e.type}));return t.getBoundingRectangle(),{x:t.getBoundingRectangle().left+d.offsetWidth,y:document.getElementById("top-header").offsetHeight+t.getBoundingRectangle().top+Blockly.getMainWorkspace().getMetrics().flyoutHeight+t.height/2}}})]))),E.addTask(new i((function(){return e.getAllBlocks().find((function(e){return"text"===e.type&&e.getParent()&&"text_input"===e.getParent().type&&(e.getFieldValue("TEXT").toLowerCase().includes("name ")||e.getFieldValue("TEXT").toLowerCase().includes(" name"))}))}),new u([new l((function(){return"This text is the message the user will receive asking for his/her name.  Write a message asking the user for his/her name.  Unlike the variable name which cannot have spaces in most programming languages, the message will be seen by the user and should have spaces.  The variable will store the name your user enters."}),{startPosition:function(){var t=e.getAllBlocks().find((function(e){return"text"===e.type&&e.getParent()&&"text_input"===e.getParent().type}));return t.getBoundingRectangle(),{x:t.getBoundingRectangle().left+t.width/2+d.offsetWidth,y:document.getElementById("top-header").offsetHeight+t.getBoundingRectangle().top+Blockly.getMainWorkspace().getMetrics().flyoutHeight+t.height}}}),new a(d,{totalSteps:100,toggleSteps:25,startPosition:function(){var t=e.getAllBlocks().find((function(e){return"text"===e.type&&e.getParent()&&"text_input"===e.getParent().type}));return t.getBoundingRectangle(),{x:t.getBoundingRectangle().left+t.width/2-d.offsetWidth/4,y:document.getElementById("top-header").offsetHeight+t.getBoundingRectangle().top+Blockly.getMainWorkspace().getMetrics().flyoutHeight+t.height/2}}})]))),y(E),x(E,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),E.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("👍 Cool!  Notice how the output includes what you typed in for your first name.  If you run it again and type in something different, you'll see this different name."),p(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),g();var t=document.createElement("block");t.setAttribute("type","t2c_text_join"),document.getElementById("toolbox").prepend(t),e.options.maxInstances.t2c_text_join=1,e.updateToolbox(document.getElementById("toolbox"))}})),E.addTask(new i((function(){return e.getAllBlocks().find((function(e){return"text_print"===e.type&&e.getInputTargetBlock("TEXT")&&"t2c_text_join"===e.getInputTargetBlock("TEXT").type}))}),new s(d,{totalSteps:150,startPosition:function(){var e=_(0);return{x:e.x.baseVal.value+e.width.baseVal.value/2,y:document.getElementById("top-header").offsetHeight+e.y.baseVal.value+e.height.baseVal.value/2}},endPosition:function(){var t=e.getAllBlocks().find((function(e){return"text_print"===e.type&&e.getInputTargetBlock("TEXT")&&"variables_get"===e.getInputTargetBlock("TEXT").type})),n=t.getBoundingRectangle();return{x:n.left+t.width/2,y:document.getElementById("top-header").offsetHeight+n.top+t.height/2+Blockly.getMainWorkspace().getMetrics().flyoutHeight}}}))),E.addTask(new i((function(){return e.getAllBlocks().find((function(e){return"text_print"===e.type&&e.getInputTargetBlock("TEXT")&&"t2c_text_join"===e.getInputTargetBlock("TEXT").type&&e.getInputTargetBlock("TEXT").getInputTargetBlock("A")&&"text"===e.getInputTargetBlock("TEXT").getInputTargetBlock("A").type}))}),new s(d,{totalSteps:150,startPosition:function(){var t=e.getAllBlocks().find((function(e){return"text"===e.type&&e.getParent()&&"text_print"===e.getParent().type})),n=t.getBoundingRectangle();return{x:n.left+t.width/2,y:document.getElementById("top-header").offsetHeight+n.top+t.height/2+Blockly.getMainWorkspace().getMetrics().flyoutHeight}},endPosition:function(){var t=e.getAllBlocks().find((function(e){return"t2c_text_join"===e.type})),n=t.getBoundingRectangle();return{x:n.left+t.width/4,y:document.getElementById("top-header").offsetHeight+n.top+t.height/2+Blockly.getMainWorkspace().getMetrics().flyoutHeight}}}))),E.addTask(new i((function(){return e.getAllBlocks().find((function(e){return"text_print"===e.type&&e.getInputTargetBlock("TEXT")&&"t2c_text_join"===e.getInputTargetBlock("TEXT").type&&e.getInputTargetBlock("TEXT").getInputTargetBlock("A")&&"text"===e.getInputTargetBlock("TEXT").getInputTargetBlock("A").type&&e.getInputTargetBlock("TEXT").getInputTargetBlock("B")&&"variables_get"===e.getInputTargetBlock("TEXT").getInputTargetBlock("B").type}))}),new s(d,{totalSteps:150,startPosition:function(){var t=e.getAllBlocks().find((function(e){return"variables_get"===e.type})),n=t.getBoundingRectangle();return{x:n.left+t.width/2,y:document.getElementById("top-header").offsetHeight+n.top+t.height/2+Blockly.getMainWorkspace().getMetrics().flyoutHeight}},endPosition:function(){var t=e.getAllBlocks().find((function(e){return"t2c_text_join"===e.type})),n=t.getBoundingRectangle();return{x:n.left+3*t.width/4,y:document.getElementById("top-header").offsetHeight+n.top+t.height/2+Blockly.getMainWorkspace().getMetrics().flyoutHeight}}}))),E.addTask(new i((function(){return 1===e.getAllBlocks().filter((function(e){return"text_print"===e.type})).length}),new s(d,{totalSteps:150,startPosition:function(){var t=e.getAllBlocks().find((function(e){return"text_print"===e.type&&!e.getInputTargetBlock("TEXT")})),n=t.getBoundingRectangle();return{x:n.left+t.width/2,y:document.getElementById("top-header").offsetHeight+n.top+t.height/2+Blockly.getMainWorkspace().getMetrics().flyoutHeight}},endPosition:function(){var t=e.trashcan.getClientRect();return{x:(t.left+t.right)/2,y:(t.top+t.bottom)/2}}}))),y(E),x(E,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),E.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("👍 Great!  Notice how the + was used to concatenate or join together the literal message (in quotes) and the name the user enters (*NOT* in quotes)."),p(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),g();var t=document.createElement("block");t.setAttribute("type","type_in_welcome_message"),document.getElementById("toolbox").prepend(t),e.options.maxInstances.type_in_welcome_message=1,e.updateToolbox(document.getElementById("toolbox"))}})),E.addTask(new i((function(){return 1===e.getAllBlocks().filter((function(e){return"text_print"===e.type})).length&&0===e.getAllBlocks().filter((function(e){return"t2c_text_join"===e.type})).length&&0===e.getAllBlocks().filter((function(e){return"variables_get"===e.type})).length&&1===e.getAllBlocks().filter((function(e){return"text"===e.type})).length}),new s(d,{totalSteps:150,startPosition:function(){var t=e.getAllBlocks().find((function(e){return"t2c_text_join"===e.type})),n=t.getBoundingRectangle();return{x:n.left+t.width/2,y:document.getElementById("top-header").offsetHeight+n.top+t.height/2+Blockly.getMainWorkspace().getMetrics().flyoutHeight}},endPosition:function(){var t=e.trashcan.getClientRect();return{x:(t.left+t.right)/2,y:(t.top+t.bottom)/2}},finish:function(){e.options.maxInstances.t2c_text_join=0,e.options.maxInstances.variables_get=0,e.updateToolbox(document.getElementById("toolbox"))}}))),E.addTask(new i((function(){return e.getAllBlocks().find((function(e){return"text_print"===e.type&&e.getInputTargetBlock("TEXT")&&"type_in_welcome_message"===e.getInputTargetBlock("TEXT").type}))}),new s(d,{totalSteps:150,startPosition:function(){var e=_(0);return{x:e.x.baseVal.value+e.width.baseVal.value/2,y:document.getElementById("top-header").offsetHeight+e.y.baseVal.value+e.height.baseVal.value/2}},endPosition:function(){var t=e.getAllBlocks().find((function(e){return"text_print"===e.type})),n=t.getBoundingRectangle();return{x:n.left+t.width/2,y:document.getElementById("top-header").offsetHeight+n.top+t.height/2+Blockly.getMainWorkspace().getMetrics().flyoutHeight}}}))),E.addTask(new i((function(){var t=e.getAllBlocks().find((function(e){return"text_print"===e.type})),n=t.getInputTargetBlock("TEXT")&&"t2c_text_join"===t.getInputTargetBlock("TEXT").type&&t.getInputTargetBlock("TEXT"),o=n&&n.getInputTargetBlock("A"),r=n&&n.getInputTargetBlock("B");if(!o||!r)return!1;var i="t2c_text_join"===o.type?o.getInputTargetBlock("A"):o,s="t2c_text_join"===o.type?o.getInputTargetBlock("B"):"t2c_text_join"===r.type&&r.getInputTargetBlock("A"),a="t2c_text_join"===r.type?r.getInputTargetBlock("B"):r;return i&&"text"===i.type&&s&&"variables_get"===s.type&&"firstName"===s.getField("VAR").getText()&&a&&"text"===a.type}),new u([new l((function(){return"Write a message to welcome the user with his/her name with punctuation at the end.  To do this type:\n(1) Something like welcome *in quotes* because you want it to be displayed as is.\n(2) + firstName (+ to join text and firstName without the quotes to get the name the user typed in and not literally the text firstName)\n(3) + and a punctuation mark in quotes to tack on a punctuation symbol at the end."}),{startPosition:function(){var t=e.getAllBlocks().find((function(e){return"text_print"===e.type})),n=t.getBoundingRectangle();return{x:n.left+t.width,y:document.getElementById("top-header").offsetHeight+n.top+t.height+Blockly.getMainWorkspace().getMetrics().flyoutHeight}}}),new a(d,{totalSteps:100,toggleSteps:25,startPosition:function(){var t=e.getAllBlocks().find((function(e){return"type_in_welcome_message"===e.type}));return t.getBoundingRectangle(),{x:t.getBoundingRectangle().left+t.width/2,y:document.getElementById("top-header").offsetHeight+t.getBoundingRectangle().top+Blockly.getMainWorkspace().getMetrics().flyoutHeight+t.height/2}},finish:function(){e.options.maxInstances.type_in_welcome_message=0,e.updateToolbox(document.getElementById("toolbox"))}})]))),y(E),x(E,document.getElementById("output-container").querySelectorAll(".table-cell")[0]),E.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔✔ Excellent!  You just wrote a program to welcome the user and along the way you learned some things about variables, getting input from the user, and joining together string literals and variables to produce output.  Mission 0 is just about complete; let's just make sure you can save your work and load it up later!  For extra credit, we'll show you what your code looks in pure JavaScript."),p(document.getElementById("output-container").querySelectorAll(".table-cell")[0]),g(),document.getElementById("load-save-text-code").addEventListener("click",(function(){navigator.clipboard.readText().then((function(e){f=e}))})),document.getElementById("save-code-button").addEventListener("click",(function(){h=!1,m=!0})),document.getElementById("load-code-button").addEventListener("click",(function(){h=!0,m=!1}))}})),E.addTask(new i((function(){return m}),new u([new l((function(){return T2C.MSG.currentLanguage.BUTTON_SAVE_TEXT_CODE}),{startPosition:{x:document.getElementById("save-code-button").offsetLeft+document.getElementById("save-code-button").offsetWidth,y:document.getElementById("save-code-button").offsetTop+document.getElementById("save-code-button").offsetHeight}}),new a(d,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("save-code-button").offsetLeft+document.getElementById("save-code-button").offsetWidth/2,y:document.getElementById("save-code-button").offsetTop+document.getElementById("save-code-button").offsetHeight/2}})]))),E.addTask(new i((function(){return f.replace(/\n|\r/g,"")===document.getElementById("textCodeBox").value.replace(/\n|\r/g,"")}),new u([new l((function(){return T2C.MSG.currentLanguage.BUTTON_SAVE_TEXT_CODE}),{startPosition:function(){return{x:document.getElementById("load-save-text-code").offsetLeft+document.getElementById("load-save-text-code").offsetWidth,y:document.getElementById("load-save-text-code").offsetTop+document.getElementById("load-save-text-code").offsetHeight}}}),new a(d,{totalSteps:100,toggleSteps:25,startPosition:function(){return{x:document.getElementById("load-save-text-code").offsetLeft+document.getElementById("load-save-text-code").offsetWidth/2,y:document.getElementById("load-save-text-code").offsetTop+document.getElementById("load-save-text-code").offsetHeight/2}}})]))),E.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("OK, now that you've copied the code, let's clear the workspace of the blocks and then load it (without reloading the page!) to confirm that everything works.  BE SURE NOT TO overwrite the clipboard until you load the code again or you'll lose your work!"),g()}})),E.addTask(new i((function(){return 0===e.getAllBlocks().length}),new u([new l((function(){return"Move all blocks to the trashcan or rightmouse click (hold down finger on phone) on an empty place in the workspace and select Delete."}),{startPosition:function(){return{x:50,y:document.getElementById("top-header").offsetHeight+Blockly.getMainWorkspace().getMetrics().flyoutHeight+100}}}),new a(d,{totalSteps:100,toggleSteps:25,startPosition:function(){var t=e.trashcan.getClientRect();return{x:(t.left+t.right)/2,y:(t.top+t.bottom)/2}}})]))),E.addTask(new i((function(){return h}),new u([new l((function(){return T2C.MSG.currentLanguage.BUTTON_LOAD_TEXT_CODE}),{startPosition:{x:document.getElementById("load-code-button").offsetLeft+document.getElementById("load-code-button").offsetWidth,y:document.getElementById("load-code-button").offsetTop+document.getElementById("load-code-button").offsetHeight}}),new a(d,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("load-code-button").offsetLeft+document.getElementById("load-code-button").offsetWidth/2,y:document.getElementById("load-code-button").offsetTop+document.getElementById("load-code-button").offsetHeight/2}})]))),E.addTask(new i((function(){return f.replace(/\n|\r/g,"")===document.getElementById("textCodeBox").value.replace(/\n|\r/g,"")}),new u([new l((function(){return"Paste the code you copied in this text box."}),{startPosition:function(){return{x:document.getElementById("textCodeBox").offsetLeft+document.getElementById("textCodeBox").offsetWidth/2,y:document.getElementById("textCodeBox").offsetTop+document.getElementById("textCodeBox").offsetHeight}}}),new a(d,{totalSteps:100,toggleSteps:25,startPosition:function(){return{x:document.getElementById("textCodeBox").offsetLeft+document.getElementById("textCodeBox").offsetWidth/2,y:document.getElementById("textCodeBox").offsetTop+document.getElementById("textCodeBox").offsetHeight/2}}})]))),E.addTask(new i((function(){return 9===e.getAllBlocks().length}),new u([new l((function(){return T2C.MSG.currentLanguage.BUTTON_LOAD_TEXT_CODE}),{startPosition:function(){return{x:document.getElementById("load-save-text-code").offsetLeft+document.getElementById("load-save-text-code").offsetWidth,y:document.getElementById("load-save-text-code").offsetTop+document.getElementById("load-save-text-code").offsetHeight}}}),new a(d,{totalSteps:100,toggleSteps:25,startPosition:function(){return{x:document.getElementById("load-save-text-code").offsetLeft+document.getElementById("load-save-text-code").offsetWidth/2,y:document.getElementById("load-save-text-code").offsetTop+document.getElementById("load-save-text-code").offsetHeight/2}}})]))),E.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("👍 Great! You can also save/load the information about the blocks (XML) from/to the second box.  This will lay out the blocks exactly as you had them in the workspace.  So let's try that now."),g(),document.getElementById("load-save-xml").addEventListener("click",(function(){navigator.clipboard.readText().then((function(e){f=e}))}))}})),E.addTask(new i((function(){return m}),new u([new l((function(){return T2C.MSG.currentLanguage.BUTTON_SAVE_XML}),{startPosition:{x:document.getElementById("save-code-button").offsetLeft+document.getElementById("save-code-button").offsetWidth,y:document.getElementById("save-code-button").offsetTop+document.getElementById("save-code-button").offsetHeight}}),new a(d,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("save-code-button").offsetLeft+document.getElementById("save-code-button").offsetWidth/2,y:document.getElementById("save-code-button").offsetTop+document.getElementById("save-code-button").offsetHeight/2}})]))),E.addTask(new i((function(){return f.replace(/\n|\r/g,"")===document.getElementById("xmlData").value.replace(/\n|\r/g,"")}),new u([new l((function(){return T2C.MSG.currentLanguage.BUTTON_SAVE_XML}),{startPosition:function(){return{x:document.getElementById("load-save-xml").offsetLeft+document.getElementById("load-save-xml").offsetWidth,y:document.getElementById("load-save-xml").offsetTop+document.getElementById("load-save-xml").offsetHeight}}}),new a(d,{totalSteps:100,toggleSteps:25,startPosition:function(){return{x:document.getElementById("load-save-xml").offsetLeft+document.getElementById("load-save-xml").offsetWidth/2,y:document.getElementById("load-save-xml").offsetTop+document.getElementById("load-save-xml").offsetHeight/2}}})]))),E.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("OK, now that you've copied the XML for the blocks, let's clear the workspace of the blocks and then load it (without reloading the page!) to confirm that everything works.  BE SURE NOT TO overwrite the clipboard until you load the code again or you'll lose your work!"),g()}})),E.addTask(new i((function(){return 0===e.getAllBlocks().length}),new u([new l((function(){return"Move all blocks to the trashcan or rightmouse click (hold down finger on phone) on an empty place in the workspace and select Delete."}),{startPosition:function(){return{x:50,y:document.getElementById("top-header").offsetHeight+Blockly.getMainWorkspace().getMetrics().flyoutHeight+100}}}),new a(d,{totalSteps:100,toggleSteps:25,startPosition:function(){var t=e.trashcan.getClientRect();return{x:(t.left+t.right)/2,y:(t.top+t.bottom)/2}}})]))),E.addTask(new i((function(){return h}),new u([new l((function(){return T2C.MSG.currentLanguage.BUTTON_LOAD_XML}),{startPosition:{x:document.getElementById("load-code-button").offsetLeft+document.getElementById("load-code-button").offsetWidth,y:document.getElementById("load-code-button").offsetTop+document.getElementById("load-code-button").offsetHeight}}),new a(d,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("load-code-button").offsetLeft+document.getElementById("load-code-button").offsetWidth/2,y:document.getElementById("load-code-button").offsetTop+document.getElementById("load-code-button").offsetHeight/2}})]))),E.addTask(new i((function(){return f.replace(/\n|\r/g,"")===document.getElementById("xmlData").value.replace(/\n|\r/g,"")}),new u([new l((function(){return"Paste the XML you copied in this text box."}),{startPosition:function(){return{x:document.getElementById("xmlData").offsetLeft+document.getElementById("xmlData").offsetWidth/2,y:document.getElementById("xmlData").offsetTop+document.getElementById("xmlData").offsetHeight}}}),new a(d,{totalSteps:100,toggleSteps:25,startPosition:function(){return{x:document.getElementById("xmlData").offsetLeft+document.getElementById("xmlData").offsetWidth/2,y:document.getElementById("xmlData").offsetTop+document.getElementById("xmlData").offsetHeight/2}}})]))),E.addTask(new i((function(){return 9===e.getAllBlocks().length}),new u([new l((function(){return T2C.MSG.currentLanguage.BUTTON_LOAD_XML}),{startPosition:function(){return{x:document.getElementById("load-save-xml").offsetLeft+document.getElementById("load-save-xml").offsetWidth,y:document.getElementById("load-save-xml").offsetTop+document.getElementById("load-save-xml").offsetHeight}}}),new a(d,{totalSteps:100,toggleSteps:25,startPosition:function(){return{x:document.getElementById("load-save-xml").offsetLeft+document.getElementById("load-save-xml").offsetWidth/2,y:document.getElementById("load-save-xml").offsetTop+document.getElementById("load-save-xml").offsetHeight/2}}})]))),E.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("👍 Excellent! As the last part of this initial exercise, let's see how the blocks look in pure JavaScript."),g()}})),E.addTask(new i((function(){return"js"===document.getElementById("language").value}),new u([new l((function(){return"Select JavaScript and then see what happens to the toolbox and blocks."}),{startPosition:{x:document.getElementById("language").offsetLeft+document.getElementById("language").offsetWidth,y:document.getElementById("language").offsetTop+document.getElementById("language").offsetHeight}}),new a(d,{totalSteps:100,toggleSteps:25,startPosition:{x:document.getElementById("language").offsetLeft+document.getElementById("language").offsetWidth/2,y:document.getElementById("language").offsetTop+document.getElementById("language").offsetHeight/2}})]))),E.addTask(new i((function(){return!0}),{start:function(){return!0},isComplete:function(){return!0},animate:function(){return!0},finish:function(){alert("✔✔✔ Congratulations!  You just completed Mission 0!  In your upcoming missions, you'll begin to solve problems without explicit instructions of how to use the blocks.")}})),E.runTasks()}))}]);